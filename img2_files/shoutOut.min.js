"use strict";define("shoutOut/utils/shoutOutUtils",["lodash","jquery","core"],function(e,t,s){function n(e){return A+e+"/direct#/messages-list"}function i(e){return A+e+"/direct#/messages-list-new"}function a(e){return A+e+"/direct#/template-choose/wix-editor"}function o(e,t){var s=t||"so-template-site-promotion",n=encodeURIComponent("?dl=message&referralInfo=editorSoPanel&tags="+s);return"https://www.wix.com/my-account/sites/"+e+"/app/"+b+"?referralInfo=editorSoPanel&appState="+n}function r(e){var t=encodeURIComponent("?dl=template-choose/wix-editor");return"https://www.wix.com/my-account/sites/"+e+"/app/"+b+"?referralInfo=editorSoPanel&appState="+t}function u(e){var t=encodeURIComponent("?dl=my-shoutouts");return"https://www.wix.com/my-account/sites/"+e+"/app/"+b+"?referralInfo=editorSoPanel&appState="+t}function l(e,s){var n=N+"services/instance?metaSiteId="+e;t.get(n).done(function(e){var n=e?e.instance:null;if(n){var i=N+"messages/counts?instance="+n;t.get(i).done(function(e){s(e&&e.total>0?{isReturning:!0}:{isReturning:!1,openedSo:!0})}).fail(function(){s({isReturning:!1})})}else s({isReturning:!1})}).fail(function(){s({isReturning:!1})})}function p(e){return!(v.gsState.touched||f(e)||!v.userState.isReturning)}function c(e){e.leftBar.notifications.setCount(w,1)}function d(e){e.leftBar.notifications.setCount(w,0),e.getUserPreferences().site.set(T+"/pimpleViewed","true")}function h(e,t){var s=O(e,I);t(s&&s.length>0?!0:!1)}function m(e,t){var s=O(e,I);t(s&&s.length>0?s.length>1?!0:s[0].tpaData?!0:!1:!1)}function g(e){return e.leftBar.notifications.getCount(w)>0}function _(){return!!v.userState&&v.userState.isReturning}function S(){return!!v.userState&&(v.userState.isReturning||v.userState.openedSo)}function f(e){return!!e.getUserPreferences().site.get(T+"/pimpleViewed")}function O(e,t){var s=e.documentServices.tpa.app.getDataByAppDefId(t);return s?e.documentServices.tpa.app.getAllCompsByApplicationId(s.applicationId):[]}function E(e){var t=e.site.get(T+"/in_first_time_tour");return!t||"false"!==t}function P(e,t){h(e,function(s){v.gsState.installed=s,m(e,function(s){v.gsState.touched=s,l(e.site.getMetaSiteId(),function(e){v.userState=e,t()})})})}var T="shoutout",b="135c3d92-0fea-1f9d-2ba5-2a1dfb04297e",I="1375baa8-8eca-5659-ce9d-455b2009250d",A="https://editor.wix.com/shoutout/",N="//editor.wix.com/shoutout/api/",w=s.constants.SUPER_APPS.SHOUTOUT_PANEL_NAME,v={userState:{isReturning:!1,openedSo:!1},gsState:{installed:null,touched:null}};return{appDefId:b,getReturningUserIframeUrl:n,getDirectTemplatesUrl:a,getShoutOutNewMessageUrl:o,getUserState:l,apps:{store:{appId:"1380b703-ce81-ff05-f115-39571d94dfcd"},music:{appId:"13bb5d67-1add-e770-a71f-001277e17c57"},getSubscribers:{appId:I,widgetId:"1375babd-6f2b-87ed-ff19-5778602c8b86"},feed:{widgetId:"141995eb-c700-8487-6366-a482f7432e2b"}},getNewReturningUserIframeUrl:i,getShoutOutTemplatesUrl:r,getMyShoutOutsUrl:u,pimpleShouldAppear:p,setPimpleViewed:d,showPimple:c,isPimpleVisible:g,isUserReturning:_,isUserOpenedSo:S,isUserFirstTimer:E,fetchSoState:P,gs:{isInstalled:function(){return v.gsState.installed},isTouched:function(){return v.gsState.touched}}}}),define("shoutOut/panels/soMenuPanel.rt",["react","lodash","superAppMenuInfra"],function(e,t,s){return function(){return e.createElement(s.superAppPanel,t.assign({},{superApp:this.getSuperApp(),panelClass:"shoutout-panel"},this.filteredProps()))}}),define("shoutOut/utils/bi/shoutOutEvents",[],function(){var e={SHOUTOUT_NEW_MESSAGE:{evid:77,src:36,endpoint:"shout",sampleRatio:0,fields:{context:"string",msid:"guid",origin:"string",package_group:"string",package_id:"string"}},SHOUTOUT_EDITOR_PANEL_OPEN:{evid:89,src:36,endpoint:"shout",sampleRatio:0,fields:{is_first:"bool",msid:"guid"}},SHOUTOUT_EDITOR_PANEL_CLOSE:{evid:90,src:36,endpoint:"shout",sampleRatio:0,fields:{is_first:"bool",type:"string",notification:"string",msid:"guid"}},SIE_WELCOME_PANEL_GET_STARTED_CLICK:{evid:111,src:36,endpoint:"shout",sampleRatio:0,fields:{shoutout_user:"bool",msid:"guid"}},SIE_SHOUTOUT_PANEL_RETURNING_BANNER_VIEW:{evid:112,src:36,endpoint:"shout",sampleRatio:0,fields:{type:"string",msid:"guid"}},SIE_SHOUTOUT_PANEL_RETURNING_BANNER_CLICK:{evid:113,src:36,endpoint:"shout",sampleRatio:0,fields:{type:"string",msid:"guid"}}};return{biEvents:e,registerEvents:function(t){t.documentServices.bi.register("components","event",e)}}}),define("shoutOut/utils/bi/shoutOutBi",["shoutOut/utils/bi/shoutOutEvents"],function(e){return{events:e.biEvents,registerEvents:e.registerEvents}}),define("shoutOut/panels/shoutOutPanel/shoutOutPanel.rt",["react","lodash","util","baseUI","symbols"],function(e,t,s,n,i){return function(){return e.createElement("div",{className:"welcome-slide shoutout-add-panel"},this.state.userState==this.userStates.loading?e.createElement("div",{key:"shoutOutLoadingState",className:"shoutout-loading shoutout-panel-loading"}):null,this.state.userState==this.userStates.firstTime?e.createElement("div",{key:"shoutOutFirstTimeState",className:"shoutout-panel-first-time"},e.createElement("div",{className:"close",onClick:this.onClose},e.createElement(i.symbol,{name:"headerCloseButton",className:"headerCloseButton"})),e.createElement("div",{className:"shoutout-first-time-image",src:this.promotionalImage,alt:"shoutout"},e.createElement("img",{src:this.promotionalImage,alt:"shoutout"})),e.createElement("h1",{className:"title shoutout-first-time-title"},s.translate("SiteApp_ShoutOut_Panel_Title")),e.createElement("div",{className:"sub-title shoutout-first-time-sub-title"},e.createElement("div",{className:"shoutout-first-time-sub-title-line"},s.translate("SiteApp_ShoutOut_Panel_Sub_Title_Get_The_Word")),e.createElement("div",{className:"shoutout-first-time-sub-title-line"},s.translate("SiteApp_ShoutOut_Panel_Sub_Title_Market_Your")," ",s.translate("SiteApp_ShoutOut_Panel_Sub_Title_Send_NewsLetter"))),e.createElement(n.button,{label:"SiteApp_ShoutOut_Panel_Next_button_Label",onClick:this.startNowClick,className:"shoutout-returning-create-new"})):null,this.state.userState==this.userStates.returning?e.createElement("div",{key:"shoutOutReturningState",className:"shoutout-panel-returning"},e.createElement("header",{className:"panel-header light shoutout-returning-header"},e.createElement("span",{className:"panel-header-title"},s.translate("SiteApp_ShoutOut_Common_My_ShoutOuts")),e.createElement("div",{className:"close",onClick:this.onClose},e.createElement(i.symbol,{name:"headerCloseButton",className:"headerCloseButton"}))),e.createElement("iframe",{className:"shoutout-returning-user-iframe",src:this.returningUserIframeUrl(),width:"100%"}),e.createElement("div",{className:"shoutout-returning-footer"},e.createElement(n.button,{label:"SiteApp_ShoutOut_Panel_Returning_New",onClick:this.createNewClick,className:"shoutout-returning-create-new"}))):null)}}),define("shoutOut/panels/shoutOutPanel/shoutOutPanel",["react","core","util","shoutOut/utils/shoutOutUtils","shoutOut/utils/bi/shoutOutBi","shoutOut/panels/shoutOutPanel/shoutOutPanel.rt","tpa"],function(e,t,s,n,i,a){return e.createClass({displayName:"shoutOutPanel",mixins:[t.mixins.editorAPIMixin,s.propTypesFilterMixin,s.postMessageMixin],propTypes:{onClose:e.PropTypes.func.isRequired},promotionalImage:s.media.getMediaUrl("shoutOut/shoutOutPromotional.png"),userStates:{loading:"loading",firstTime:"firstTime",returning:"returning"},returningUserIframeUrl:function(){var e=this.getEditorAPI().site.getMetaSiteId();return n.getReturningUserIframeUrl(e)},getInitialState:function(){return{userState:"none"}},componentDidMount:function(){this._updatedState()},startNowClick:function(){var e="",t=this.getEditorAPI().site.getMetaSiteId();this._newMessageEvent(),e=n.getShoutOutNewMessageUrl(t),window.open(e)},createNewClick:function(){var e=this.getEditorAPI();this._newMessageEvent();var t=this.getEditorAPI().site.getMetaSiteId();e.panelManager.openPanel("panels.focusPanels.shoutOutTemplatesPanel",{frameUrl:n.getDirectTemplatesUrl(t)},!0)},onClose:function(){var e={is_first:this.state.userState===this.userStates.firstTime};this.getEditorAPI().bi.event(i.events.SHOUTOUT_EDITOR_PANEL_CLOSE,e),this.props.onClose()},_newMessageEvent:function(){var e={context:"editor",msid:"guid",origin:"editorShotoutPanel",package_group:"",package_id:""};this.getEditorAPI().bi.event(i.events.SHOUTOUT_NEW_MESSAGE,e)},_updatedState:function(){var e=this.getEditorAPI().site.getMetaSiteId();this.setState({userState:this.userStates.loading}),n.getUserState(e,this._onDone)},_onDone:function(e){var t=e.isReturning?this.userStates.returning:this.userStates.firstTime,s={is_first:!e.isReturning};this.getEditorAPI().bi.event(i.events.SHOUTOUT_EDITOR_PANEL_OPEN,s),this.setState({userState:t})},render:a})}),define("shoutOut/panels/soMenuPanel",["react","lodash","util","shoutOut/utils/shoutOutUtils","shoutOut/panels/soMenuPanel.rt","shoutOut/panels/shoutOutPanel/shoutOutPanel"],function(e,t,s,n,i,a){return e.createClass({displayName:"soMenuPanel",mixins:[s.propTypesFilterMixin],getSuperApp:function(){return{id:"shoutout",appDefId:n.appDefId,appName:"shoutout",firstTimeTour:{templateFlow:[a],manuallyInstalledFlow:[a],promotionalFlow:[a]},panel:{name:"shoutOut.menuPanel",manage:{title:"no_title",helpId:"1",template:a},pages:{title:"no_title",helpId:"1",template:a},addElements:{title:"no_title",helpId:"1",template:a},learnMore:{title:"no_title",helpId:"1",template:a}},upgradeLinkText:"superAppTranslationKeys.upgradeLinkText",isAppInstalled:function(){return!1}}},render:i})}),define("shoutOut/panels/soMenuPanelNew.rt",["react","lodash","superAppMenuInfra"],function(e,t,s){return function(){return e.createElement(s.superAppPanel,{superApp:this.getSuperApp(),panelClass:this.getClass()})}}),define("shoutOut/panels/shoutOutPanel/firstTimeTour.rt",["react","lodash","util","baseUI","symbols"],function(e,t,s,n,i){return function(){function a(t,n){return e.createElement("li",{className:"bullet",key:t},e.createElement("span",{className:"bullet-symbol"},e.createElement(i.symbol,{name:"cyclePickerV",className:"cyclePickerV"})),e.createElement("p",{className:"bullet-text"},s.translate(t)))}return e.createElement("div",{className:"get-started-slide shoutout-first-time-tour"},e.createElement("div",{className:"button",onClick:this.onClose},e.createElement(i.symbol,{name:"headerCloseButton"})),e.createElement("div",{className:"shoutout-first-time-tour-image-container "+t({"shoutout-first-time-tour-image-container-large":this.state.banner.pros.length>3}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement("img",{src:this.firstTimePromoImage,alt:"shoutout"})),e.createElement("h1",{className:"title"},s.translate(this.state.banner.title)),e.createElement("div",{className:"bullets-wrapper"},e.createElement.apply(this,["ul",{className:"tip-bullets"},t.map(this.state.banner.pros,a.bind(this))])),e.createElement(n.button,{label:this.state.banner.action,onClick:this.onNextButtonClick,className:"get-started-add-btn"}))}}),define("shoutOut/panels/shoutOutPanel/firstTimeTour",["react","util","core","shoutOut/panels/shoutOutPanel/firstTimeTour.rt","shoutOut/utils/bi/shoutOutBi","shoutOut/utils/shoutOutUtils"],function(e,t,s,n,i,a){return e.createClass({displayName:"shoutOutFirstTimeTour",mixins:[s.mixins.editorAPIMixin,t.propTypesFilterMixin],render:n,firstTimePromoImage:t.media.getMediaUrl("shoutOut/shoutOutFirstTimeTour.png"),propTypes:{onClose:e.PropTypes.func.isRequired,nextSlide:e.PropTypes.func.isRequired},getInitialState:function(){var e={title:"SiteApp_ShoutOut_First_Time_Heading",pros:["SiteApp_ShoutOut_First_Time_Bullet_Promote","SiteApp_ShoutOut_First_Time_Bullet_Share","SiteApp_ShoutOut_First_Time_Bullet_Subscribers"],action:"SiteApp_ShoutOut_First_Time_Action"};return(a.isUserOpenedSo()||a.isUserReturning())&&(e.title="SiteApp_ShoutOut_First_Time_Opened_Heading",e.pros=["SiteApp_ShoutOut_First_Time_Opened_Bullet_Introduce","SiteApp_ShoutOut_First_Time_Opened_Bullet_Promote","SiteApp_ShoutOut_First_Time_Opened_Bullet_Share","SiteApp_ShoutOut_First_Time_Opened_Bullet_Subscribers"],e.action="SiteApp_ShoutOut_First_Time_Opened_Action"),{banner:e}},onClose:function(){this.props.onClose()},onNextButtonClick:function(){this.getEditorAPI().bi.event(i.events.SIE_WELCOME_PANEL_GET_STARTED_CLICK,{shoutout_user:a.isUserOpenedSo()||a.isUserReturning()}),this.props.nextSlide()}})}),define("shoutOut/panels/shoutOutPanel/addSections/actionsProvider",["tpa","core","shoutOut/utils/shoutOutUtils"],function(e,t,s){function n(e){l=e}function i(s,n,i){e.superApps.addWidget(s,n,i),l.panelManager.closePanelByName(t.constants.SUPER_APPS.SHOUTOUT_PANEL_NAME)}function a(e){i(s.apps.getSubscribers.appId,e.data.widgetId)}function o(e,t){e.width=t.structure.layout.width,e.height=t.structure.layout.height,i(s.apps.getSubscribers.appId,t.structure.data.widgetId,e)}function r(e){i(s.appDefId,e.data.widgetId)}function u(e,t){e.width=t.structure.layout.width,e.height=t.structure.layout.height,i(s.appDefId,t.structure.data.widgetId,e)}var l;return{onGsWidgetDrop:o,onGsWidgetClick:a,onFeedWidgetDrop:u,onFeedWidgetClick:r,init:n}}),define("shoutOut/panels/shoutOutPanel/leftBar/shoutOutMailPanel.rt",["react","lodash","util","symbols"],function(e,t,s,n){return function(){function t(){var t=this.getBanner();return e.createElement("div",{className:"shoutout-email-panel-returning-standard",key:"2938"},e.createElement("div",{className:"shoutout-email-returning-banner-image"},e.createElement("img",{src:t.imageUrl,alt:"shoutout"})),e.createElement("div",{className:"shoutout-email-returning-banner-bottom"},e.createElement("p",{className:"shoutout-email-returning-banner-title"},s.translate(t.titleKey)),e.createElement("button",{onClick:this.bannerActionClick,className:"control-button shoutout-email-returning-banner-action"},s.translate(t.actionKey))))}return e.createElement("div",{className:"shoutout-email-panel"},this.state.userState===this.userStates.loading?e.createElement("div",{className:"shoutout-panel-loading",key:"shoutout-email-panel-loading"}):null,this.state.userState===this.userStates.new?e.createElement("div",{className:"shoutout-panel-new-user",key:"shoutout-email-panel-new-user"},e.createElement("div",{className:"shoutout-new-user-standard"},e.createElement("div",{className:"shoutout-new-user-image"},e.createElement("img",{src:this.newUserPromoImage,alt:"shoutout"})),e.createElement("div",{className:"shoutout-new-user-overlay"},e.createElement("p",{className:"shoutout-new-user-title"},s.translate("SiteApp_ShoutOut_Email_Panel_First_Title")),e.createElement("a",{href:this.getCreateNewUrl(),target:"_blank",className:"control-button shoutout-panel-url-as-button",onClick:this.createNewClick},s.translate("SiteApp_ShoutOut_Email_Panel_First_Create")),e.createElement("button",{onClick:this.viewTemplates,className:"shoutout-panel-button-as-url shoutout-open-templates"},s.translate("SiteApp_ShoutOut_Email_Panel_First_Templates"))))):null,this.state.userState===this.userStates.returning?e.createElement("div",{className:"shoutout-email-panel-returning",key:"shoutout-email-panel-returning"},this.state.gsState.visible?e.createElement("div",{className:"shoutout-email-panel-returning-gs",key:"1357"},e.createElement("div",{className:"first-time-info-box in-header shoutout-new-user-gs-banner"},e.createElement("div",{className:"top-line"},e.createElement("div",{className:"close",onClick:this.closeGsBanner},e.createElement(n.symbol,{name:"firstTimeInfoBoxClose"}))),e.createElement("div",{className:"shoutout-new-user-gs-banner-image"},e.createElement("img",{src:this.newUserGsBannerIcon,alt:"shoutout"}),e.createElement("div",{className:"shoutout-new-user-gs-banner-notification"},"1")),e.createElement("div",{className:"shoutout-new-user-gs-banner-content"},e.createElement("div",{className:"shoutout-new-user-gs-banner-text"},this.state.gsState.installed?s.translate("SiteApp_ShoutOut_Email_Panel_First_Gs_Installed_Banner_Text"):s.translate("SiteApp_ShoutOut_Email_Panel_First_Gs_Banner_Text")),e.createElement("div",{className:"shoutout-new-user-gs-banner-actions"},e.createElement("button",{className:"control-button link no-margin btn-sm btn-text",onClick:this.openGsHelp},e.createElement("span",{},s.translate("add_category_teaser_link")),e.createElement(n.symbol,{className:"arrow",name:"firstTimeInfoBoxArrowRight",key:"learnMoreSymbol"})),!1===this.state.gsState.installed?e.createElement("button",{className:"control-button shoutout-new-user-gs-banner-action",onClick:this.addGsToSiteClick,key:"2629"},s.translate("SiteApp_ShoutOut_Email_Panel_First_Gs_Banner_Action")):null)))):null,this.state.gsState.visible?null:t.apply(this,[]),e.createElement("iframe",{className:"shoutout-email-returning-shoutouts-iframe",src:this.returningUserIframeUrl(),width:"100%"}),e.createElement("a",{href:this.myShoutOutsUrl(),target:"_blank",className:"shoutout-panel-url shoutout-panel-url-my-shoutouts"},s.translate("SiteApp_ShoutOut_Email_Panel_Returning_View_ShoutOuts"))):null)}}),define("shoutOut/panels/shoutOutPanel/leftBar/shoutOutMailPanel",["react","core","util","tpa","shoutOut/utils/shoutOutUtils","shoutOut/utils/bi/shoutOutBi","shoutOut/panels/shoutOutPanel/addSections/actionsProvider","shoutOut/panels/shoutOutPanel/leftBar/shoutOutMailPanel.rt"],function(e,t,s,n,i,a,o,r){function u(){var e={visible:!1,installed:!1,touched:!1};return i.isPimpleVisible(this.getEditorAPI())&&(e.visible=!0,e.installed=i.gs.isInstalled(),e.touched=i.gs.isTouched()),e}function l(){return i.isUserReturning()?this.userStates.returning:this.userStates.new}return e.createClass({displayName:"shoutOutPanel",mixins:[t.mixins.editorAPIMixin,s.propTypesFilterMixin,s.postMessageMixin],propTypes:{},newUserPromoImage:s.media.getMediaUrl("shoutOut/shoutOutNewUser.png"),newUserGsBannerIcon:s.media.getMediaUrl("shoutOut/shoutOutNewUserGrowBannerIcon.png"),metaSiteId:"",userStates:{loading:"loading",new:"new",returning:"returning"},bannerTypes:{generic:"generic",store:"store"},getInitialState:function(){return{userState:l.call(this),gsState:u.call(this)}},componentDidMount:function(){i.isUserReturning()&&this.getEditorAPI().bi.event(a.events.SIE_SHOUTOUT_PANEL_RETURNING_BANNER_VIEW,{type:this.getBanner().type})},myShoutOutsUrl:function(){return i.getMyShoutOutsUrl(this.getEditorAPI().site.getMetaSiteId())},returningUserIframeUrl:function(){return i.getNewReturningUserIframeUrl(this.getEditorAPI().site.getMetaSiteId())},createNewClick:function(){var e={context:"editor",msid:"guid",origin:"editorShotoutPanel",package_group:"",package_id:""};this.getEditorAPI().bi.event(a.events.SHOUTOUT_NEW_MESSAGE,e)},getCreateNewUrl:function(){return i.getShoutOutNewMessageUrl(this.getEditorAPI().site.getMetaSiteId())},getBanner:function(){var e={type:this.bannerTypes.generic,templatesUrl:i.getShoutOutTemplatesUrl(this.getEditorAPI().site.getMetaSiteId()),imageUrl:s.media.getMediaUrl("shoutOut/shoutOutReturningUserBannerGeneric.png"),titleKey:"SiteApp_ShoutOut_Email_Panel_Returning_Title",actionKey:"SiteApp_ShoutOut_Email_Panel_Returning_Create"};return n.superApps.isInstalled(i.apps.store.appId)&&(e.type=this.bannerTypes.store,e.imageUrl=s.media.getMediaUrl("shoutOut/shoutOutReturningUserBannerStore.png"),e.titleKey="SiteApp_ShoutOut_Email_Panel_Returning_Store_Title",e.actionKey="SiteApp_ShoutOut_Email_Panel_Returning_Store_Create"),e},viewTemplates:function(){this.getEditorAPI().panelManager.openPanel("panels.focusPanels.shoutOutTemplatesPanel",{frameUrl:i.getDirectTemplatesUrl(this.getEditorAPI().site.getMetaSiteId())},!0)},addGsToSiteClick:function(){o.onGsWidgetClick({data:{widgetId:i.apps.getSubscribers.widgetId}})},closeGsBanner:function(){this.setState({gsState:{visible:!1}})},openGsHelp:function(){var e=this.getEditorAPI(),s={origin:t.constants.SUPER_APPS.SHOUTOUT_PANEL_NAME,component:"shoutoutGs",learn_more:!0};e.panelManager.openHelpCenter("012fc8f2-e84b-4bfb-b419-2f76bacc03aa",null,s)},bannerActionClick:function(){this.viewTemplates(),this.getEditorAPI().bi.event(a.events.SIE_SHOUTOUT_PANEL_RETURNING_BANNER_CLICK,{type:this.getBanner().type})},render:r})}),define("shoutOut/panels/shoutOutPanel/leftBar/shoutOutFeedPanel.rt",["react","lodash","util","symbols"],function(e,t,s,n){return function(){function i(){var i=this.props.superApp.panel.addElements,a=this.isMobile(),o=this.getEditorAPI().addPanelInfra.categoryView;return e.createElement("div",{className:"super-app-add-elements-panel category-view-wrapper"},a?null:e.createElement(o,t.assign({},{key:"categoryView",teaser:this.getTeaser(),origin:"vertical_button",items:this.getSections()},this.getCategoryViewProps())),a?e.createElement("div",{className:"super-app-mobile-view",key:"mobileView"},e.createElement(n.symbol,{name:this.props.superApp.panel.addElements.mobileImage}),e.createElement("p",{className:"bigger-text"},s.translate(i.disabledInMobileMessageTitle)),e.createElement("p",{},"\n            ",s.translate(i.disabledInMobileMessageDescription)," ",e.createElement("a",{onClick:this.goToDesktop},s.translate(i.disabledInMobileMessageDescriptionLink)))):null)}return i.apply(this,[])}}),define("shoutOut/panels/shoutOutPanel/leftBar/shoutOutFeedPanel",["lodash","react","core","util","shoutOut/panels/shoutOutPanel/leftBar/shoutOutFeedPanel.rt"],function(e,t,s,n,i){return t.createClass({displayName:"superAppAddElementsPanel",mixins:[s.mixins.editorAPIMixin,n.dragToStageMixin],propTypes:{onChangeStateOnInnerNavigationOpen:t.PropTypes.func.isRequired,superApp:t.PropTypes.shape({panel:{addElements:t.PropTypes.object},extraTabs:t.PropTypes.array}).isRequired},getInitialState:function(){return{firstTimeInfoBoxHeight:0}},isMobile:function(){return this.getEditorAPI().viewMode.get()===this.getEditorAPI().documentServices.viewMode.VIEW_MODES.MOBILE},getSections:function(){return this.props.superApp.extraTabs[0].sections},getTeaser:function(){return this.props.superApp.extraTabs[0].teaser},getCategoryViewProps:function(){var t=e.cloneDeep(this.props);return e.assign(t,{changeStateOnInnerNavigationOpen:this.props.onChangeStateOnInnerNavigationOpen,firstTimeInfoBoxHeight:this.state.firstTimeInfoBoxHeight,onItemDrag:this.startItemDrag})},goToDesktop:function(){this.getEditorAPI().setDesktopEditor()},render:i})}),define("shoutOut/panels/shoutOutPanel/addSections/subscribe",["addPanelDataConsts","shoutOut/utils/shoutOutUtils","shoutOut/panels/shoutOutPanel/addSections/actionsProvider"],function(e,t,s){return{type:e.SECTIONS_TYPES.PRESET,hide:!1,title:"SiteApp_ShoutOut_Panels_Subscribe_Add_Title",showSectionHeader:!0,additionalBehaviours:{labelMode:e.LABEL_BEHAVIOUR.NONE,infoIcon:e.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:e.HOVER_IMAGE_ACTIONS.NONE,scaleProportion:e.DEFAULT_SCALE_FOR_PRESET,iconEnabledForComps:[]},props:{image:"shoutOut/shoutOutSectionGetSub.png",imageHover:null,onDrop:s.onGsWidgetDrop,onClick:s.onGsWidgetClick,items:[{id:"shoutout_get_subscribers_main",structure:{skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:500,height:126,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},applicationId:"16",widgetId:t.apps.getSubscribers.widgetId},style:{type:"TopLevelStyle",id:"tpaw0",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{groups:{},properties:{},propertiesSource:{}},componentClassName:"",pageId:"",compId:"",styleType:"system",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"}},preset:{rect:{width:436,height:134,x:0,y:0},label:""}}],compTypes:["wysiwyg.viewer.components.tpapps.TPAWidget"]},help:{hide:!1,text:"SiteApp_ShoutOut_Panels_Subscribe_Add_Tooltip"}}}),define("shoutOut/panels/shoutOutPanel/addSections/feed",["addPanelDataConsts","shoutOut/utils/shoutOutUtils","shoutOut/panels/shoutOutPanel/addSections/actionsProvider"],function(e,t,s){return{type:e.SECTIONS_TYPES.PRESET,hide:!1,title:"SiteApp_ShoutOut_Panels_Feed_Add_Title",showSectionHeader:!0,additionalBehaviours:{labelMode:e.LABEL_BEHAVIOUR.NONE,infoIcon:e.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:e.HOVER_IMAGE_ACTIONS.NONE,scaleProportion:e.DEFAULT_SCALE_FOR_PRESET,iconEnabledForComps:[]},props:{image:"shoutOut/shoutOutSectionFeed.png",imageHover:null,onDrop:s.onFeedWidgetDrop,onClick:s.onFeedWidgetClick,items:[{id:"shoutout_get_feed_main",structure:{skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:420,height:280,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},applicationId:"16",widgetId:t.apps.feed.widgetId},style:{type:"TopLevelStyle",id:"tpaw0",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{groups:{},properties:{},propertiesSource:{}},componentClassName:"",pageId:"",compId:"",styleType:"system",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"}},preset:{rect:{width:435,height:286,x:0,y:0},label:""}}],compTypes:["wysiwyg.viewer.components.tpapps.TPAWidget"]},help:{hide:!1,text:"SiteApp_ShoutOut_Panels_Feed_Add_Tooltip"}}}),define("shoutOut/panels/soMenuPanelNew",["react","core","shoutOut/utils/shoutOutUtils","shoutOut/utils/bi/shoutOutBi","shoutOut/panels/soMenuPanelNew.rt","shoutOut/panels/shoutOutPanel/firstTimeTour","shoutOut/panels/shoutOutPanel/leftBar/shoutOutMailPanel","shoutOut/panels/shoutOutPanel/leftBar/shoutOutFeedPanel","shoutOut/panels/shoutOutPanel/addSections/subscribe","shoutOut/panels/shoutOutPanel/addSections/feed"],function(e,t,s,n,i,a,o,r,u,l){function p(){var e="none";s.gs.isInstalled()?s.gs.isTouched()||(e="gsNotTouched"):e="gsNotInstalled",this.getEditorAPI().bi.event(n.events.SHOUTOUT_EDITOR_PANEL_OPEN,{type:"Email",notification:e})}var c={id:"shoutout",appDefId:s.appDefId,appName:"shoutout",firstTimeTour:{templateFlow:[a],manuallyInstalledFlow:[a],promotionalFlow:[a]},panel:{name:"shoutOut.menuPanel",manage:{title:"SiteApp_ShoutOut_Panels_Email_Title",helpId:"b4bf9ded-bf71-412b-889f-8586727adc24",template:o},pages:{title:"to-hide",helpId:"1",template:o},addElements:{title:"SiteApp_ShoutOut_Panels_Subscribe_Title",helpId:"012fc8f2-e84b-4bfb-b419-2f76bacc03aa",sections:[u],teaser:{id:"category_shoutout_get_subscribers_teaser",hide:!1,title:"SiteApp_ShoutOut_GsTeaser_Title",text:"SiteApp_ShoutOut_GsTeaser_Text",linkText:"true",helpId:"afc595d9-3b30-4d59-ac61-4ad3d7c2777d"}},learnMore:{title:"to-hide",helpId:"1",template:o}},extraTabs:[{title:"SiteApp_ShoutOut_Panels_Feed_Title",helpId:"c6b8ccb7-47bf-4045-ba36-21c44ce3111d",template:r,isDynamicHeight:!0,index:4,teaser:{id:"category_shoutout_feed_teaser",hide:!1,title:"SiteApp_ShoutOut_FeedTeaser_Title",text:"SiteApp_ShoutOut_FeedTeaser_Text"},sections:[l]}],upgradeLinkText:"superAppTranslationKeys.upgradeLinkText",isAppInstalled:function(){return!0}};return e.createClass({displayName:"soMenuPanel",mixins:[t.mixins.editorAPIMixin],componentWillUnmount:function(){s.isPimpleVisible(this.getEditorAPI())&&s.setPimpleViewed(this.getEditorAPI())},componentDidMount:function(){p.call(this)},getClass:function(){return"shoutout-panel shoutout-panel-new"},getSuperApp:function(){return c},render:i})}),define("shoutOut",["core","superAppMenuInfra","shoutOut/panels/soMenuPanel","shoutOut/panels/soMenuPanelNew","shoutOut/panels/shoutOutPanel/addSections/actionsProvider","shoutOut/utils/shoutOutUtils","experiment"],function(e,t,s,n,i,a,o){return{onPreviewReady:function(s){function n(e){t.button.registerButton(s,r,u,l,p,c,d,h,e),g=!0,o.isOpen("shoutOutNewFlow")&&s.registerInitUserPrefsCallback(function(){a.fetchSoState(s,function(){!a.isUserFirstTimer(s.getUserPreferences())&&a.pimpleShouldAppear(s)&&a.showPimple(s)})})}var r="shoutout",u=!0,l=e.constants.SUPER_APPS.SHOUTOUT_PANEL_NAME,p="SiteApp_ShoutOut_Button_Hover_Caption",c="SiteApp_ShoutOut_Button_Hover_Caption",d="shoutout-panel",h="shoutOutLeftBarIcon",m=function(){g||n(!0)},g=!1;s.documentServices.generalInfo.isSitePublished()?n(!1):s.registerSitePublishedCallbacks(m),i.init(s)},menuPanel:o.isOpen("shoutOutNewFlow")?n:s}});
//# sourceMappingURL=shoutOut.min.js.map