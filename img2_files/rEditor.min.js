"use strict";define("rEditor/rootComps/keyboard/config/topContextShortcuts",["lodash"],function(e){var t=function(e){e.preventDefault()},o={esc:t,"ctrl + t, command + t":t,"ctrl + y, command + y":t,"ctrl + d, command + d":t,"ctrl + s, command + s":t,"ctrl + ], command + ]":t,"ctrl + [, command + [":t,"ctrl + shift + ], command + shift + ]":t,"ctrl + shift + [, command + shift + [":t,backspace:t,"ctrl + left, command + left":t,"ctrl + right, command + right":t,"ctrl + shift + left, command + shift + left":t,"ctrl + shift + right, command + shift + right":t,"ctrl + m, command + m":t,"ctrl + shift + m, command + shift + m":t};return{init:e.once(e.noop),shortcuts:o}}),define("rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap",["core"],function(e){var t=e.constants.KEYBOARD_SPECIAL_KEY.value,o=e.constants.KEYBOARD_SPECIAL_KEY.label;return{editor:{SELECT_ALL:{key:t+" + a",label:""},GROUP_COMPONENTS:{key:t+" + g",label:""},UNGROUP_COMPONENTS:{key:t+" + shift + g",label:""},COPY:{key:t+" + c",label:o+" + C"},PASTE:{key:t+" + v",label:o+" + V"},APPLY_MODE:{key:t+" + shift + v",label:o+" + Shift + V"},CUT:{key:t+" + x",label:o+" + X"},DUPLICATE:{key:t+" + d",label:o+" + D"},UNDO:{key:t+" + z",label:o+" + Z"},REDO:{key:[t+" + y",t+" + shift + z"].join(","),label:o+" + Y"},DELETE:{key:["del","backspace"].join(","),label:"Del"},SAVE:{key:t+" + s",label:o+" + S"},SAVE_AS_TEMPLATE:{key:t+" + alt + t",label:""},SELECT_NEXT_COMP:{key:t+" + m",label:""},SELECT_PREV_COMP:{key:t+" + shift + m",label:""},CLOSE_PANELS:{key:"esc",label:""},MOVE_RIGHT:{key:"right",label:""},SHIFT_RIGHT:{key:"shift + right",label:""},MOVE_LEFT:{key:"left",label:""},SHIFT_LEFT:{key:"shift + left",label:""},MOVE_UP:{key:"up",label:""},SHIFT_UP:{key:"shift + up",label:""},MOVE_DOWN:{key:"down",label:""},SHIFT_DOWN:{key:"shift + down",label:""},SEND_FORWARD:{key:t+" + right",label:o+" + →"},SEND_TO_FRONT:{key:t+" + shift + right",label:o+" + Shift + →"},SEND_BACKWARD:{key:t+" + left",label:o+" + ←"},SEND_TO_BACK:{key:t+" + shift + left",label:o+" + Shift + ←"},TOGGLE_MOBILE:{key:t+" + j",label:o+" + j"},TOGGLE_PREVIEW:{key:t+" + p",label:o+" + P"},PUBLISH_SITE:{key:t+" + shift + p",label:o+" + Shift + P"},HIDE_TOOLS:{key:"shift + f",label:"Shift + F"},TOGGLE_RULERS:{key:"shift + r",label:"Shift + R"},PLATFORM_APP_CONFIGURATION:{key:t+"+ shift + e",label:o+"+ shift + e"},ADD_APPLICATIVE_MODE:{key:t+"+ shift + a",label:o+"+ shift + e"}},preview:{EXIT_PREVIEW:{key:"esc",label:""},TOGGLE_MOBILE:{key:t+" + j",label:o+" + j"},TOGGLE_PREVIEW:{key:t+" + p",label:o+" + P"},PUBLISH_SITE:{key:t+" + shift + p",label:o+" + Shift + P"}},topBar:{CLOSE_DROP_PANEL:{key:"esc",label:""}},imageCrop:{APPLY:{key:"enter",label:"Enter"},CANCEL:{key:"esc",label:"Esc"}}}}),define("rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions",["lodash","core","util","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","editorHints","experiment","helpIds","multilingual"],function(e,t,o,n,i,a,r,s){function l(t,o,n){e.invoke(f,"documentServices.generalInfo.isFirstSave")?f.panelManager.openPanel(h,{title:o,messageBody:n},!0):t()}function c(t,o,n,i){var a=i?e.cloneDeep(o):o;a.fields.status=t?1:0,i&&a.fields.category&&(a.fields.category+=i),f.bi.event(a.type,a.fields),n.call(f)}function p(e,o){var n={panel_name:o||null,origin:t.constants.BI.HELP.ORIGIN.TOPBAR,learn_more:!1};f.panelManager.openHelpCenter(e,null,n)}function d(){var d=f.account.getEditorVersionsInfo()||{},h={SITE_BAR:{label:a.isOpen("us_topbarHacks")?"Settings":o.translate("TOPBAR_Site_Label"),bi:{type:t.bi.events.topbar.top_bar_click,fields:{category:"site"}},getCounter:function(){if(!u())return g()},hintProps:{id:"SiteMenuBar"},hintContainerId:i.hintsContainers.TOP_BAR_SITE_MENU_PANEL},EDIT_BAR:{label:o.translate("TOPBAR_Edit_Label"),bi:{type:t.bi.events.topbar.top_bar_click,fields:{category:"edit"}}},VIEW_BAR:{label:o.translate("Topbar_Tools_Label"),bi:{type:t.bi.events.topbar.top_bar_click,fields:{category:"view"}},hintProps:{id:"ToolsMenuBar"},hintContainerId:i.hintsContainers.TOP_BAR_TOOLS_MENU_PANEL},SETTINGS:{action:function(){l(function(){f.bi.event(t.bi.events.topbar.top_bar_open_settings_click),f.account.openSettings()},"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE","TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_BODY")},label:a.isOpen("us_topbarHacks")?o.translate("TOPBAR_Site_Label"):o.translate("TOPBAR_Settings_Label"),bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"settings"}},hintProps:{id:"SiteSettings"}},HELP_BAR:{label:o.translate("TOPBAR_HELP_TOOLTIP_TITLE"),bi:{type:t.bi.events.topbar.top_bar_click,fields:{category:"help"}},hintProps:{id:"Help"}},HELP_CENTER:{label:o.translate("TOPBAR_HELP_EDITOR_HELP"),action:function(){var e=a.isOpen("developerModeToggle"),t=e?r.HELP_CENTER.WIXCODE_DESKTOP_HELP_ITEM:r.HELP_CENTER.DESKTOP_HELP_ITEM,o=e?r.HELP_CENTER.WIXCODE_MOBILE_HELP_ITEM:r.HELP_CENTER.MOBILE_HELP_ITEM;p(f.isDesktopEditor()?t:o,b.EDITOR)},bi:{type:t.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"help_center"}}},HELP_VIDEOS:{label:o.translate("TOPBAR_HELP_HOWTO_VIDEOS"),action:function(){f.panelManager.openPanel("panels.focusPanels.howToVideoGalleryPanel")},bi:{type:t.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"help_videos"}}},HELP_KB_SHORTCUTS:{separator:!0,label:o.translate("TOPBAR_HELP_KB_SHORTCUTS"),action:function(){p("5a3238e6-ebe9-4aca-a7a2-1c717598e334",b.KEYBOARD_SHORTCUTS)},bi:{type:t.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"help_kb_shortcuts"}}},HELP_CONNECT_DOMAIN:{label:o.translate("TOPBAR_HELP_CONNECT_DOMAIN"),action:function(){p("a06941d9-7683-4ced-bce3-bd2cc3c7d6e9",b.CONNECT_DOMAIN)},bi:{type:t.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"help_connect_domain"}}},HELP_SEO:{separator:!0,label:o.translate("TOPBAR_HELP_SEO"),action:function(){p("ab2c2a83-5bc0-435e-ab82-f2c1036580a7",b.SEO)},bi:{type:t.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"help_seo"}}},TERMS_OF_USE:{label:o.translate("TOPBAR_HELP_TERMS_OF_USE"),action:function(){var e=o.serviceTopology.basePublicUrl+"about/terms-of-use",t=o.languages.getLocalizedLink(e);window.open(t)},bi:{type:t.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"terms_of_use"}}},PRIVACY_POLICY:{label:o.translate("TOPBAR_HELP_PRIVACY_POLICY"),action:function(){var e=o.serviceTopology.basePublicUrl+"about/privacy",t=o.languages.getLocalizedLink(e);window.open(t)},bi:{type:t.bi.events.topbar.top_bar_HELP_menu_click,fields:{category:"privacy_policy"}}},SAVE:{label:o.translate("TOPBAR_Site_Save"),action:function(){f.saveManager.save({origin:"top_bar_site_menu"})},bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"save"}}},VIEW_SITE:{label:o.translate("TOPBAR_SITE_VIEWSITE"),action:function(){if(!h.VIEW_SITE.disabledChecker()){var e=f.site.getSitePublicUrl();return window.open(e),!0}return!1},disabledChecker:function(){return!(f&&f.documentServices&&f.documentServices.generalInfo&&f.documentServices.generalInfo.isSitePublished())},bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"view_site"}}},PREVIEW:{label:o.translate("TOPBAR_PREVIEW_TOOLTIP_TITLE"),action:f.preview.togglePreview,bi:[{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"preview"}},{type:t.bi.events.preview.PREVIEW_CLICK,fields:{origin:"menubar"}}]},FEEDBACK:{label:o.translate("TOPBAR_GetFeedback_Label"),action:function(){l(f.panelManager.openPanel.bind(null,"panels.focusPanels.feedbackPanel"),"TOPBAR_SITE_FEEDBACK_SAVE_FIRST_MSG_TITLE","TOPBAR_SITE_FEEDBACK_SAVE_FIRST_MSG_BODY")},getCounter:g,bi:[{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"feedback"}},{type:t.bi.events.preview.PREVIEW_CLICK,fields:{origin:"menubar"}}],visibilityFunc:function(){return!m()&&f.account.isUserOwner()},hintProps:{id:"GetFeedback"}},GET_TRAFFIC:{label:o.translate("TOPBAR_GetTraffic_Label"),action:function(){return!h.GET_TRAFFIC.disabledChecker()&&(f.panelManager.openPanel("panels.focusPanels.getTrafficPanel",{title:"TOPBAR_SITE_FEEDBACK_SAVE_FIRST_MSG_TITLE",messageBody:"TOPBAR_SITE_FEEDBACK_SAVE_FIRST_MSG_BODY"},!0),!0)},bi:[{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"get_traffic"}}],disabledChecker:function(){return!(f&&f.documentServices&&f.documentServices.generalInfo&&f.documentServices.generalInfo.isSitePublished())},visibilityFunc:function(){return!e.result(f,"account.isWixSEOWizExperimentOpen")}},GO_TO_SEO_WIZ:{label:o.translate("TOPBAR_GetTraffic_New_Label"),action:function(){f.account.openWixSEOWiz("EDITOR_MENU")},bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"get_traffic"}},visibilityFunc:function(){return e.result(f,"account.isWixSEOWizExperimentOpen")}},PUBLISH:{label:o.translate("TOPBAR_Site_Publish"),action:function(){h.PUBLISH.disabledChecker()||f.publishManager.saveAndPublish("top_bar_site_menu_publish")},disabledChecker:function(){return!f.savePublish.canUserPublish()},bi:[{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"publish"}},{type:t.bi.events.publish.PUBLISH_CLICK,fields:{origin:"menubar"}}]},EDITOR_MODE_SWITCH:{separator:!0,labelFunc:function(){return f&&f.isMobileEditor()?o.translate("Topbar_Site_Desktop_Editor"):o.translate("Topbar_Site_Mobile_Editor")},action:function(){f.setEditorMode(!f.isMobileEditor())},bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"editor_mode_switch"}}},REVISIONS:{label:o.translate("TOPBAR_Site_Site_Revisions"),action:function(){l(f.account.openRevisions,"TOPBAR_SITE_HISTORY_SAVE_FIRST_MSG_TITLE","TOPBAR_SITE_HISTORY_SAVE_FIRST_MSG_BODY")},bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"revisions"}},hintProps:{id:"SiteHistory"}},SITE_DASHBOARD:{label:o.translate("TOPBAR_SITE_DASHBOARD"),action:function(){l(f.account.manage,"TOPBAR_SITE_SETTINGS_SAVE_FIRST_MSG_TITLE","TOPBAR_SITE_DASHBOARD_SAVE_FIRST_MSG_BODY")},bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"site_dashboard"}}},EXIT:{label:o.translate("TOPBAR_Site_Logout"),action:f.exitEditor,bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"logout"}}},UNDO:{label:o.translate("TOPBAR_Edit_Undo"),shortcutLabel:n.editor.UNDO.label,action:f.history.undo,bi:{type:t.bi.events.topbar.top_bar_EDIT_menu_click,fields:{category:"undo"}}},REDO:{label:o.translate("TOPBAR_Edit_Redo"),shortcutLabel:n.editor.REDO.label,action:f.history.redo,bi:{type:t.bi.events.topbar.top_bar_EDIT_menu_click,fields:{category:"redo"}}},CUT:{label:o.translate("TOPBAR_Edit_Cut"),shortcutLabel:n.editor.CUT.label,compActionRestrictionNames:["duplicatable","removable"],action:function(){f.selectedComponent.sendSelectedComponentBI(t.bi.events.topbar.top_bar_EDIT_menu_click,{category:"cut"}),f.selectedComponent.cut(),f.history.add("component - cut")}},COPY:{label:o.translate("TOPBAR_Edit_Copy"),shortcutLabel:n.editor.COPY.label,compActionRestrictionNames:["duplicatable"],action:function(){f.selectedComponent.sendSelectedComponentBI(t.bi.events.topbar.top_bar_EDIT_menu_click,{category:"copy"}),f.selectedComponent.copy()}},PASTE:{label:o.translate("TOPBAR_Edit_Paste"),shortcutLabel:n.editor.PASTE.label,compActionRestrictionNames:["duplicatable"],action:function(){f.copyPaste.paste(),f.history.add("component - paste")},bi:{type:t.bi.events.topbar.top_bar_EDIT_menu_click,fields:{category:"paste"}}},DUPLICATE:{label:o.translate("TOPBAR_Edit_Duplicate"),shortcutLabel:n.editor.DUPLICATE.label,compActionRestrictionNames:["duplicatable"],action:function(){f.selectedComponent.sendSelectedComponentBI(t.bi.events.rightClickMenu.DUPLICATE,{category:"duplicate"}),f.selectedComponent.duplicate(),f.history.add("component - duplicate")}},DELETE:{labelFunc:function(){return f.isDesktopEditor()?o.translate("TOPBAR_Edit_Delete"):o.translate("TOPBAR_Edit_HIDE")},shortcutLabel:n.editor.DELETE.label,compActionRestrictionNames:["removable"],action:function(){f.selectedComponent.sendSelectedComponentBI(t.bi.events.topbar.top_bar_EDIT_menu_click,{category:"delete"}),f.selectedComponent.remove(),f.history.add("component - remove")}},TOOLBAR:{label:o.translate("TOPBAR_VIEW_TOOLBAR_TITLE"),isCheckbox:!0,menuPropsKey:"toolbarEnabled",action:function(e,t){c(!f.toolbar.isToolbarEnabled(),h.TOOLBAR.biData,f.toolbar.toggleToolbar,t?"(Image)":null)},biData:{type:t.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"toolbar",status:null}}},RULERS:{label:o.translate("TOPBAR_VIEW_RULERS1"),isCheckbox:!0,menuPropsKey:"rulersEnabled",action:function(t,o){var n=e.cloneDeep(h.RULERS.biData);n.fields.editor_view_mode=f.getDeviceType(),c(!f.rulers.isRulersEnabled(),n,f.rulers.toggleRulers,o?"(Image)":null)},biData:{type:t.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"rulers",status:null,editor_view_mode:null}},hintProps:{id:"Rulers"}},GUIDELINES:{label:o.translate("TOPBAR_VIEW_GRIDLINES_TITLE"),isCheckbox:!0,isDisabled:function(){return!f.isDesktopEditor()},menuPropsKey:"guidelinesEnabled",action:function(e,t){c(!f.grid.guidelines.isGuidelinesEnabled(),h.GUIDELINES.biData,f.grid.guidelines.toggleGuidelines,t?"(Image)":null)},biData:{type:t.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"guidelines",status:null}}},SNAP:{label:o.translate("TOPBAR_VIEW_SNAP_TITLE"),isCheckbox:!0,separator:a.isOpen("developerModeToggle"),menuPropsKey:"snapToEnabled",action:function(e,t){c(!f.grid.snapTo.isSnapToEnabled(),h.SNAP.biData,f.grid.snapTo.toggleSnapTo,t?"(Image)":null)},biData:{type:t.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"snap",status:null}}},SECTIONS:{label:o.translate("TOPBAR_VIEW_SECTIONS"),isCheckbox:!0,menuPropsKey:"sectionsHandlesEnabled",visibilityFunc:function(){return f.isDesktopEditor()},action:function(e,t){c(!f.sectionsHandles.areSectionsHandlesEnabled(),h.SECTIONS.biData,f.sectionsHandles.toggleSectionsHandles,t?"(Image)":null)},biData:{type:t.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"sectionshandles",status:null}}}};return h.IMAGE_OPTIMIZATION={label:o.translate("TOPBAR_SITE_IMAGE_QUALITY"),action:function(){f.panelManager.openPanel("panels.focusPanels.siteImageOptimizationPanel",{panelName:"panels.focusPanels.siteImageOptimizationPanel"})},bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"image_optimization"}}},a.isOpen("se_multilingual")&&(h.MULTILINGUAL={label:o.translate("TOPBAR_SITE_MULTILINGUAL"),action:function(){s.openMultilingualManagePanel(f)},bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"multilingual"}}}),a.isOpen("developerModeToggle")&&(h.SECTIONS.separator=!0,h.DEVELOPER_MODE={label:o.translate("TOPBAR_VIEW_DEVELOPER_MODE_TITLE"),isCheckbox:!0,menuPropsKey:"developerModeEnabled",action:function(e,o,n){f.userPreferences.site.get(t.constants.USER_PREFS.DEVELOPER_MODE.FIRST_TIME)||n(),c(!f.developerMode.isEnabled(),h.DEVELOPER_MODE.biData,f.developerMode.toggle,o?"(Image)":null)},biData:{type:t.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"dev_mode",status:null}}},h.PROPERTIES_TOOLBAR={label:o.translate("TOPBAR_VIEW_DEVELOPER_MODE_PROPERTIES_PANEL_TITLE"),isCheckbox:!0,isIndented:!0,visibilityFunc:function(){return f.developerMode.isEnabled()},menuPropsKey:"developerToolBarEnabled",action:function(){c(!f.developerToolBar.isEnabled(),h.PROPERTIES_TOOLBAR.biData,f.developerToolBar.toggle)},biData:{type:t.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"properties_panel",status:null}}},h.HIDDEN_ELEMENTS={label:o.translate("TOPBAR_VIEW_DEVELOPER_MODE_HIDDEN_ELEMENTS_TITLE"),isCheckbox:!0,isIndented:!0,visibilityFunc:function(){return f.developerMode.isEnabled()},menuPropsKey:"showHiddenComponents",action:function(){c(!f.developerHiddenComponents.isEnabled(),h.HIDDEN_ELEMENTS.biData,f.developerHiddenComponents.toggle)},biData:{type:t.bi.events.topbar.top_bar_VIEW_menu_click,fields:{category:"show_hidden_components",status:null}}}),f.account.isUserOwner()&&(h.UPGRADE={label:o.translate(a.isOpen("spanishUpgradeText")?"UPGRADE_FOR_SPAIN_ONLY":"TOPBAR_Upgrade_Label"),bi:{type:t.bi.events.topbar.top_bar_click,fields:{category:"upgrade"}},hintProps:{id:"Premium"}},f.wixStores.isSiteInWixStoreTestDrive()||(h.UPGRADE_ITEM={label:o.translate(a.isOpen("spanishUpgradeText")?"UPGRADE_FOR_SPAIN_ONLY":"TOPBAR_Upgrade_Label"),separator:!0,className:"menu-bar-item-upgrade",action:function(){l(f.account.upgrade.bind(f,"edhtml_TOP_BAR_SITE_MENU_UPGRADE"),"TOPBAR_SITE_UPGRADE_SAVE_FIRST_MSG_TITLE","TOPBAR_SITE_UPGRADE_SAVE_FIRST_MSG_BODY")},bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"upgrade"}}},h.CONNECT_DOMAIN={label:o.translate("TOPBAR_SITE_CONNECT_DOMAIN"),action:function(){f.documentServices.generalInfo.isFirstSave()?f.saveManager.save():f.account.openConnectDomain(t.constants.CONNECT_DOMAIN.FLOWS.TOP_BAR)},bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"connect_domain"}}})),u()&&(h.BACK_TO_OLD_EDITOR={label:o.translate("Topbar_oldeditor_link"),action:function(){d.isEligibleForSwitch?f.panelManager.openPanel("panels.messagePanels.switchToOldEditorConfirmationPanel",{title:"Notification_Box_ToOldEditor_Title"}):p("85aae89a-84f6-4967-b866-e5c39c91d635",b.BACK_TO_OLD_EDITOR)},bi:{type:t.bi.events.topbar.top_bar_SITE_menu_click,fields:{category:"back_to_old_editor"}},visibilityFunc:u}),a.isOpen("se_accessibilityPanel")&&(h.ACCESSIBILITY={label:o.translate("TOPBAR_SITE_ACCESSIBILITY"),action:function(){f.bi.event(t.bi.events.accessibilityPanel.click_accessbility_in_topbar_menu,{site_id:f.documentServices.generalInfo.getSiteId()}),f.panelManager.openPanel("panels.focusPanels.accessibilityPanel")}}),h}function u(){var e=f.account.getEditorVersionsInfo()||{};return!e.isNewUser&&"none"===e.userOverride&&e.isEligibleForSwitch&&!f.isSavedInCurrentSession}function m(){return(f.account.getEditorVersionsInfo()||{}).isEligibleForSwitch&&!f.isSavedInCurrentSession&&!f.documentServices.generalInfo.isTemplate()}function g(){var e=f.feedback.getNewCommentsCounter();return e>99?"99+":e}var f=null,h="savePublish.panels.save.saveYourSitePanel",b={EDITOR:"editor",KEYBOARD_SHORTCUTS:"kb_shortcuts",SEO:"seo",CONNECT_DOMAIN:"connect_domain",BACK_TO_OLD_EDITOR:"back_to_old_editor"},y={init:e.once(function(t){f=t;var o=d();e.merge(y,o)})};return y}),define("rEditor/rootComps/keyboard/config/topBarShortcuts",["lodash","rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions"],function(e,t){function o(){e.forEach(t,function(e){e&&e.shortcut&&(n[e.shortcut]=e.action)})}var n={};return{init:e.once(function(e){t.init(e),o()}),shortcuts:n}}),define("rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions",["lodash","core"],function(e,t){function o(e,t,o){return"x"===o&&e.components.is.horizontallyMovable(t)||"y"===o&&e.components.is.verticallyMovable(t)}function n(t){var o=t.documentServices.pages.getFocusedPageId(),n=t.components.getAllComponents(o);return e.filter(n,function(t){return!e.includes(c,t.id)})}function i(t,o,n){var a=e.findIndex(o,{id:n}),r=a+1===o.length?0:a+1;return t.components.is.selectable(o[r])?o[r]:i(t,o,o[r].id)}function a(t,o,n){var i=e.findIndex(o,{id:n}),r=0===i?o.length-1:i-1;return t.components.is.selectable(o[r])?o[r]:a(t,o,o[r].id)}function r(e,t){var o=e.height/2;return Math.max(t-o,0)}function s(e,o){var n=t.utils.stageUtils.getStageLayout(),i=e.components.layout.getRelativeToScreen(o);t.utils.scrollUtils.setScroll({scrollTop:r(n,i.y)})}function l(e,t){e.selection.selectComponentByCompRef(t),s(e,t)}var c=["PAGES_CONTAINER","SITE_PAGES","BACK_TO_TOP_BUTTON"];return{selectNextComponent:function(e){var t=e.selection.getSelectedComponentId();t&&l(e,i(e,n(e),t))},selectPreviousComponent:function(e){var t=e.selection.getSelectedComponentId();t&&l(e,a(e,n(e),t))},moveComponent:function(t,n,i){var a=t.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(t.selection.getSelectedComponents());return a&&o(t,a,n)&&t.documentServices.waitForChangesApplied(function(){var o=t.components.layout.getRelativeToStructure(a),r=e.clone(o);r[n]+=i,10===i?r[n]=10*Math.floor(r[n]/10):-10===i&&(r[n]=10*Math.ceil(r[n]/10)),t.components.layout.updateRelativeToStructure(a,r)}),a}}}),define("rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil",["core","lodash","savePublish"],function(e,t,o){function n(e){var n={},a=t(window.editorModel.runningExperiments).pickBy(function(e){return"new"===e}).keys().value();n["ctrl + alt + shift + v"]=e.openEditorVersionInfoPanel.bind(e),n["ctrl + alt + shift + e"]=function(){window.alert("Active Experiments:\n"+a.join("\n"))};var r=window.location.search&&window.location.search.toLowerCase();return(t.includes(r,"debug=")||t.includes(r,"isqa=true"))&&(n[i+" + shift + alt + s"]=t.partial(o.configureSave,e),n[i+" + shift + alt + p"]=e.publishManager.configureMockPostPublish),n}var i=e.constants.KEYBOARD_SPECIAL_KEY.value;return n}),define("rEditor/rootComps/keyboard/util/sendBIAndActionUtil",["core","lodash"],function(e,t){function o(e,o){t.assign(o,e)}function n(e,n,i){if(e&&n){var a=e.selection.getSelectedComponents(),r=e.bi.getComponentsBIParams(a);t.forEach(r,o.bind(null,i)),t.isEmpty(r)&&i&&r.push(i),e.bi.reportBI(n,r)}}return n}),define("rEditor/rootComps/keyboard/config/editorShortcuts",["lodash","core","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions","rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil","rEditor/rootComps/keyboard/util/sendBIAndActionUtil","experiment"],function(e,t,o,n,i,a,r){function s(t){var o={};o[f.GROUP_COMPONENTS.key]=c.bind(null,t),o[f.UNGROUP_COMPONENTS.key]=p.bind(null,t),o[f.COPY.key]=l.bind(null,t),o[f.CUT.key]=u.bind(null,t),o[f.DUPLICATE.key]=d.bind(null,t),o[f.MOVE_RIGHT.key]=m.bind(null,t,"x",1),o[f.MOVE_LEFT.key]=m.bind(null,t,"x",-1),o[f.MOVE_UP.key]=m.bind(null,t,"y",-1),o[f.MOVE_DOWN.key]=m.bind(null,t,"y",1),o[f.SHIFT_RIGHT.key]=m.bind(null,t,"x",10),o[f.SHIFT_LEFT.key]=m.bind(null,t,"x",-10),o[f.SHIFT_UP.key]=m.bind(null,t,"y",-10),o[f.SHIFT_DOWN.key]=m.bind(null,t,"y",10),o[f.ADD_APPLICATIVE_MODE.key]=function(){if(r.isOpen("applicativeModes")){var o=e.head(t.selection.getSelectedComponents());if(o){var n=t.components.modes.getModes(o),i="mode-"+(n?n.length:"0");t.components.modes.addModeDefinition(o,"APPLICATIVE",null,i)}}};var n=i(t);e.merge(o,n),e.merge(g,o)}function l(e){var o=t.bi.events.rightClickMenu,n=e.selection.getSelectedComponents(),i=e.components.layout.isPinned(n)?1:0;if(e.selectedComponent.copy(),n){var r=e.components.getType(n);a(e,o.COPY,{origin:"keyboard",is_component_pinned:i,component_type:r})}}function c(e,t){var o=e.selection.getSelectedComponents();e.components.is.groupable(o)&&e.multiselect.isMultiselect(o)&&e.groupComponents(o),t.preventDefault()}function p(e,t){var o=e.selection.getSelectedComponents();e.components.is.group(o)&&e.components.ungroup(o),t.preventDefault()}function d(e){var o=t.bi.events.rightClickMenu,n=e.selection.getSelectedComponents(),i=e.components.layout.isPinned(n)?1:0;e.selectedComponent.duplicate(),"Column"!==e.selection.getSelectedComponentType()&&e.history.add("component - duplicate"),a(e,o.DUPLICATE,{origin:"keyboard",is_component_pinned:i})}function u(e){var o=t.bi.events.rightClickMenu,n=e.selection.getSelectedComponents(),i=e.components.layout.isPinned(n)?1:0;e.selectedComponent.cut(),e.history.add("component - cut"),a(e,o.CUT,{origin:"keyboard",is_component_pinned:i})}function m(e,t,o,i){i&&i.preventDefault(),n.moveComponent(e,t,o)}var g={},f=o.editor;return{init:function(e){s(e)},shortcuts:g}}),define("rEditor/rootComps/keyboard/config/previewShortcuts",["lodash","core","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap"],function(e,t,o){function n(e){e.preventDefault()}function i(e,t){t.preventDefault(),e.preview.togglePreview()}function a(e,o){o.preventDefault(),e.bi.event(t.bi.events.topbar.editor_view_mode_switch,{origin:"keyboard"});var n=e.isMobileEditor();e.setEditorMode(!n)}var r=o.preview,s={};return{init:e.once(function(e){s[r.EXIT_PREVIEW.key]=e.preview.togglePreview,s[r.TOGGLE_PREVIEW.key]=i.bind(this,e),s[r.TOGGLE_MOBILE.key]=a.bind(null,e),s[r.PUBLISH_SITE.key]=n}),shortcuts:s}}),define("rEditor/rootComps/keyboard/config/pinModeShortcuts",["lodash","core","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil","rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions"],function(e,t,o,n){function i(o){var i=t.bi.events.rightClickMenu,s={};s[c.GROUP_COMPONENTS.key]=r,s[c.UNGROUP_COMPONENTS.key]=r,s[c.COPY.key]=a.bind(null,o,i.COPY,{is_component_pinned:1}),s[c.CUT.key]=a.bind(null,o,i.CUT,{is_component_pinned:1}),s[c.DUPLICATE.key]=a.bind(null,o,i.DUPLICATE,{is_component_pinned:1}),s[c.MOVE_RIGHT.key]=r,s[c.MOVE_LEFT.key]=r,s[c.MOVE_UP.key]=r,s[c.MOVE_DOWN.key]=r,s[c.SHIFT_RIGHT.key]=r,s[c.SHIFT_LEFT.key]=r,s[c.SHIFT_UP.key]=r,s[c.SHIFT_DOWN.key]=r;var p=n(o);e.merge(s,p),e.merge(l,s)}function a(t,o,n){if(t&&o){var i=t.selection.getSelectedComponents(),a=t.bi.getComponentsBIParams(i);e.forEach(a,s.bind(null,n)),e.isEmpty(a)&&n&&a.push(n),t.bi.reportBI(o,a)}}function r(e){e.preventDefault()}function s(t,o){e.assign(o,t)}var l={},c=o.editor;return{init:function(e){i(e)},shortcuts:l}}),define("rEditor/rootComps/keyboard/util/commonKeyboardActions",["core","rEditor/rootComps/keyboard/util/sendBIAndActionUtil","coreUtilsLib"],function(e,t,o){function n(e){a(e,"undo"),e.history.undo()}function i(e){a(e,"redo"),e.history.redo()}function a(o,n){var i=e.bi.events.editor.undo_redo_component_change;t(o,i,{type:n,origin:"keyboard"})}function r(e){e.saveManager.save({origin:"keyboard"})}function s(e){e.saveManager.saveAsTemplate(function(){o.log.info("Saved successfully as Template.")})}function l(t,o){t.savePublish.canUserPublish()&&(o.preventDefault(),t.bi.event(e.bi.events.publish.PUBLISH_CLICK,{origin:"keyboard"}),t.publishManager.saveAndPublish("keyboard_publish"))}return{undoFromKeyboard:n,redoFromKeyboard:i,saveSiteFromKeyboard:r,saveSiteAsTemplateFromKeyboard:s,publishSiteFromKeyboard:l}}),define("rEditor/rootComps/keyboard/config/zoomModeShortcuts",["lodash","rEditor/rootComps/keyboard/util/commonKeyboardActions","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap"],function(e,t,o){function n(o){var n={};n[a.UNDO.key]=t.undoFromKeyboard.bind(null,o),n[a.REDO.key]=t.redoFromKeyboard.bind(null,o),n[a.SAVE.key]=t.saveSiteFromKeyboard.bind(null,o),n[a.SAVE_AS_TEMPLATE.key]=t.saveSiteAsTemplateFromKeyboard.bind(null,o),n[a.PUBLISH_SITE.key]=t.publishSiteFromKeyboard.bind(null,o),e.assign(i,n)}var i={},a=o.editor;return{init:function(e){n(e)},shortcuts:i}}),define("rEditor/rootComps/keyboard/config/imageCropShortcuts",["lodash","core","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap"],function(e,t,o){function n(t){var o={};o[s.APPLY.key]=i.bind(null,t),o[s.CANCEL.key]=a.bind(null,t),e.merge(r,o)}function i(o){var n=o.selection.getSelectedComponents(),i=o.selection.getSelectedComponentData().crop;o.imageCrop.updateCrop(),o.imageCrop.toggleCropMode(!1),o.documentServices.waitForChangesApplied(function(){var a=o.components.data.get(n).crop,r=!e.isEqual(i,a);o.bi.event(t.bi.events.imageCrop.apply_crop,{is_changed:r,origin:"enter"})})}function a(e){e.imageCrop.toggleCropMode(!1)}var r={},s=o.imageCrop;return{init:function(e){n(e)},shortcuts:r}}),define("rEditor/rootComps/keyboard/config/baseEditorShortcuts",["lodash","core","experiment","stateManagement","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/keyboard/actions/selectComponentShortcutsActions","rEditor/rootComps/keyboard/util/editorDebugShortcutsUtil","rEditor/rootComps/keyboard/util/commonKeyboardActions","rEditor/rootComps/keyboard/util/sendBIAndActionUtil"],function(e,t,o,n,i,a,r,s,l){function c(t){var o={};o[S.SELECT_ALL.key]=t.selection.selectAll,o[S.PASTE.key]=p.bind(null,t),o[S.APPLY_MODE.key]=d.bind(null,t),o[S.UNDO.key]=s.undoFromKeyboard.bind(null,t),o[S.REDO.key]=s.redoFromKeyboard.bind(null,t),o[S.DELETE.key]=f.bind(null,t),o[S.SAVE.key]=s.saveSiteFromKeyboard.bind(null,t),o[S.SAVE_AS_TEMPLATE.key]=s.saveSiteAsTemplateFromKeyboard.bind(null,t),o[S.SELECT_NEXT_COMP.key]=h.bind(null,t),o[S.SELECT_PREV_COMP.key]=b.bind(null,t),o[S.TOGGLE_RULERS.key]=y.bind(null,t),o[S.CLOSE_PANELS.key]=P.bind(null,t),o[S.SEND_TO_FRONT.key]=I.toFront.bind(null,t),o[S.SEND_TO_BACK.key]=I.toBack.bind(null,t),o[S.SEND_FORWARD.key]=I.forward.bind(null,t),o[S.SEND_BACKWARD.key]=I.backward.bind(null,t),o[S.TOGGLE_PREVIEW.key]=u.bind(null,t),o[S.TOGGLE_MOBILE.key]=m.bind(null,t),o[S.PLATFORM_APP_CONFIGURATION.key]=g.bind(null,t),o[S.PUBLISH_SITE.key]=s.publishSiteFromKeyboard.bind(null,t),o[S.HIDE_TOOLS.key]=v.bind(null,t);var n=r(t);e.merge(o,n),e.merge(E,o)}function p(o){var n=t.bi.events.rightClickMenu,i=o.clipboard.getItem(t.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT);if(i){var a=e.map(i.components,"serializedComp.layout"),r=o.components.layout.isPinnedBySerializedLayout(a)?1:0;o.copyPaste.paste(),o.history.add("component - paste"),l(o,n.PASTE,{origin:"keyboard",is_component_pinned:r})}}function d(e){var n=t.bi.events.rightClickMenu;o.isOpen("se_hoverBox")&&e.copyPaste.canApplyModeFromClipboard()&&(e.copyPaste.applyModeFromClipboard(e.selection.getSelectedComponents()),l(e,n.APPLY_MODE_FROM_CLIPBOARD,{origin:"keyboard"}))}function u(e,o){o.preventDefault(),e.bi.event(t.bi.events.preview.PREVIEW_CLICK,{origin:"keyboard"}),e.preview.togglePreview()}function m(e,o){o.preventDefault(),e.bi.event(t.bi.events.topbar.editor_view_mode_switch,{origin:"keyboard"});var n=e.isMobileEditor();e.setEditorMode(!n)}function g(e){if(T>=8){var t=e.documentServices.platform.getAppDataByAppDefId("editorPlatformWixComponents");t?e.documentServices.platform.notifyApplication(t.applicationId,{eventType:"openModal"}):e.documentServices.platform.initApp({appDefinitionId:"editorPlatformWixComponents",editorUrl:"https://static.parastorage.com/services/editor-platform-app-configuration-ui-node/1.33.0/assets/editor.js"}),T=0}else T++}function f(e){var o=e.selection.getSelectedComponents(),n=e.components.layout.isPinned(o)?1:0;l(e,t.bi.events.editor.component_removed,{removal_method:"keyboard",is_component_pinned:n}),e.selectedComponent.remove(),e.history.add("component - remove")}function h(e){e.panelManager.closeAllPanels(),a.selectNextComponent(e)}function b(e){e.panelManager.closeAllPanels(),a.selectPreviousComponent(e)}function y(e){e.rulers.toggleRulers()}function P(o){var i=o.panelManager;i.getOpenPanels().length>0?e.forEach(C,i.closeAllPanelsOfType):n.panels.selectors.selectHelpProps(o.store.getState())?i.closeHelpCenter():o.selection.isComponentSelected()?o.selection.deselectComponents():(o.toolsControl.toggleHideTools(!1),o.bi.event(t.bi.events.editor.hide_tools.show_controls,{origin:"shortcut"}))}function v(e){var o=e.toolsControl.toggleHideTools()?"hide_controls":"show_controls";e.bi.event(t.bi.events.editor.hide_tools[o],{origin:"shortcut"})}var E={},S=i.editor,T=0,C=["leftPanelFrame","compPanelFrame","focusPanelFrame","messagePanelFrame","pagesPanelFrame","toolPanelFrame","tpaSettingsPanelFrame"],I={toFront:function(e){var o=e.selection.getSelectedComponents();e.components.is.controlledByParent(o)||(e.components.arrangement.moveToFront(o),l(e,t.bi.events.rightClickMenu.BRING_TO_FRONT,{origin:"keyboard"}))},toBack:function(e){var o=e.selection.getSelectedComponents();e.components.is.controlledByParent(o)||(e.components.arrangement.moveToBack(o),l(e,t.bi.events.rightClickMenu.SEND_TO_BACK,{origin:"keyboard"}))},forward:function(e){var o=e.selection.getSelectedComponents();e.components.is.controlledByParent(o)||(e.components.arrangement.moveForward(o),l(e,t.bi.events.rightClickMenu.MOVE_FORWARD,{origin:"keyboard"}))},backward:function(e){var o=e.selection.getSelectedComponents();e.components.is.controlledByParent(o)||(e.components.arrangement.moveBackward(o),l(e,t.bi.events.rightClickMenu.MOVE_BACKWARDS,{origin:"keyboard"}))}};return{init:function(e){c(e)},shortcuts:E}}),define("rEditor/rootComps/keyboard/config/shortcutsConfig",["util","lodash","rEditor/rootComps/keyboard/config/topContextShortcuts","rEditor/rootComps/keyboard/config/topBarShortcuts","rEditor/rootComps/keyboard/config/editorShortcuts","rEditor/rootComps/keyboard/config/previewShortcuts","rEditor/rootComps/keyboard/config/pinModeShortcuts","rEditor/rootComps/keyboard/config/zoomModeShortcuts","rEditor/rootComps/keyboard/config/imageCropShortcuts","rEditor/rootComps/keyboard/config/baseEditorShortcuts"],function(e,t,o,n,i,a,r,s,l,c){function p(e,t){return function(){return t(),e.apply(null,arguments)}}function d(e,o){return t.mapValues(e,function(e){return p(e,o)})}function u(e,t){m.registerContext(m.CONTEXTS.TOP_CONTEXT,d(o.shortcuts,t),e);var p=m.extendContext(m.CONTEXTS.TOP_CONTEXT,d(c.shortcuts,t));m.registerContext(m.CONTEXTS.BASE_EDITOR,p,e);var u=m.extendContext(m.CONTEXTS.TOP_CONTEXT,d(a.shortcuts,t));m.registerContext(m.CONTEXTS.PREVIEW,u,e);var g=m.extendContext(m.CONTEXTS.BASE_EDITOR,d(i.shortcuts,t));m.registerContext(m.CONTEXTS.EDITOR,g,e);var f=m.extendContext(m.CONTEXTS.BASE_EDITOR,d(r.shortcuts,t));m.registerContext(m.CONTEXTS.PIN_MODE,f,e);var h=m.extendContext(m.CONTEXTS.EDITOR,d(n.shortcuts,t));m.registerContext(m.CONTEXTS.TOP_BAR,h,e);var b=m.extendContext(m.CONTEXTS.TOP_CONTEXT,d(l.shortcuts,t));m.registerContext(m.CONTEXTS.IMAGE_CROP,b,e);var y=m.extendContext(m.CONTEXTS.TOP_CONTEXT,d(s.shortcuts,t));m.registerContext(m.CONTEXTS.ZOOM_MODE,y,e)}var m=e.keyboardShortcuts;return{init:t.once(function(e){o.init(e),a.init(e),c.init(e),r.init(e),l.init(e),s.init(e),i.init(e),n.init(e),u(e,e.closeRightClickMenu)})}}),define("rEditor/utils/isRightClickWithCtrlInDebugMode",["util"],function(e){function t(t){var o=e.url.parseUrlParams(window.location);return t.ctrlKey&&"all"===o.debug}return t}),define("rEditor/rootComps/leftBar/leftBarMapper",[],function(){function e(e){return{sendBIButtonsCount:e.leftBar.sendBIButtonsCount,superAppsDesktopCount:e.leftBar.superApps.getDesktopCount(),isCollapsed:e.leftBar.isCollapsed(),leftBarMenuItems:e.leftBar.getMenuItems(),isMobileEditor:e.isMobileEditor(),openPanels:e.getOpenPanels(),isEnabled:e.editorIsInit(),halfOpacityTools:e.toolsControl.isHalfOpacityTools(),isHidden:e.toolsControl.areToolsHidden(),reportBI:e.bi.event,leftBarNotifications:e.leftBar.notifications.get(),collapseMenu:e.leftBar.collapseMenu,openPanel:e.panelManager.openPanel,collapseButton:e.leftBar.collapseButton,hideFloatingBubble:e.hideFloatingBubble,updateLeftBarButtonsBoundingRect:e.leftBar.updateButtonsBoundingRect}}return e}),define("rEditor/rootComps/leftBar/leftBarButton/leftBarButton.rt",["react","lodash","symbols","experiment"],function(e,t,o,n){return function(){return e.createElement("li",{className:t(this.getButtonClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),ref:"root",onClick:this.handleOnClick,"data-hint-id":n.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintProps?this.props.hintProps.id:null},this.shouldShowSelectedSvg()?e.createElement(o.symbol,t.assign({},{key:"selectedSvg"},this.getSelectedButtonSvgProps())):null,e.createElement(o.symbol,{name:this.props.symbolName,className:"icon",hintId:n.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintProps?this.props.hintProps.id+"_inner":null}),e.createElement("span",{className:"mask"}),e.createElement("span",{className:"text"},this.props.label),this.shouldShowNotificationCounter()?e.createElement("span",{key:"notificationCount",className:"notifications"},this.props.notificationCount):null)}}),define("rEditor/rootComps/leftBar/leftBarButton/leftBarButton",["lodash","create-react-class","prop-types","core","uiConstants","baseUI","rEditor/rootComps/leftBar/leftBarButton/leftBarButton.rt","symbols"],function(e,t,o,n,i,a,r){var s=a.tooltipManager;return t({displayName:"leftBarButton",propTypes:{className:o.string.isRequired,symbolName:o.string.isRequired,label:o.string.isRequired,isSelected:o.bool.isRequired,isMobileEditor:o.bool.isRequired,onClick:o.func.isRequired,isMenuCollapsed:o.bool,notificationCount:o.number.isRequired,isFirstPanel:o.bool,collapseOnClick:o.bool,isButtonOpen:o.bool,hintProps:o.object,tooltips:o.array,activeState:o.string},componentDidMount:function(){this.setButtonTooltips()},componentDidUpdate:function(){this.setButtonTooltips()},setButtonTooltips:function(){e.forEach(this.props.tooltips,function(e){s.createTooltip(!1,{id:e.id,targetNode:this.refs.root,value:e.value,alignment:i.TOOLTIP.ALIGNMENT.LEFT})}.bind(this))},getButtonClasses:function(){var e={"left-bar-item":!0,selected:this.props.isSelected,"first-panel":this.props.isFirstPanel,"wait-for-click":this.props.collapseOnClick};return this.props.activeState&&(e[this.props.activeState]=!0),e[this.props.className]=!0,e},shouldShowNotificationCounter:function(){return this.props.notificationCount>0},handleOnClick:function(){this.props.onClick&&this.props.onClick()},getSelectedButtonSvgProps:function(){var e,t;return this.props.isFirstPanel?(e="leftBarButtonEarTop",t="ear-top"):(e="leftBarButtonEarMiddle",t="ear-middle"),{name:e,className:"ear "+t}},shouldShowSelectedSvg:function(){return this.props.isMenuCollapsed&&this.props.isSelected},render:r})}),define("rEditor/rootComps/leftBar/leftBar.rt",["react","lodash","rEditor/rootComps/leftBar/leftBarButton/leftBarButton","util"],function(e,t,o,n){return function(){function i(e,t){this.handleOnClick(e.panelName,e.panelProps)}function a(t,a){return e.createElement(o,{tooltips:t.tooltips,activeState:t.activeState,key:t.panelName,label:n.translate(t.label),isMenuCollapsed:this.props.isCollapsed,className:t.className,symbolName:t.symbolName,isMobileEditor:this.props.isMobileEditor,isSelected:this.isSelected(t.panelName),onClick:i.bind(this,t,a),isFirstPanel:0===a,collapseOnClick:t.collapseOnClick,isButtonOpen:t.isButtonOpen,notificationCount:this.getNotificationCount(t.panelName),hintProps:t.hintProps,getUserSitePreferences:this.props.getUserSitePreferences,setUserSitePreferences:this.props.setUserSitePreferences})}return e.createElement("div",{className:t({"left-bar":!0,"is-hidden":this.props.isHidden,"half-opacity":this.props.halfOpacityTools,"menu-collapsed-wrapper":this.props.isCollapsed}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:{left:this.getLeftOffset()},onContextMenu:this.onContextMenu,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter},e.createElement.apply(this,["ul",{ref:"buttons",className:t({"left-bar-items":!0,"menu-collapsed":this.props.isCollapsed,"menu-opened":this.isMenuOpened()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},t.map(this.props.leftBarMenuItems,a.bind(this))]))}}),define("rEditor/rootComps/leftBar/leftBar",["reactDOM","lodash","react","create-react-class","prop-types","higherOrderComponents","jquery","core","baseUI","rEditor/utils/isRightClickWithCtrlInDebugMode","rEditor/rootComps/leftBar/leftBarMapper","rEditor/rootComps/leftBar/leftBar.rt","experiment"],function(e,t,o,n,i,a,r,s,l,c,p,d,u){function m(e){var o=t.find(e.openPanels,{frameType:"leftPanelFrame"});return o&&o.name}var g=n({displayName:"leftBar",propTypes:{superAppsDesktopCount:i.number,isCollapsed:i.bool,leftBarMenuItems:i.array.isRequired,isMobileEditor:i.bool.isRequired,openPanels:i.array.isRequired,isEnabled:i.bool.isRequired,isHidden:i.bool.isRequired,halfOpacityTools:i.bool.isRequired,reportBI:i.func,sendBIButtonsCount:i.func,leftBarNotifications:i.object.isRequired,collapseMenu:i.func.isRequired,openPanel:i.func.isRequired,collapseButton:i.func.isRequired,hideFloatingBubble:i.func.isRequired,updateLeftBarButtonsBoundingRect:i.func.isRequired},componentDidMount:function(){this.updateButtonsBoundingRect(),this.props.isHidden&&r(e.findDOMNode(this)).css({left:this.getLeftOffset()})},componentDidUpdate:function(e){this.updateButtonsBoundingRect(),this.sendBIButtonsCountIfNeeded(e)},getNotificationCount:function(e){return this.props.leftBarNotifications[e]||0},sendBIButtonsCountIfNeeded:function(e){this.props.superAppsDesktopCount!==e.superAppsDesktopCount&&this.props.sendBIButtonsCount()},componentWillReceiveProps:function(e){m(e)&&(this.props.isCollapsed||this.props.collapseMenu())},handleOnClick:function(e,t){var o=m(this.props);this.props.isEnabled&&e!==o&&(this.props.collapseMenu(),this.props.openPanel(e,t),t.openPanelBiEvent&&this.props.reportBI(t.openPanelBiEvent,t.openPanelBiParams)),this.props.collapseButton(e),this.props.hideFloatingBubble()},isMenuOpened:function(){return!!m(this.props)},updateButtonsBoundingRect:function(){var o,n=t.some(this.props.leftBarMenuItems,"collapseOnClick");o=this.props.isCollapsed&&!n?null:e.findDOMNode(this.refs.buttons).getBoundingClientRect(),this.props.updateLeftBarButtonsBoundingRect(o)},getLeftOffset:function(){return this.props.isHidden?this.isMounted()?-(e.findDOMNode(this).offsetWidth+8)+"px":"-1000px":""},onContextMenu:function(e){c(e)||e.preventDefault()},isSelected:function(e){var t=m(this.props);return!(!t||t!==e)},render:function(){if(u.isMultiValueExperimentOpen("editorHintsConfigs")&&require.defined("editorHints")){var e=require("editorHints");return o.createElement(e.hintsNotify,{id:e.hintsContainers.LEFT_BAR},d.call(this))}return d.call(this)}}),f=a.connectEditorAPI(p)(a.renderWhenMutated(g));return f.pure=g,f}),define("rEditor/rootComps/mixins/hiddenableMixin",["reactDOM","jquery","lodash","util"],function(e,t,o,n){return{mixins:[n.singlePassDOMReadWriteMixin],componentWillMount:function(){this.lastCustomXPosition=null,this.shouldCompSlideRight=!0},componentWillReceiveProps:function(o){!o.toolsHidden&&this.props.toolsHidden&&this.state.isCustomPosition&&t(e.findDOMNode(this)).css({left:this.lastCustomXPosition})},measurePhase:function(){return this.shouldCompSlideRight=this.shouldSlideRight(),this.getComponentPosition(this.lastCustomXPosition)},patchPhase:function(o){t(e.findDOMNode(this)).css(o)},shouldSlideRight:function(){var o=t(e.findDOMNode(this));return o.offset().left+o.width()/2>t(window).width()/2},updateLastCustomXPosition:function(e){this.lastCustomXPosition=e},getHiddenableClasses:function(){return{"hide-tools":this.props.toolsHidden,"show-tools":!this.props.toolsHidden,"slide-right":this.shouldCompSlideRight,"slide-left":!this.shouldCompSlideRight,"half-opacity":this.props.halfOpacityTools}}}}),define("rEditor/rootComps/mixins/keepInViewportMixin",["reactDOM","lodash","util","core"],function(e,t,o,n){return{fitPositionToScreen:function(t,n,i){var a=this.getDragLimits(n),r=e.findDOMNode(this).getBoundingClientRect(),s=r.top,l=t||r.left,c=a.x[1]-r.width-i+n;return{left:o.math.ensureWithinLimits(l,a.x[0],c),top:o.math.ensureWithinLimits(s,a.y[0],a.y[1])}},getDragLimits:function(t){var o=n.utils.stageUtils.getStageLayout(),i=n.constants.PANELS.PANEL_SIZE_TO_KEEP_IN_VIEW,a=e.findDOMNode(this).clientHeight;return{x:[o.left+t,o.right-t],y:[o.top+t,o.bottom+a-i]}}}}),define("rEditor/rootComps/toolBar/toolBarLogic",[],function(){function e(e){return e.clipboardContainsComp()&&e.isDesktopEditor()&&!e.components.layout.isPinned(e.selection.getSelectedComponents())}return{isPasteEnabled:e}}),define("rEditor/rootComps/toolBar/toolBarMapper",["lodash","rEditor/utils/isRightClickWithCtrlInDebugMode","rEditor/rootComps/toolBar/toolBarLogic"],function(e,t,o){function n(t){var o=t.selection.getSelectedComponents();return o?t.components.layout.isHorizontallyStretchedToScreen(o)?{componentLayout:t.components.layout.getRelativeToScreen(o),update:t.components.layout.updateRelativeToScreen,updateAndPreserveProportions:t.components.layout.updateRelativeToScreenAndPreserveProportions}:{componentLayout:t.components.layout.getRelativeToStructure(o),update:t.components.layout.updateRelativeToStructure,updateAndPreserveProportions:t.components.layout.updateRelativeToStructureAndPreserveProportions}:{componentLayout:null,update:e.noop,updateAndPreserveProportions:e.noop}}function i(e){var t=e.selection.getSelectedComponents();if(!t)return!1;var o=e.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(t);return e.multiselect.isMultiselect(o)||e.components.is.group(o)}function a(e){var t=e.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(e.selection.getSelectedComponents());return e.multiselect.isMultiselect(t)||e.components.is.group(t)?e.components.layout.getProportionStructure(t):null}function r(e){t(e)||e.preventDefault()}function s(t){var s=t.selection.getSelectedComponents(),l=s?t.getCompRestrictions(s):{};return{hidden:t.pinMode.isOpened()||t.imageCrop.isCropMode(),toolsHidden:t.toolsControl.areToolsHidden(),halfOpacityTools:t.toolsControl.isHalfOpacityTools(),components:s,componentsWithoutAncestor:t.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(s),onContextMenu:r,previewTopPosition:t.getPreviewPosition().top,layout:n(t),componentsRestrictions:l,areComponentsMultiSelectedOrGrouped:i(t),componentsProportions:a(t),componentLayoutLimits:s?t.documentServices.components.layout.getLimits(e.head(s)):{},addHistory:t.history.add,toggleShowOnAllPages:e.partial(t.components.toggleShowOnAllPages,s),shouldDisableShowOnAllPages:s&&t.components.shouldDisableShowOnAllPages(s),isPage:s&&t.utils.isPage(s),reportBI:t.bi.event,isComponentShowOnAllPages:s&&t.components.isShowOnAllPages(s),isPasteEnabled:o.isPasteEnabled(t),toggleToolbar:t.toolbar.toggleToolbar,componentType:t.selection.getSelectedComponentType(),onHelp:function(e,o){t.panelManager.openHelpCenter(e,null,o)},toggleFixedPosition:t.selectedComponent.toggleFixedPosition,compDeleteTooltipText:t.tooltipTextService.getComponentTooltipText(s,"DELETE"),compBIParams:t.bi.getComponentsBIParams(s),isCompControlledByParent:t.components.is.controlledByParent(s),copyPasteAPI:e.pick(t.copyPaste,["duplicate","paste","copy"]),canDistributeAllDirections:t.components.multiComponents.canDistributeAllDirections(s),distribute:t.components.multiComponents.distribute,canMatchAllSizes:t.components.multiComponents.canMatchAllSizes(s),matchSize:t.components.multiComponents.matchSize,isMobileEditor:t.isMobileEditor(),canAlignAllDirections:t.components.alignment.canAlignAllDirections(s),alignComp:t.components.alignment.align,removeComp:t.components.remove,arrangementAPI:e.pick(t.components.arrangement,["moveToFront","moveForward","moveToBack","moveBackward"])}}return s}),define("rEditor/rootComps/toolBar/toolSelector.rt",["react","lodash","baseUI"],function(e,t,o){return function(){return e.createElement("div",{className:t(this.getClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:{position:"relative"}},this.state.isMenuDisplayed?e.createElement("div",{className:t(this.getDropDownClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"menuDropDown",onMouseLeave:this.hideMenu},this.props.children):null,e.createElement(o.tooltip,{disabled:!this.props.tooltip,value:this.props.tooltip,className:this.props.tooltipClass,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:this.props.disabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.displayMenu},e.createElement(o.symbol,{name:this.props.symbol}))),this.props.children&&this.props.children.length>1?e.createElement("div",{key:"smallIndicator",className:"small-indicator"}):null)}}),define("rEditor/rootComps/toolBar/toolSelector",["create-react-class","prop-types","lodash","rEditor/rootComps/toolBar/toolSelector.rt"],function(e,t,o,n){return e({displayName:"toolSelector",propTypes:{symbol:t.string.isRequired,columns:t.number,onShow:t.func,tooltipClass:t.string,disabled:t.bool},getInitialState:function(){return{isMenuDisplayed:!1}},getDefaultProps:function(){return{columns:3,disable:!1}},displayMenu:function(){this.props.disabled||(this.setState({isMenuDisplayed:!0}),o.isFunction(this.props.onShow)&&this.props.onShow())},hideMenu:function(){var e=this;window.setTimeout(function(){e.setState({isMenuDisplayed:!1})},300)},getDropDownClasses:function(){var e={"drop-down":!0,disabled:this.props.disabled};return e["grid-"+this.props.columns+"-col"]=!0,e},getClasses:function(){var e={"tool-selector":!0};if(this.props.className){var t=this.props.className.split(" ");o.forEach(t,function(t){e[t]=!0})}return this.props.disabled&&(e.disabled=!0),e},render:n})}),define("rEditor/rootComps/toolBar/toolbarTop.rt",["react","lodash","baseUI","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","core","rEditor/rootComps/toolBar/toolSelector"],function(e,t,o,n,i,a){return function(){function r(e,t,o){this.moveForward()}function s(e,t,o){this.moveBackward()}function l(e,t,o){this.moveToFront()}function c(e,t,o){this.moveToBack()}function p(e,t,o){this.align("left")}function d(e,t,o){this.align("center")}function u(e,t,o){this.align("right")}function m(e,t,o){this.align("top")}function g(e,t,o){this.align("middle")}function f(e,t,o){this.align("bottom")}function h(e,t,o){this.distribute("horizontal")}function b(e,t,o){this.distribute("verticalAndHorizontal")}function y(e,t,o){this.distribute("vertical")}function P(e,t,o){this.matchSize("width")}function v(e,t,o){this.matchSize("heightAndWidth")}function E(e,t,o){this.matchSize("height")}function S(){var S=this.props.restrictions,T=i.bi,C=n.editor;return e.createElement("div",{},e.createElement("div",{className:"inner button-grid"},e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_copy",C.COPY.label),styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!S.duplicatable}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.handleCopy},e.createElement(o.symbol,{name:"toolbarCopy"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_paste",C.PASTE.label),styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!this.props.pasteEnabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.handlePaste},e.createElement(o.symbol,{name:"toolbarPaste"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_duplicate",C.DUPLICATE.label),styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!S.duplicatable}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.handleDuplicate},e.createElement(o.symbol,{name:"toolbarDuplicate"}))),e.createElement(o.tooltip,{value:this.getDeleteTooltipText(),styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!S.removable}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.handleDelete},this.props.isMobileEditor?null:e.createElement(o.symbol,{key:"deleteSymbol",name:"toolbarDelete"}),this.props.isMobileEditor?e.createElement(o.symbol,{key:"hideSymbol",name:"gfpp_hide"}):null))),e.createElement("div",{className:"seperator"}),e.createElement("div",{className:"inner button-grid"},e.createElement(a,{disabled:!(S.canMoveForward||S.canMoveBackward)||this.props.isCompControlledByParent,symbol:"toolbarMoveForward",columns:2,tooltip:this.getInfoTooltip("toolbar_tooltip_arrange","toolbar_tooltip_arrange_info"),tooltipClass:"control-tooltip-small"},e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_arrange_move_forward",C.SEND_FORWARD.label),styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!S.canMoveForward}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:r.bind(this,S,T,C)},e.createElement(o.symbol,{name:"toolbarMoveForward"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_arrange_move_backward",C.SEND_BACKWARD.label),styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!S.canMoveBackward}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:s.bind(this,S,T,C)},e.createElement(o.symbol,{name:"toolbarMoveBackward"}))),e.createElement(o.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_arrange_bring_to_front",C.SEND_TO_FRONT.label),styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!S.canMoveForward}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:l.bind(this,S,T,C)},e.createElement(o.symbol,{name:"toolbarMoveToFront"}))),e.createElement(o.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_arrange_send_to_back",C.SEND_TO_BACK.label),styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:t({button:!0,disabled:!S.canMoveBackward}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:c.bind(this,S,T,C)},e.createElement(o.symbol,{name:"toolbarMoveToBack"})))),e.createElement(a,{disabled:!this.isAlignEnabled(),symbol:"toolbarAlignRight",columns:3,onShow:t.partial(this.props.reportBI,T.events.toolbar.TOOL_BAR_ALIGNMENT_CLICK,{}),tooltip:this.getInfoTooltip("toolbar_tooltip_align","toolbar_tooltip_align_info"),tooltipClass:"control-tooltip-small"},e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_align_left"),styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:p.bind(this,S,T,C)},e.createElement(o.symbol,{name:"toolbarAlignLeft"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_align_center"),styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:d.bind(this,S,T,C)},e.createElement(o.symbol,{name:"toolbarAlignCenter"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_align_right"),styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:u.bind(this,S,T,C)},e.createElement(o.symbol,{name:"toolbarAlignRight"}))),e.createElement(o.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_align_top"),styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:m.bind(this,S,T,C)},e.createElement(o.symbol,{name:"toolbarAlignTop"}))),e.createElement(o.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_align_middle"),styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:g.bind(this,S,T,C)},e.createElement(o.symbol,{name:"toolbarAlignMiddle"}))),e.createElement(o.tooltip,{alignment:"bottom",value:this.getShortcutTooltip("toolbar_tooltip_align_bottom"),styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:f.bind(this,S,T,C)},e.createElement(o.symbol,{name:"toolbarAlignBottom"})))),e.createElement(a,{key:"distributeButtons",disabled:!this.isDistributeEnabled(),symbol:"distribute-vertical-btn-bld",columns:3,onShow:t.partial(this.props.reportBI,T.events.toolbar.TOOL_BAR_DISTRIBUTION_CLICK,{}),tooltip:this.getInfoTooltip("toolbar_tooltip_distribute","toolbar_tooltip_distribute_info"),tooltipClass:"control-tooltip-small"},e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_distribute_horizontally"),styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:h.bind(this,S,T,C)},e.createElement(o.symbol,{name:"distribute-horizontal-btn-bld"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_distribute_both"),styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:b.bind(this,S,T,C)},e.createElement(o.symbol,{name:"distribute-hw-btn-bld"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_distribute_vertically"),styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:y.bind(this,S,T,C)},e.createElement(o.symbol,{name:"distribute-vertical-btn-bld"})))),e.createElement(a,{key:"matchSizeButtons",disabled:!this.isMatchSizeEnabled(),symbol:"mech-to-height-btn-bld",columns:3,onShow:t.partial(this.props.reportBI,T.events.toolbar.TOOL_BAR_MATCH_SIZE_CLICK,{}),tooltip:this.getInfoTooltip("toolbar_tooltip_match_size","toolbar_tooltip_match_size_info"),tooltipClass:"control-tooltip-small"},e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_match_size_width"),styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:P.bind(this,S,T,C)},e.createElement(o.symbol,{name:"mech-to-width-btn-bld"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_match_size_both"),styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:v.bind(this,S,T,C)},e.createElement(o.symbol,{name:"mech-hw-btn-bld"}))),e.createElement(o.tooltip,{value:this.getShortcutTooltip("toolbar_tooltip_match_size_height"),styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"button",onClick:E.bind(this,S,T,C)},e.createElement(o.symbol,{name:"mech-to-height-btn-bld"}))))))}return S.apply(this,[])}}),define("rEditor/rootComps/toolBar/toolbarTop",["react","create-react-class","prop-types","lodash","baseUI","core","util","higherOrderComponents","rEditor/rootComps/toolBar/toolbarTop.rt"],function(e,t,o,n,i,a,r,s,l){var c=a.bi,p=t({displayName:"toolbarTop",propTypes:{restrictions:o.object,components:o.arrayOf(o.object),pasteEnabled:o.bool,compDeleteTooltipText:o.func,compBIParams:o.array,isCompControlledByParent:o.bool,reportBI:o.func,copyPasteAPI:o.shape({copy:o.func,paste:o.func,duplicate:o.func}),canDistributeAllDirections:o.bool,distribute:o.func,canMatchAllSizes:o.bool,matchSize:o.func,addHistory:o.func,isMobileEditor:o.bool,canAlignAllDirections:o.bool,alignComp:o.func,removeComp:o.func,arrangementAPI:o.shape({moveToFront:o.func,moveForward:o.func,moveToBack:o.func,moveBackward:o.func})},getShortcutTooltip:function(t,o){return e.createElement(i.popoverTemplates.keyboardShortcutTooltip,{label:t,shortcut:o})},getDeleteTooltipText:function(){var e=this.props.isMobileEditor?"toolbar_tooltip_hide":"toolbar_tooltip_delete";return this.props.restrictions.removable?this.getShortcutTooltip(e,r.translate("toolbar_tooltip_delete_shortcut")):this.getDisabledDeleteTooltipText(e,r.translate("toolbar_tooltip_delete_shortcut"))},getDisabledDeleteTooltipText:function(e,t){var o=this.props.compDeleteTooltipText;return o||this.getShortcutTooltip(e,t)},getInfoTooltip:function(t,o){return e.createElement(i.popoverTemplates.titleBodyAndLinkTooltip,{title:t,text:o})},handleCopy:function(){this.props.restrictions.duplicatable&&(n.forEach(this.props.compBIParams,this.assignToolbarSpecificBI.bind(null,"origin")),this.props.reportBI(c.events.rightClickMenu.COPY,this.props.compBIParams),this.props.copyPasteAPI.copy(this.props.components))},handlePaste:function(){if(this.props.pasteEnabled){var e=this.props.compBIParams;n.forEach(e,this.assignToolbarSpecificBI.bind(null,"origin")),this.props.copyPasteAPI.paste(),this.props.addHistory("component - paste"),this.props.reportBI(c.events.rightClickMenu.PASTE,e)}},handleDuplicate:function(){if(this.props.restrictions.duplicatable){var e=this.props.compBIParams;n.forEach(e,this.assignToolbarSpecificBI.bind(null,"origin")),this.props.copyPasteAPI.duplicate(this.props.components),this.props.addHistory("component - duplicate"),this.props.reportBI(c.events.rightClickMenu.DUPLICATE,e)}},handleDelete:function(){if(this.props.restrictions.removable){var e=this.props.compBIParams;n.forEach(e,this.assignToolbarSpecificBI.bind(null,"removal_method")),this.props.removeComp(this.props.components),this.props.addHistory("component - remove"),this.props.reportBI(c.events.editor.component_removed,e)}},moveToFront:function(){this.props.arrangementAPI.moveToFront(this.props.components),this.props.reportBI(c.events.rightClickMenu.BRING_TO_FRONT,{origin:"toolbar"})},moveForward:function(){this.props.arrangementAPI.moveForward(this.props.components),this.props.reportBI(c.events.rightClickMenu.MOVE_FORWARD,{origin:"toolbar"})},moveToBack:function(){this.props.arrangementAPI.moveToBack(this.props.components),this.props.reportBI(c.events.rightClickMenu.SEND_TO_BACK,{origin:"toolbar"})},moveBackward:function(){this.props.arrangementAPI.moveBackward(this.props.components),this.props.reportBI(c.events.rightClickMenu.MOVE_BACKWARDS,{origin:"toolbar"})},isAlignEnabled:function(){return!this.props.isCompControlledByParent&&this.props.canAlignAllDirections},align:function(e){this.props.alignComp(this.props.components,e),this.props.reportBI(c.events.toolbar.TOOL_BAR_ALIGNMENT_MENU_CLICK,{category:e})},isDistributeEnabled:function(){return!this.props.isCompControlledByParent&&this.props.canDistributeAllDirections},distribute:function(e){this.props.distribute(this.props.components,e),this.props.reportBI(c.events.toolbar.TOOL_BAR_DISTRIBUTION_MENU_CLICK,{category:e})},isMatchSizeEnabled:function(){return!this.props.isCompControlledByParent&&this.props.canMatchAllSizes},matchSize:function(e){this.props.matchSize(this.props.components,e),this.props.reportBI(c.events.toolbar.TOOL_BAR_MATCH_SIZE_MENU_CLICK,{category:e})},assignToolbarSpecificBI:function(e,t){var o={};o[e]="toolbar",n.assign(t,o)},render:l});return s.renderWhenMutated(p)}),define("rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle.rt",["react","lodash","baseUI"],function(e,t,o){return function(){return e.createElement("label",{className:"row show-on-all-pages-row"},e.createElement(o.tooltip,{disabled:this.shouldHideTooltip(),value:"RightClick_Menu_Show_on_All_Pages_Disabled_Tooltip",styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("div",{className:"action"},e.createElement(o.toggle,{name:"switch",disabled:this.props.disabled,className:"show-on-all-pages",value:this.props.isComponentShowOnAllPages,onChange:this.handleShowOnAllPages,size:"medium"}))))}}),define("rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle",["core","lodash","create-react-class","prop-types","rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle.rt"],function(e,t,o,n,i){return o({displayName:"showOnAllPages",propTypes:{selectedComponents:n.arrayOf(n.object),isComponentShowOnAllPages:n.bool,disabled:n.bool,isPage:n.bool,componentsRestrictions:n.object,toggleShowOnAllPages:n.func,reportBI:n.func,origin:n.string},shouldHideTooltip:function(){return!this.props.selectedComponents||!this.props.disabled||this.props.isPage},handleShowOnAllPages:function(){var t,o;t=this.props.componentsRestrictions,this.props.selectedComponents&&t.canToggleShowOnAllPages&&(o=this.props.toggleShowOnAllPages(),this.props.reportBI(e.bi.events.rightClickMenu.SHOW_ON_ALL_PAGES,{new_status:o,origin:this.props.origin}))},render:i})}),define("rEditor/rootComps/toolBar/toolBar.rt",["react","lodash","baseUI","util","rEditor/rootComps/toolBar/toolbarTop","rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle","experiment"],function(e,t,o,n,i,a,r){return function(){function s(e,t){this.startDrag(t,this.getDragLimits())}function l(e,t){this.rotateComponent("rotationInDegrees",t)}function c(e,t){this.resizeComponent("width",t)}function p(e,t){this.resizeComponent("height",t)}function d(e,t){this.moveComponent("x",t)}function u(e,t){this.moveComponent("y",t)}function m(){var m=this.getLayout();return e.createElement("div",{className:t(this.getClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,onContextMenu:this.props.onContextMenu},e.createElement("div",{className:"header"},e.createElement("div",{className:"drag-zone",onMouseDown:s.bind(this,m)},e.createElement("span",{className:"drag-handle"},e.createElement(o.symbol,{name:"toolbarDragHandle"}))),e.createElement("button",{className:"help",onClick:this.onHelp},"?"),e.createElement("span",{className:"close",onClick:this.props.toggleToolbar},e.createElement(o.symbol,{name:"toolbarClose"}))),e.createElement("div",{className:"header-seperator"}),e.createElement(i,{restrictions:this.props.componentsRestrictions,components:this.props.components,pasteEnabled:this.props.isPasteEnabled,compDeleteTooltipText:this.props.compDeleteTooltipText,compBIParams:this.props.compBIParams,isCompControlledByParent:this.props.isCompControlledByParent,reportBI:this.props.reportBI,copyPasteAPI:this.props.copyPasteAPI,canDistributeAllDirections:this.props.canDistributeAllDirections,distribute:this.props.distribute,canMatchAllSizes:this.props.canMatchAllSizes,matchSize:this.props.matchSize,addHistory:this.props.addHistory,isMobileEditor:this.props.isMobileEditor,canAlignAllDirections:this.props.canAlignAllDirections,alignComp:this.props.alignComp,removeComp:this.props.removeComp,arrangementAPI:this.props.arrangementAPI}),e.createElement("div",{className:"seperator"}),e.createElement("div",{className:"inner form"},e.createElement("label",{"data-input-title":"input_rotation",className:"row"},e.createElement(o.tooltip,{value:"toolbar_tooltip_rotation",styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{},e.createElement(o.symbol,{name:"toolbarRotation"}))),e.createElement(o.stepper,{className:"small degrees",disabled:!this.props.componentsRestrictions.rotatable,min:-1/0,max:1/0,value:parseInt(m.rotationInDegrees,10),units:"°",onChange:l.bind(this,m)}))),e.createElement("div",{className:"seperator"}),e.createElement("div",{className:"inner form"},e.createElement("span",{className:"layout-title"},n.translate("toolbar_size")),e.createElement("label",{className:"row"},e.createElement(o.tooltip,{value:"toolbar_tooltip_width",styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"label",style:{paddingRight:"4px"}},n.translate("toolbar_width")+":")),e.createElement(o.stepper,{disabled:!this.props.componentsRestrictions.horizontallyResizable,className:"small",value:parseInt(m.width,10),min:-1/0,max:1/0,onChange:c.bind(this,m)})),e.createElement("label",{className:"row"},e.createElement(o.tooltip,{value:"toolbar_tooltip_height",styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"label"},n.translate("toolbar_height")+":")),e.createElement(o.stepper,{disabled:!this.props.componentsRestrictions.verticallyResizable,className:"small",min:-1/0,max:1/0,value:parseInt(m.height,10),onChange:p.bind(this,m)}))),e.createElement("div",{className:"seperator"}),e.createElement("div",{className:"inner form"},e.createElement("span",{className:"layout-title"},n.translate("toolbar_position")),e.createElement("label",{"data-input-title":"input_x",className:"row input_x","data-hint-id":r.isMultiValueExperimentOpen("editorHintsConfigs")?"XandY":null},e.createElement(o.tooltip,{value:"toolbar_tooltip_x_position",styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"input_x_label label"},n.translate("toolbar_x")+":")),e.createElement(o.stepper,{disabled:!this.props.componentsRestrictions.horizontallyMovable,className:"small",min:-1/0,max:1/0,value:parseInt(m.bounding.x,10),onChange:d.bind(this,m)})),e.createElement("label",{"data-input-title":"input_y",className:"row"},e.createElement(o.tooltip,{value:"toolbar_tooltip_y_position",styleType:o.uiConstants.TOOLTIP.STYLE_TYPE.SMALL,delay:"600"},e.createElement("span",{className:"label"},n.translate("toolbar_y")+":")),e.createElement(o.stepper,{disabled:!this.props.componentsRestrictions.verticallyMovable,className:"small",min:-1/0,max:1/0,value:parseInt(m.bounding.y,10),onChange:u.bind(this,m)}))),e.createElement("div",{className:"seperator",key:"seperator-inner-form"}),e.createElement("div",{className:"inner form",key:"inner-form"},this.shouldShowFreezePositionToggle()?null:e.createElement("div",{key:"containable"},e.createElement("span",{className:"layout-title show-on-all-pages-title"},n.translate("toolbar_show_on_all_pages")),e.createElement("label",{},e.createElement(a,{origin:"toolbar",selectedComponents:this.props.components,isComponentShowOnAllPages:this.props.isComponentShowOnAllPages,disabled:this.isShowOnAllPagesToggleDisabled(),isPage:this.props.isPage,componentsRestrictions:this.props.componentsRestrictions,toggleShowOnAllPages:this.props.toggleShowOnAllPages,reportBI:this.props.reportBI}))),this.shouldShowFreezePositionToggle()?e.createElement("div",{key:"canBeFixed"},e.createElement("span",{className:"layout-title show-on-all-pages-title"},n.translate("toolbar_fixed_position")),e.createElement("label",{className:"row show-on-all-pages-row"},e.createElement(o.toggle,{name:"switch",className:"show-on-all-pages",key:"fixedPosition",value:this.props.componentsRestrictions.fixed,onChange:this.props.toggleFixedPosition,size:"medium"}))):null))}return m.apply(this,[])}}),define("rEditor/rootComps/toolBar/toolBar",["react","create-react-class","lodash","prop-types","util","core","baseUI","experiment","higherOrderComponents","rEditor/rootComps/mixins/hiddenableMixin","rEditor/rootComps/mixins/keepInViewportMixin","editorHints","rEditor/rootComps/toolBar/toolBarMapper","rEditor/rootComps/toolBar/toolBar.rt"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m){function g(e,t,o){return e[t]+o-e.bounding[t]}function f(e){return{right:b,top:y+e}}var h=a.bi,b=42,y=42,P={rotationInDegrees:0,width:0,height:0,x:0,y:0,bounding:{x:0,y:0}},v=t({displayName:"toolBar",mixins:[i.draggableMixin,c,p],propTypes:{halfOpacityTools:n.bool.isRequired,hidden:n.bool,components:n.arrayOf(n.object),componentsWithoutAncestor:n.arrayOf(n.object),toolsHidden:n.bool,previewTopPosition:n.number,layout:n.shape({componentLayout:n.object,update:n.func,updateAndPreserveProportions:n.func}),componentsRestrictions:n.object,areComponentsMultiSelectedOrGrouped:n.bool,componentsProportions:n.object,componentLayoutLimits:n.object,addHistory:n.func,toggleShowOnAllPages:n.func,canToggleShowOnAllPages:n.bool,shouldDisableShowOnAllPages:n.bool,isPage:n.bool,reportBI:n.func,isComponentShowOnAllPages:n.bool,isPasteEnabled:n.bool,toggleToolbar:n.func,componentType:n.string,onHelp:n.func,toggleFixedPosition:n.func,compDeleteTooltipText:n.string,compBIParams:n.array,isCompControlledByParent:n.bool,copyPasteAPI:n.shape({copy:n.func,paste:n.func,duplicate:n.func}),canDistributeAllDirections:n.bool,distribute:n.func,canMatchAllSizes:n.bool,matchSize:n.func,isMobileEditor:n.bool,canAlignAllDirections:n.bool,alignComp:n.func,removeComp:n.func,arrangementAPI:n.shape({moveToFront:n.func,moveForward:n.func,moveToBack:n.func,moveBackward:n.func})},getLayout:function(){return this.props.layout.componentLayout||P},updateLayout:function(e,t,o){this.props.layout.update(e,t,o)},updateLayoutProportionally:function(e,t,o,n){this.props.layout.updateAndPreserveProportions(e,t,o,n)},getInitialState:function(){return this.initialPosition=f(this.props.previewTopPosition),{}},getComponentPosition:function(e){return this.state.isCustomPosition?this.fitPositionToScreen(e,10,b):this.initialPosition},onDragEnd:function(){this.updateLastCustomXPosition(this.draggable.nodePosition.x)},getClasses:function(){return o.assign({"rootcomp-toolbar":!0,hidden:this.props.hidden},this.getHiddenableClasses())},resizeComponent:function(e,t){this.props.reportBI(h.events.editBox.RESIZE,{origin:"toolbar"}),this.setComponentLayoutChange(e,t)},moveComponent:function(e,t){this.setComponentLayoutChange(e,t)},rotateComponent:function(e,t){var o=parseInt(t,10);0===o?this.props.reportBI(h.events.editBox.CANCEL_ROTATE_COMPONENT):this.props.reportBI(h.events.editBox.ROTATE_COMPONENT,{origin:"toolbar",value:o}),this.setComponentLayoutChange(e,t)},setComponentLayoutChange:function(e,t){var n=this.getLayout();if(t=parseInt(t,10),isNaN(t))this.forceUpdate();else{"y"!==e&&"x"!==e||(t=g(n,e,t));var i=this.props.componentsWithoutAncestor;if(n[e]!==t){var a={};a[e]=t;var r;this.props.areComponentsMultiSelectedOrGrouped?(r=n.width/n.height,"height"===e?a.width=t*r:"width"===e&&(a.height=t/r),a=o.mapValues(a,o.round),this.updateLayoutProportionally(i,a,this.props.componentsProportions,!0)):(o.includes(["width","height"],e)&&this.props.componentsRestrictions.resizeOnlyProportionally&&(r=this.props.componentLayoutLimits.aspectRatio,"width"===e?(a.width=t,a.height=Math.round(t/r)):(a.height=t,a.width=t*r)),this.updateLayout(i,a,!0)),this.props.addHistory("toolbar - set selected component layout - "+e)}}},onHelp:function(){var e={origin:a.constants.BI.HELP.ORIGIN.TOOLBAR,component:this.props.componentType,learn_more:!1,panel_name:a.constants.BI.HELP.ORIGIN.TOOLBAR};this.props.onHelp("4ab49cd7-2ea4-4873-904e-f65d17d2f1dd",e)},handleShowOnAllPages:function(){if(this.props.componentsRestrictions.canToggleShowOnAllPages){var e=this.props.toggleShowOnAllPages();this.props.reportBI(h.events.rightClickMenu.SHOW_ON_ALL_PAGES,{new_status:e,origin:a.constants.BI.HELP.ORIGIN.TOOLBAR})}},shouldShowFreezePositionToggle:function(){return this.props.componentsRestrictions.showLegacyFixedPosition},isShowOnAllPagesToggleDisabled:function(){return!this.props.componentsRestrictions.canToggleShowOnAllPages||this.props.shouldDisableShowOnAllPages},render:function(){return s.isMultiValueExperimentOpen("editorHintsConfigs")?e.createElement(d.hintsNotify,{id:d.hintsContainers.TOOL_BAR},m.call(this)):m.call(this)}}),E=l.connectEditorAPI(u)(l.renderWhenMutated(v));return E.pure=v,E}),define("rEditor/utils/openPanelByURLData",["lodash"],function(e){var t={addPanel:{name:"addPanelInfra.addPanel",propsGenarator:function(e,t){return{category:e,section:t}}},siteSettingsPanel:{name:"rEditor.panels.siteSettingsPanel",propsGenarator:function(e){return{tab:e}}},pagesPanel:{name:"rEditor.panels.pagesAndPopupsPanel",propsGenarator:function(e){return{tabForSettingsPanel:e}}},feedMe:{name:"panels.focusPanels.feedbackPanel"},blog:{name:"blog.menuPanel"},background:{name:"rEditor.panels.backgroundPanel"},wixStore:{name:"wixStore.panels.wixStorePanel",shouldOpenPanelByRestrictions:function(e){return e.documentServices.tpa.app.isInstalled("1380b703-ce81-ff05-f115-39571d94dfcd")}},accessibilityPanel:{name:"panels.focusPanels.accessibilityPanel"}},o={mobileHidden:{name:"mobileEditor.hiddenItemsPanel"},mobileBackground:{name:"rEditor.panels.backgroundPanel"},mobileSiteSettingsPanel:{name:"rEditor.panels.siteSettingsPanel",propsGenarator:function(e){return{tab:e}}},mobileElements:{name:"mobileEditor.mobileElementsPanel",propsGenarator:function(e){return{mobileElementId:e}}},mobileLayoutOptimizer:{name:"mobileEditor.layoutOptimizerPanel"}};return{allPanels:function(){var n=e.merge({},t,o);return e.mapKeys(n,function(e,t){return t.toLowerCase()})}(),mobilePanels:function(){return e.mapKeys(o,function(e,t){return t.toLowerCase()})}()}}),define("rEditor/utils/openPanelByURL",["lodash","rEditor/utils/openPanelByURLData"],function(e,t){function o(e){return e&&!!c[e]}function n(e){var t=r(e),n=t?t.split("."):"",i=n?n[0]:"";return"mobile"===i||o(i)}function i(t){var o=t.split("."),n=o[0],i=o.slice(1);if(l[n]&&e.isFunction(l[n].propsGenarator)&&i.length){var a=l[n].propsGenarator.apply(null,i);return e.omit(a,e.isUndefined)}return{}}function a(t,o){if(t){var n=t.split(".")[0],i=!e.isFunction(e.get(l[n],"shouldOpenPanelByRestrictions"))||l[n].shouldOpenPanelByRestrictions(o);return!!l[n]&&i}}function r(t){var o=e.mapKeys(t,function(e,t){return t.toLowerCase()}).openpanel;return o?o.toLowerCase():""}function s(e,t){var o=r(e);if(a(o,t)){var n=l[o.split(".")[0]].name,s=i(o);t.panelManager.openPanel(n,s)}}var l=t.allPanels,c=t.mobilePanels;return{shouldLoadMobileEditor:n,openPanel:s}}),define("rEditor/rootComps/topBar/config/topBarData.json",[],function(){return{EDIT:[{comp:"WIX_LOGO",orientation:"left"},{comp:"SEPARATOR",orientation:"left"},{comp:"PAGES_LIST",orientation:"left"},{comp:"SEPARATOR",orientation:"left"},{comp:"MENU",orientation:"left"},{comp:"SEPARATOR",orientation:"right"},{comp:"ZOOMOUT",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"UNDO",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"REDO",orientation:"right"},{comp:"REDO_SEPARATOR",orientation:"right"},{comp:"EDITOR_MODE_SWITCH",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"SAVE",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"WIXSTORES_MIGRATION_UPGRADE_SITE",orientation:"right"},{comp:"PREVIEW",orientation:"right"},{comp:"PUBLISH",orientation:"right"},{comp:"WIXSTORES_MIGRATION_SAVE",orientation:"right"}],PREVIEW:[{comp:"WIX_LOGO",orientation:"left"},{comp:"SEPARATOR",orientation:"left"},{comp:"MOBILE_NON_OPTIMIZED_NOTIFICATION",orientation:"center"},{comp:"PREVIEW_NOTIFICATION",orientation:"center"},{comp:"SEPARATOR",orientation:"right"},{comp:"EDITOR_MODE_SWITCH",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"PREVIEW_SAVE",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"WIXSTORES_MIGRATION_UPGRADE_SITE",orientation:"right"},{comp:"BACK_TO_EDITOR",orientation:"right"}]}}),define("rEditor/rootComps/topBar/config/topBarDataWithMultilingual.json",[],function(){return{EDIT:[{comp:"WIX_LOGO",orientation:"left"},{comp:"SEPARATOR",orientation:"left"},{comp:"LANGUAGE_MANAGER",orientation:"left"},{comp:"SEPARATOR",orientation:"left"},{comp:"PAGES_LIST",orientation:"left"},{comp:"SEPARATOR",orientation:"left"},{comp:"MENU",orientation:"left"},{comp:"SEPARATOR",orientation:"right"},{comp:"ZOOMOUT",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"UNDO",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"REDO",orientation:"right"},{comp:"REDO_SEPARATOR",orientation:"right"},{comp:"EDITOR_MODE_SWITCH",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"SAVE",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"WIXSTORES_MIGRATION_UPGRADE_SITE",orientation:"right"},{comp:"PREVIEW",orientation:"right"},{comp:"PUBLISH",orientation:"right"},{comp:"WIXSTORES_MIGRATION_SAVE",orientation:"right"}],PREVIEW:[{comp:"WIX_LOGO",orientation:"left"},{comp:"SEPARATOR",orientation:"left"},{comp:"MOBILE_NON_OPTIMIZED_NOTIFICATION",orientation:"center"},{comp:"PREVIEW_NOTIFICATION",orientation:"center"},{comp:"SEPARATOR",orientation:"right"},{comp:"EDITOR_MODE_SWITCH",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"PREVIEW_SAVE",orientation:"right"},{comp:"SEPARATOR",orientation:"right"},{comp:"WIXSTORES_MIGRATION_UPGRADE_SITE",orientation:"right"},{comp:"BACK_TO_EDITOR",orientation:"right"}]}}),define("rEditor/rootComps/topBar/menuBar/config/topBarMenuData.json",[],function(){return[{key:"SITE_BAR",children:[{key:"SAVE",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SAVE",style:{width:192,minHeight:396},title:"TOPBAR_SITE_SAVE_PROMOTION_TITLE",message:"TOPBAR_SITE_SAVE_PROMOTION_TEXT",symbol:"menubarSaveSitePromotion"}}},{key:"PREVIEW",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"PREVIEW",style:{width:192,minHeight:396},title:"TOPBAR_SITE_PREVIEW_PROMOTION_TITLE",message:"TOPBAR_SITE_PREVIEW_PROMOTION_TEXT",symbol:"menubarPreviewSitePromotion"}}},{key:"FEEDBACK",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"FEEDBACK",style:{width:192,minHeight:396},title:"TOPBAR_GetFeedback_Promotion_Title",message:"TOPBAR_GetFeedback_Promotion_Text",symbol:"menubarfeedbackPromotion"}}},{key:"PUBLISH",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"PUBLISH",style:{width:192,minHeight:396},title:"TOPBAR_SITE_PUBLISH_PROMOTION_TITLE",message:"TOPBAR_SITE_PUBLISH_PROMOTION_TEXT",symbol:"menubarPublishSitePromotion"}}},{key:"VIEW_SITE",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"VIEW-SITE",style:{width:192,minHeight:396},title:"TOPBAR_SITE_VIEW_SITE_PROMOTION_TITLE",message:"TOPBAR_SITE_VIEW_SITE_PROMOTION_TEXT",symbol:"menubarViewPublishedPromotion"}}},{key:"GET_TRAFFIC",experiment:"getTraffic",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"GET_TRAFFIC",style:{width:192,minHeight:396},title:"TOPBAR_GetTraffic_Label",message:"TOPBAR_GetTraffic_Promotion_Text",symbol:"menubarGetFoundOnGoogle"}}},{key:"GO_TO_SEO_WIZ",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"GO_TO_SEO_WIZ",style:{width:192,minHeight:396},title:"TOPBAR_GetTraffic_New_Promotion_Title",message:"TOPBAR_GetTraffic_New_Promotion_Text",symbol:"menubarGetFoundOnGoogle"}}},{key:"ACCESSIBILITY",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"ACCESSIBILITY",style:{width:192,minHeight:396},title:"TOPBAR_SITE_ACCESSIBILITY_PROMOTION_TITLE",message:"TOPBAR_SITE_ACCESSIBILITY_PROMOTION_TEXT",symbol:"accessibilityTopBar"}}},{key:"CONNECT_DOMAIN",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"CONNECT-DOMAIN",style:{width:192,minHeight:396},title:"TOPBAR_SITE_CONNECT_PROMOTION_TITLE",message:"TOPBAR_SITE_CONNECT_PROMOTION_TEXT",symbol:"menubarConnectDomainPromotion"}}},{key:"MULTILINGUAL",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"MULTILINGUAL",style:{width:192,minHeight:396},title:"TOPBAR_SITE_MULTILINGUAL_TITLE",message:"TOPBAR_SITE_MULTILINGUAL_TEXT",symbol:"menubarMultilingualPromotion"}}},{key:"UPGRADE_ITEM",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"UPGRADE",style:{backgroundColor:"#ebdbf6",width:192,minHeight:396},title:"TOPBAR_SITE_UPGRADE_PROMOTION_TITLE",message:"TOPBAR_SITE_UPGRADE_PROMOTION_TEXT",symbol:"menubarUpgradePromotionLight"}}},{key:"EDITOR_MODE_SWITCH",rightPanel:{DESKTOP:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"MOBILE-SWITCH",style:{width:192,minHeight:396},title:"TOPBAR_SITE_MOBILE_PROMOTION_TITLE",message:"TOPBAR_SITE_MOBILE_PROMOTION_TEXT",symbol:"menubarSwitchToMobilePromotion"}},MOBILE:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"DESKTOP-SWITCH",style:{width:192,minHeight:396},title:"TOPBAR_SITE_DESKTOP_PROMOTION_TITLE",message:"TOPBAR_SITE_DESKTOP_PROMOTION_TEXT",symbol:"menubarSwitchToDesktopPromotion"}}}},{key:"IMAGE_OPTIMIZATION",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"IMAGE-OPTIMIZATION",style:{width:192,minHeight:396},title:"TOPBAR_SITE_IMAGE_QUALITY_PROMOTION_TITLE",message:"TOPBAR_SITE_IMAGE_QUALITY_PROMOTION_TEXT",symbol:"imageOptimizationPromotion"}}},{key:"SITE_DASHBOARD",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SITE-DASHBOARD",style:{width:192,minHeight:396},title:"TOPBAR_SITE_DASHBOARD",message:"TOPBAR_SITE_DASHBOARD_PROMOTION_TEXT",symbol:"menubarMySitesPromotion"}}},{key:"SETTINGS",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SETTINGS",style:{width:192,minHeight:396},title:"TOPBAR_SITE_SETTINGS_PROMOTION_TITLE",message:"TOPBAR_SITE_SETTINGS_PROMOTION_TEXT",symbol:"menubarSiteSettingsPromotion"}}},{key:"REVISIONS",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"REVISIONS",style:{width:192,minHeight:396},title:"TOPBAR_SITE_HISTORY_PROMOTION_TITLE",message:"TOPBAR_SITE_HISTORY_PROMOTION_TEXT",symbol:"menubarSiteHistoryPromotion"}}},{key:"BACK_TO_OLD_EDITOR",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"BACK-TO-OLD-EDITOR",style:{width:192,minHeight:396},title:"Topbar_oldeditor_promotion_title",message:"topbar_oldeditor_promotion_text2",symbol:"menubarBackToOldEditorPromotionNew"}}},{key:"EXIT",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"EXIT-EDITOR",style:{width:192,minHeight:396},title:"TOPBAR_SITE_EXIT_PROMOTION_TITLE",message:"TOPBAR_SITE_EXIT_PROMOTION_TEXT",symbol:"menubarExitEditorPromotion"}}}],rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SAVE",style:{width:192,minHeight:396},title:"TOPBAR_SITE_SAVE_PROMOTION_TITLE",message:"TOPBAR_SITE_SAVE_PROMOTION_TEXT",symbol:"menubarSaveSitePromotion"}}},{key:"VIEW_BAR",children:[{key:"TOOLBAR",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"TOOLBAR",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_TOOLBAR_TITLE",message:"TOPBAR_VIEW_TOOLBAR_BODY",symbol:"menubarToolbarPromotion"}}},{key:"RULERS",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"RULERS",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_RULERS_TITLE1",message:"TOPBAR_VIEW_RULERS_BODY1",symbol:"menubarRulersPromotion"}}},{key:"GUIDELINES",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"GUIDELINES",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_GRIDLINES_TITLE",message:"TOPBAR_VIEW_GRIDLINES_BODY",symbol:"menubarGuidesPromotion"}}},{key:"SNAP",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SNAP",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_SNAP_TITLE",message:"TOPBAR_VIEW_SNAP_BODY",symbol:"menubarSnapToObjectPromotion"}}},{key:"DEVELOPER_MODE",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"DEVELOPER_MODE",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_DEVELOPER_MODE_TITLE",message:"TOPBAR_VIEW_DEVELOPER_MODE_BODY",symbol:"menuBarDeveloperMode"}}},{key:"PROPERTIES_TOOLBAR",experimentOff:"zoomModeSectionsRedesign",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"PROPERTIES_TOOLBAR",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_DEVELOPER_MODE_PROPERTIES_PANEL_TITLE",message:"TOPBAR_VIEW_DEVELOPER_MODE_PROPERTIES_PANEL_BODY",symbol:"menuBarDeveloperModeProperties"}}},{key:"HIDDEN_ELEMENTS",experimentOff:"zoomModeSectionsRedesign",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"HIDDEN_ELEMENTS",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_DEVELOPER_MODE_HIDDEN_ELEMENTS_TITLE",message:"TOPBAR_VIEW_DEVELOPER_MODE_HIDDEN_ELEMENTS_BODY",symbol:"menuBarDeveloperModeHiddenElements"}}}],rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"TOOLBAR",style:{width:192,minHeight:315},title:"TOPBAR_VIEW_TOOLBAR_TITLE",message:"TOPBAR_VIEW_TOOLBAR_BODY",symbol:"menubarToolbarPromotion"}}},{key:"HELP_BAR",children:[{key:"HELP_CENTER",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"HELP-CENTER",style:{width:192,minHeight:297},classes:{graphics:"graphics-help"},title:"TOPBAR_HELP_CENTER_PROMOTION_TITLE",message:"TOPBAR_HELP_CENTER_PROMOTION_TEXT",symbol:"menubarHelpCenterPromotion"}}},{key:"HELP_KB_SHORTCUTS",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"KB-SHORTCUTS",style:{width:192,minHeight:297},classes:{graphics:"graphics-help"},title:"TOPBAR_HELP_QUESTION_PROMOTION_TITLE",message:"TOPBAR_HELP_QUESTION_PROMOTION_TEXT",symbol:"menubarKeyboardShortcuts"}}},{key:"HELP_VIDEOS",experiment:"se_video_help_top_bar",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"HELP-VIDEOS",style:{width:192,minHeight:297},classes:{graphics:"graphics-help"},title:"TOPBAR_HELP_HOWTO_VIDEOS_PROMOTION_TITLE",message:"TOPBAR_HELP_HOWTO_VIDEOS_PROMOTION_TEXT",symbol:"menubarStepByStepVideo"}}},{key:"HELP_CONNECT_DOMAIN",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"CONNECT-DOMAIN",style:{width:192,minHeight:297},classes:{graphics:"graphics-help"},title:"TOPBAR_HELP_CONNECT_PROMOTION_TITLE",message:"TOPBAR_HELP_CONNECT_PROMOTION_TEXT",symbol:"menubarConnectDomain"}}},{key:"HELP_SEO",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"SEO",style:{width:192,minHeight:297},classes:{graphics:"graphics-help"},title:"TOPBAR_HELP_SEO_PROMOTION_TITLE",message:"TOPBAR_HELP_SEO_PROMOTION_TEXT",symbol:"menubarGettingFoundOnlineSeo"}}},{key:"TERMS_OF_USE",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"TERMS-OF-USE",style:{width:192,minHeight:297},classes:{graphics:"graphics-help"},title:"TOPBAR_HELP_TERMS_PROMOTION_TITLE",message:"TOPBAR_HELP_TERMS_PROMOTION_TEXT",symbol:"menubarTermsOfUse"}}},{key:"PRIVACY_POLICY",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"PRIVACY-POLICY",style:{width:192,minHeight:297},classes:{graphics:"graphics-help"},title:"TOPBAR_HELP_PRIVACY_PROMOTION_TITLE",message:"TOPBAR_HELP_PRIVACY_PROMOTION_TEXT",symbol:"menubarPrivacyPolicy"}}}],rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"HELP-CENTER",style:{width:192,minHeight:297},classes:{graphics:"graphics-help"},title:"TOPBAR_HELP_CENTER_PROMOTION_TITLE",message:"TOPBAR_HELP_CENTER_PROMOTION_TEXT",symbol:"menubarHelpCenterPromotion"}}},{category:"UPGRADE",upgradePanels:{DEFAULT:{key:"UPGRADE",rightPanel:{type:"rEditor.panels.topBar.promotionPanel",props:{menuKey:"UPGRADE-POPUP",class:"right-check-panel-upgrade",style:{backgroundColor:"transparent",width:131,padding:"25px 0"},symbol:"menubarUpgradePromotionDark",hintProps:{id:"Premium"}}}}}}]}),define("rEditor/rootComps/topBar/dropPanels/topBarDropPanel.rt",["react","lodash"],function(e,t){return function(){return e.createElement("div",{className:"top-bar-drop-panel "+(this.props.dropPanelClass||"")},e.createElement("div",{className:"drop-panel-left-side"},this.getLeftContent()),this.hasRightContent()?e.createElement("div",{className:"drop-panel-right-side",key:"rightContent"},this.getRightContent()):null,this.props.bottomContent?e.createElement("div",{className:"drop-panel-bottom-side",key:"bottomContent"},this.props.bottomContent):null)}}),define("rEditor/rootComps/topBar/dropPanels/topBarDropPanel",["react","create-react-class","prop-types","lodash","experiment","editorHints","rEditor/rootComps/topBar/dropPanels/topBarDropPanel.rt"],function(e,t,o,n,i,a,r){return t({displayName:"topBarDropPanel",propTypes:{leftContent:o.object.isRequired,bottomContent:o.object,rightContentOptions:o.object,dropPanelClass:o.string,closeHandle:o.func,hintContainerId:o.string},getInitialState:function(){return{displayedRightContentKey:"main"}},componentWillReceiveProps:function(e){var t=n.keys(this.props.rightContentOptions),o=n.keys(e.rightContentOptions);n.intersection(o,t).length!==t.length&&this.setState({displayedRightContentKey:"main"})},getLeftContent:function(){return e.cloneElement(this.props.leftContent,{onMenuItemHover:this.onSubMenuItemHover,closeDropDownHandle:this.props.closeHandle})},getRightContent:function(){return this.props.rightContentOptions[this.state.displayedRightContentKey]},hasRightContent:function(){return!!this.props.rightContentOptions},onSubMenuItemHover:function(e){e.rightPanel&&this.setState({displayedRightContentKey:e.key})},render:function(){return i.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintContainerId?e.createElement(a.hintsNotify,{id:this.props.hintContainerId},r.call(this)):r.call(this)}})}),define("rEditor/rootComps/topBar/buttons/topBarButton/topBarButton.rt",["react","lodash","baseUI","experiment"],function(e,t,o,n){return function(){function i(){var i=this.isDoneSuccessfully();return e.createElement("div",{className:"wrapper-to-perserve-ref","data-hint-id":n.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintProps?this.props.hintProps.id:null},e.createElement(o.button2,{key:"buttonContent-"+this.props.iconSymbol,label:this.props.label,style:this.props.buttonStyle,symbolName:this.props.iconSymbol,customLabelClass:"top-bar-button-label",className:t({"top-bar-button-content":!0,"icon-and-label":this.props.iconSymbol&&this.props.label,invisible:i}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.onClick,onMouseOver:this.handleMouseOverButton,onMouseLeave:this.handleMouseLeftButton,hintId:n.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintProps?this.props.hintProps.id+"_inner":null,disabled:this.props.isDisabled}),i?e.createElement(o.symbol,{key:"successSymbol",name:"topBarButtonVSign",className:"button-symbol vSign"}):null,this.isInProgress()?e.createElement("div",{key:"progressIndicator",className:"progress-indicator"}):null)}return e.createElement("div",{className:this.getClasses(),style:this.props.style},e.createElement(o.tooltip,this.getTooltipProps(),i.apply(this,[])),this.state.isDropDownDisplayed?e.createElement(o.bubble,t.assign({},{key:"topBarButtonDropDown"},this.getDropDownProps())):null)}}),define("rEditor/rootComps/topBar/buttons/topBarButton/topBarButton",["reactDOM","react","create-react-class","prop-types","lodash","core","util","baseUI","rEditor/rootComps/topBar/dropPanels/topBarDropPanel","rEditor/rootComps/topBar/buttons/topBarButton/topBarButton.rt"],function(e,t,o,n,i,a,r,s,l,c){return o({displayName:"topBarButton",mixins:[t.addons.PureRenderMixin,r.singlePassDOMReadWriteMixin,a.mixins.editorAPIMixin],propTypes:{label:n.string,classes:n.string,iconSymbol:n.string,dropPanelProps:n.object,actions:n.array,bi:n.oneOfType([n.array,n.object]),biFunc:n.func,isDisabled:n.bool,onMenuOpened:n.func,onMenuClosed:n.func,buttonStyle:n.object,dropPanelContent:n.oneOfType([n.object,n.func]),tooltipData:n.object,measurePhase:n.func,patchPhase:n.func,progressStatus:n.oneOf(i.values(a.constants.PROGRESS_STATUS))},getInitialState:function(){return this._domNode=null,{isDropDownDisplayed:!1,isMouseOverButton:!1}},getDefaultProps:function(){return{buttonStyle:{}}},componentDidMount:function(){this._domNode=e.findDOMNode(this),this.showTooltipIfNeeded()},componentDidUpdate:function(){this.showTooltipIfNeeded()},componentWillUnmount:function(){this._domNode=null},getClasses:function(){var e="top-bar-button "+this.props.classes;return this.state.isDropDownDisplayed&&(e+=" top-bar-button-selected"),this.isInProgress()||this.props.isDisabled?e+=" disabled-button":this.isInIdleSaved()&&(e+=" saved-button"),e},getTooltipValue:function(){var e=this.props.tooltipData;if(e&&e.presenter)return t.createElement(e.presenter,e.props)},hideTooltip:function(){if(this.props.tooltipData){var e=i.isFunction(this.props.tooltipData.onClose)?this.props.tooltipData.onClose:i.noop;s.tooltipManager.hide(this.props.tooltipData.id,e)}},showTooltipIfNeeded:function(){var e=this.props.tooltipData;e&&i.includes(e.openTriggers,s.uiConstants.TOOLTIP.TRIGGERS.IMMEDIATE)&&s.tooltipManager.show(e.id)},onClick:function(){if(!this.props.isDisabled){this.props.dropPanelContent&&this.toggleDropDown(),this.hideTooltip();var e=this.getEditorAPI(),t=e.selection.getSelectedComponents(),o=e.bi.getComponentsBIParams(t);this.props.actions&&i.forEach([].concat(this.props.actions),function(e){e()}),this.sendButtonBI(o)}},handleMouseOverButton:function(){this.setState({isMouseOverButton:!0})},handleMouseLeftButton:function(){this.setState({isMouseOverButton:!1})},getDropDownId:function(){return"top-bar-dropdown-"+(this.props.label||this.props.iconSymbol)},getDropDownProps:function(){if(!this._domNode)return{};var e=this.getDropDownContent();return{id:this.getDropDownId(),value:e,width:"1000px",interactive:!0,closeTriggers:[s.uiConstants.TOOLTIP.TRIGGERS.MOUSE_LEAVE],className:"top-bar-drop-down",overridePositionAdjustments:this.props.dropPanelProps&&this.props.dropPanelProps.overridePositionAdjustments,targetNode:this._domNode,hideMethod:this.handleDropDownWantsToClose,mouseLeftTargetNode:!this.state.isMouseOverButton,timeoutForMouseOverBubble:500}},getDropDownContent:function(){var e=this.getDropPanelLeftContent(),o={main:this.getDropPanelRightContent()};return e?t.createElement(l,{closeHandle:this.closeDropDown,leftContent:e,rightContentOptions:o,dropPanelClass:this.props.dropPanelProps&&this.props.dropPanelProps.dropPanelClass}):null},getDropPanelLeftContent:function(){var e=this.props.dropPanelContent,o=this.props.dropPanelProps;return e?(o.closeHandle=this.closeDropDown,t.createElement(e,this.props.dropPanelProps)):null},getDropPanelRightContent:function(){var e=this.props.dropPanelProps&&this.props.dropPanelProps.dropPanelPromotion;if(e){var o=i.cloneDeep(e.props);return o=i.merge({moduleName:e.type},o),t.DOM.div({className:e.classes},[t.createElement(a.lazyComponent,o)])}return null},openDropDown:function(){this.setState({isDropDownDisplayed:!0,isMouseOverButton:!0}),this.props.onMenuOpened&&this.props.onMenuOpened()},closeDropDown:function(){this.setState({isDropDownDisplayed:!1}),this.props.onMenuClosed&&this.props.onMenuClosed()},toggleDropDown:function(){this.state.isDropDownDisplayed?this.closeDropDown():this.openDropDown()},handleDropDownWantsToClose:function(){this.isMounted()&&!this.state.isMouseOverButton&&this.closeDropDown()},sendButtonBI:function(e){if(this.props.bi){var t=[].concat(this.props.bi);i.forEach(t,i.bind(function(e){e.type&&this.getEditorAPI().bi.event(e.type,e.fields)},this))}this.props.biFunc&&this.props.biFunc(e)},getTooltipProps:function(){var e=this.getTooltipValue(),t={value:e,disabled:!e||this.state.isDropDownDisplayed},o=this.props.tooltipData||{};return i.assign(t,i.pick(o,["id","interactive","onClose","closeDelay","openTriggers","closeTriggers"])),t},measurePhase:function(){return this.props.measurePhase?this.props.measurePhase():null},patchPhase:function(e){this.props.patchPhase&&this.props.patchPhase(e)},isInIdleSaved:function(){return this.props.progressStatus===a.constants.PROGRESS_STATUS.IDLE_SAVED},isInProgress:function(){return this.props.progressStatus===a.constants.PROGRESS_STATUS.IN_PROGRESS},isProgressDone:function(){return this.isDoneSuccessfully()||this.isDoneUnSuccessfully()},isDoneSuccessfully:function(){return this.props.progressStatus===a.constants.PROGRESS_STATUS.DONE_SUCCESS},isDoneUnSuccessfully:function(){return this.props.progressStatus===a.constants.PROGRESS_STATUS.DONE_FAILED},render:c})}),define("rEditor/utils/menuItemsRepository",["lodash"],function(e){function t(t,o){if(o){o=o.toLowerCase();var n=function(e){return 0===e.label.toLowerCase().indexOf(o)};return function t(o){var i;return e.forEach(o,function(e){if(n(e))return i=e,!1;var o=t(e.items);return o?(i=o,!1):void 0}),i}(t)}}function o(t,o){o=o.toLowerCase();var n=function(t){return e.includes(t.label.toLowerCase(),o)};return function t(o){if(!o||0===o.length)return o;var i=[];return e.forEach(o,function(o){var a=n(o),r=t(o.items),s=r&&r.length>0;if(a||s){var l=e.clone(o);l.items=r,i.push(l)}}),i}(t)}return{findFirstFilteredItem:t,filterItems:o}}),define("rEditor/rootComps/topBar/buttons/pagesNavButton/pagesNavButton.rt",["react","lodash","util","baseUI","symbols","experiment","uiAnimations"],function(e,t,o,n,i,a,r){return function(){function t(){var t=this.isNavButtonInPopupMode();return e.createElement(n.tooltip,this.getTooltipProps(),e.createElement("div",{className:this.props.classes+(t?" popup-mode":" ")+(this.state.isFiltering?" ":" pages-nav-button-bg ")+(this.props.isSmallVersion?"mini-":"")+"page-nav-with-label ",onClick:this.onClick,"data-hint-id":a.isMultiValueExperimentOpen("editorHintsConfigs")?"Pages_Navigation":null},this.state.isFiltering?null:e.createElement("div",{key:"page-name",className:"top-bar-page-navigation-select",ref:"popupTooltipTarget"},this.props.isSmallVersion?null:e.createElement("div",{key:"graphics",className:"page-navigation-button-graphics"},e.createElement(n.symbol,{name:"pages"})),e.createElement("span",{"data-hint-id":a.isMultiValueExperimentOpen("editorHintsConfigs")?"Pages_Navigation_inner":null,className:(this.props.isSmallVersion?"mini-":"")+"top-bar-page-navigation-pageName"},"\n                ",this.props.isSmallVersion?"":o.translate("Pages_Menu_Title_Title")+":","\n                ",e.createElement("span",{},this.getPageName())),this.props.isSmallVersion?null:e.createElement("span",{key:"arrow",className:"top-bar-page-navigation-arrow"},e.createElement(n.symbol,{name:"pagesArrow"}))),e.createElement(r.contentSlideCSS,{distance:"60px",delay:1e3},t?e.createElement("div",{key:"popup-mode",className:"top-bar-page-navigation-select popup-mode-exit"},e.createElement("span",{},o.translate("PopUps_TopBar_Exit")),e.createElement(n.button,{className:"close",icon:"headerCloseButton"})):null),this.state.isFiltering?e.createElement("div",{key:"page-filter",className:"top-bar-page-navigation-select"},e.createElement("div",{className:"page-navigation-button-graphics"},e.createElement(n.symbol,{name:"pagesSearch"})),e.createElement(n.autoCompleteTextInput,{ref:"filterInput",className:"top-bar-page-filter",placeholder:o.translate("TOPBAR_FIND_PAGE"),cancelIcon:"topBarButtonCancel",complete:this.completePageName,onChange:this.filterChanged,onKeyDown:this.onKeyDown})):null))}return t.apply(this,[])}}),define("rEditor/rootComps/topBar/buttons/pagesNavButton/pagesNavButton",["reactDOM","lodash","create-react-class","prop-types","core","baseUI","util","constants","rEditor/utils/menuItemsRepository","rEditor/rootComps/topBar/buttons/pagesNavButton/pagesNavButton.rt"],function(e,t,o,n,i,a,r,s,l,c){function p(e,t,o){return{ADD:{classPath:"baseUI.popoverTemplates.imageAndTextTooltip",props:{imageContainerStyle:{backgroundColor:"#5FBC57",backgroundImage:"url("+r.media.getMediaUrl("rEditor/topBar/popupsExitFirstTimeRetina.gif")+")",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"80%",height:"140px"},text:"Popups_Exit_FirstTime_Text",onClose:function(){o("x"),d.unRegisterTooltip(e)}}}}[t]||{}}var d=a.tooltipManager,u={ADD:{TEASER:"popups/first_time_tour_add",ID:s.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE}};return o({displayName:"topBarPageNavButton",propTypes:{isSmallVersion:n.bool,bi:n.object,tooltipValue:n.object,hideTooltip:n.func.isRequired,clickCallback:n.func},mixins:[i.mixins.editorAPIMixin],keyCodes:{ENTER:13,ESC:27},getInitialState:function(){return{isFiltering:!1,filter:""}},completePageName:function(e){var t=this.getEditorAPI().mainMenu.getMenuItemsTreeForMainMenu(),o=l.findFirstFilteredItem(t,e);return o?o.label:null},getPageName:function(){return this.getEditorAPI().pages.getCurrentUrlPageTitle()},originalOnClick:function(){this.props.clickCallback&&this.props.clickCallback(),this.openFilteredPagesPanel()},onClick:function(){this.isNavButtonInPopupMode()?(this.getEditorAPI().panelManager.closePanelByName("addPanelInfra.addPanel"),this.closePopupMode(),this.tryToShowPopupsFirstTime("ADD")):(this.tryToClosePopupsFirstTime("ADD"),this.originalOnClick())},getTooltipProps:function(){var e=this.props.tooltipValue,t=!e||this.state.isFiltering||this.isNavButtonInPopupMode()||this.isPopupsFirstTimeOpen("ADD");return{value:e,id:i.constants.TOP_BAR.TOOLTIP_ID.PAGES_LIST,interactive:!1,disabled:t}},openFilteredPagesPanel:function(){this.openWithFilter(this.state.filter),this.props.hideTooltip(i.constants.TOP_BAR.TOOLTIP_ID.PAGES_LIST),this.props.bi&&this.props.bi.type&&this.getEditorAPI().bi.event(this.props.bi.type,this.props.bi.fields)},filterChanged:function(e){this.openWithFilter(e)},openWithFilter:function(e){this.setState({isFiltering:!0,filter:e}),this.openPagesPanel(e)},navigateToFirst:function(){var e=this.getEditorAPI().mainMenu.getMenuItemsTreeForMainMenu(),t=l.findFirstFilteredItem(e,this.state.filter);t&&t.pageData&&(this.getEditorAPI().pages.navigateTo(t.pageData.id),this.closePagesPanel(),this.closeFiltering())},closeFiltering:function(){this.setState({isFiltering:!1,filter:""})},onKeyDown:function(e){e.keyCode===this.keyCodes.ENTER&&this.state.filter?this.navigateToFirst():e.keyCode===this.keyCodes.ESC&&(this.closePagesPanel(),this.closeFiltering())},componentWillReceiveProps:function(){this.getEditorAPI().panelHelpers.isPagesPanelOpen()||this.closeFiltering()},componentDidUpdate:function(e,t){this.state.isFiltering&&!t.isFiltering&&this.refs.filterInput.focus()},openPagesPanel:function(e){var t=this.getEditorAPI(),o={filter:e,pageAdded:function(){this.closeFiltering(),this.openPagesPanel("")}.bind(this),subpagesOpened:function(){this.closeFiltering()}.bind(this)};t.openPagesPanel(o)},closePagesPanel:function(){this.getEditorAPI().panelHelpers.closePagesPanel()},closePopupMode:function(){var e=this.getEditorAPI();e.panelManager.closeAllPanels(),e.pages.popupPages.close(),e.bi.event(i.bi.events.popups.exit_pop_up_mode_clicked,{})},isPopupOpened:function(){return t.invoke(this.getEditorAPI(),"documentServices.pages.popupPages.isPopupOpened")},isNavButtonInPopupMode:function(){return this.isPopupOpened()&&!this.state.isFiltering},getUserPrefs:function(){return this.getEditorAPI().getUserPreferences()||{}},setPopupsFirstTimeIsShown:function(e,t){var o=this.getUserPrefs().site;o&&o.set("closed_teaser_"+u[e].TEASER,!0),t("auto close")},shouldShowPopupsFirstTime:function(e){var t=this.getUserPrefs().site;return t&&!t.get("closed_teaser_"+u[e].TEASER)},getPopupsFirstTimeTooltipProps:function(e){var o=u[e].ID,n=t.once(t.partial(function(e,t){e.bi.event(i.bi.events.popups.pop_up_tooltip_closed,{origin:t})},this.getEditorAPI()));return{id:o,width:"240px",marginsFromElement:0,alignment:a.uiConstants.TOOLTIP.ALIGNMENT.BOTTOM,onClose:t.partial(this.setPopupsFirstTimeIsShown,e,n),value:p(o,e,n)}},tryToShowPopupsFirstTime:function(o){this.shouldShowPopupsFirstTime(o)&&d.createTooltip(!0,t.assign(this.getPopupsFirstTimeTooltipProps(o),{targetNode:e.findDOMNode(this.refs.popupTooltipTarget)}))},tryToClosePopupsFirstTime:function(e){var t=u[e].ID;this.shouldShowPopupsFirstTime(e)?this.isPopupsFirstTimeOpen(e)&&(d.unRegisterTooltip(t),this.clearPopupsFirstTimeHandlers()):this.clearPopupsFirstTimeHandlers()},isPopupsFirstTimeOpen:function(e){var t=u[e].ID;return d.isDisplayed(t)},clearPopupsFirstTimeHandlers:function(){this.tryToShowPopupsFirstTime=t.noop,this.tryToClosePopupsFirstTime=t.noop,this.isPopupsFirstTimeOpen=t.noop},render:c})}),define("rEditor/rootComps/topBar/buttons/topBarNotification/topBarNotification.rt",["react","lodash"],function(e,t){return function(){return this.props.isShown?e.createElement("div",{key:"topBarNotification",className:this.props.classes+" top-bar-notification"},e.createElement("div",{},this.getMessage())):null}}),define("rEditor/rootComps/topBar/buttons/topBarNotification/topBarNotification",["react","create-react-class","prop-types","util","rEditor/rootComps/topBar/buttons/topBarNotification/topBarNotification.rt"],function(e,t,o,n,i){return t({displayName:"topBarNotification",propTypes:{message:o.string,measurePhase:o.func,patchPhase:o.func},mixins:[n.singlePassDOMReadWriteMixin],emptyMessage:["","",""],getMessage:function(){var t=this.getMessageParts(),o=this.getMessageLinkPart(t[1]);return e.createElement("div",{},[t[0],o,t[2]])},getMessageParts:function(){var e=this.props.message;if(e){var t=this.getAnchorIndexes(e),o=e.substring(0,t[0]),n=e.substring(t[1]+"</a>".length);return[o,e.substring(t[0]+"<a>".length,t[1]),n]}return this.emptyMessage},getAnchorIndexes:function(e){if(!e)return[0,0];var t=e.indexOf("<a>"),o=e.indexOf("</a>");return(t<0||o<0)&&(t=e.length,o=e.length),[t,o]},getMessageLinkPart:function(t){return t?e.DOM.a({onClick:this.linkAction},t):""},linkAction:function(){this.props.action()},measurePhase:function(){return this.props.measurePhase?this.props.measurePhase():null},patchPhase:function(e){this.props.patchPhase&&this.props.patchPhase(e)},render:i})}),define("rEditor/rootComps/topBar/menuBar/menuBarPanelsDefinitions",["lodash","core","util","experiment"],function(e,t,o,n){function i(t,n){var i=t.campaigns.personalSale.getDiscountValue();return e.template(o.translate(n))({discount:i})}function a(e){return d(e)?r(e):c(e)}function r(e){return null===f&&(f=[{buttonText:o.translate("TOPBAR_UPGRADE_BUTTON_SAVE_SITE"),action:function(){e.saveManager.save()}}]),f}function s(e){var t="";return t=e.campaigns.personalSale.isActiveCampaign()?i(e,"TOPBAR_UPGRADE_POPUP_PERSONAL_SALE_BUTTON_DYNAMIC"):o.translate("TOPBAR_UPGRADE_FREE_ROW_BUTTON_2"),{offerButtonText:t,leftButtonText:o.translate("TOPBAR_UPGRADE_FREE_ROW_BUTTON_1")}}function l(e){var t="edhtml_TOP_BAR_UPGRADE_MENU_GET_YEARLY_UNLIMITED";return e.campaigns.personalSale.isActiveCampaign()&&(t="edhtml_TOP_BAR_UPGRADE_MENU_PS"),t}function c(e){if(null===h){var o=t.bi.events.topbar,n=s(e),i=l(e);h=[{buttonText:n.leftButtonText,action:p.bind(null,e,o.top_bar_compare_plans_click,"edhtml_TOP_BAR_UPGRADE_MENU_COMPARE_PLANS")},{buttonText:n.offerButtonText,action:p.bind(null,e,o.top_bar_get_yearly_unlimited_click,i)}]}return h}function p(e,t,o){e.bi.event(t),e.account.upgrade(o)}function d(t){return e.invoke(t,"documentServices.generalInfo.isFirstSave")}function u(e,t){t=t||"left",e=g(e);var o=b[e];return o&&o[t]?o[t].panel:null}function m(e,t,o){o=o||"left",e=g(e);var n=b[e];return n&&n[o]?n[o].propsGetter(t):null}function g(t){return e.includes(["SITE_BAR","EDIT_BAR","VIEW_BAR","HELP_BAR"],t)?"ACTIONS_PANEL":t}var f=null,h=null,b={ACTIONS_PANEL:{left:{panel:"rEditor.panels.topBar.menuActionsPanel",propsGetter:function(){return{}}}},UPGRADE:{left:{panel:"rEditor.panels.topBar.checkListPanel",propsGetter:function(t){var a=d(t),r="";return r=t.campaigns.personalSale.isActiveCampaign()?i(t,"TOPBAR_UPGRADE_POPUP_PERSONAL_SALE_LABEL_DYNAMIC"):o.translate(n.isOpen("spanishUpgradeText")?"UPGRADE_TO_YEARLY_FOR_SPAIN_ONLY":"TOPBAR_UPGRADE_FREE_US_TITLE"),{type:"upgrade",class:"left-check-panel-upgrade",title:r,comment:a?o.translate("TOPBAR_UPGRADE_SAVE_FIRST_TEXT"):null,description:e.map(["TOPBAR_UPGRADE_FREE_US_LINE_1","TOPBAR_UPGRADE_FREE_US_LINE_2","TOPBAR_UPGRADE_FREE_US_LINE_3","TOPBAR_UPGRADE_FREE_US_LINE_4"],o.translate)}}},bottom:{panel:"rEditor.panels.topBar.checkListPanel",propsGetter:function(e){return{type:"upgrade",class:"bottom-check-panel-upgrade",footerButtons:a(e)}}}}};return{getMenuPanelProps:m,getMenuPanelType:u}}),define("rEditor/rootComps/topBar/dropPanels/content/menuBarContent.rt",["react","lodash","core"],function(e,t,o){return function(){function n(){var n=this.getPanelProps(),i=this.getPanelClass();return e.createElement("div",{},e.createElement(o.lazyComponent,t.assign({},{moduleName:i},n)))}return e.createElement("div",{},this.props.selectedMenu?e.createElement("div",{key:"menuActions"},n.apply(this,[])):null)}}),define("rEditor/rootComps/topBar/dropPanels/content/menuBarContent",["lodash","create-react-class","prop-types","rEditor/rootComps/topBar/menuBar/menuBarPanelsDefinitions","rEditor/rootComps/topBar/dropPanels/content/menuBarContent.rt"],function(e,t,o,n,i){return t({displayName:"menuBarContent",propTypes:{content:o.string.isRequired,editorAPI:o.object.isRequired,selectedMenu:o.object,closeDropDownHandle:o.func},getPanelProps:function(){var t=null,o=this.props.selectedMenu.key;if(o){t=e.clone(this.props);var i=n.getMenuPanelProps(o,this.props.editorAPI,this.props.content);t=e.merge(t,i)}return t},getPanelClass:function(){var e=this.props.selectedMenu.key;return e?n.getMenuPanelType(e,this.props.content):null},render:i})}),define("rEditor/rootComps/topBar/dropPanels/content/menuBarRightContent.rt",["react","lodash","core"],function(e,t,o){return function(){return this.props.panel?e.createElement("div",{className:"promotion",key:"promotionPanel"},e.createElement(o.lazyComponent,t.assign({},{moduleName:this.props.panel.type},t.assign({},this.props.panel.props,{editorAPI:this.props.editorAPI,action:this.props.action,bi:this.props.bi})))):null}}),define("rEditor/rootComps/topBar/dropPanels/content/menuBarRightContent",["create-react-class","rEditor/rootComps/topBar/dropPanels/content/menuBarRightContent.rt"],function(e,t){return e({displayName:"menuBarRightContent",render:t})}),define("rEditor/rootComps/topBar/menuBar/dealerUpgradeFrame.rt",["react","lodash","baseUI"],function(e,t,o){return function(){return e.createElement("div",{},e.createElement("iframe",{style:{border:"none",width:"545px",height:"265px"},src:this.getUrl(),ref:"dealerIframe"}),e.createElement(o.preloader,{className:t({hidden:!this.state.showLoader}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")}))}}),define("rEditor/rootComps/topBar/menuBar/dealerUpgradeFrame",["reactDOM","create-react-class","prop-types","lodash","rEditor/rootComps/topBar/menuBar/dealerUpgradeFrame.rt"],function(e,t,o,n,i){return t({displayName:"dealerUpgradeFrame",propTypes:{metaSiteID:o.string.isRequired},getInitialState:function(){return{showLoader:!0}},getUrl:function(){return"http://apps.wix.com/wix-dealer-webapp/api/lightboxViewer/EDITOR_UPGRADE/"+this.props.metaSiteID},componentDidMount:function(){this.props.openPanelBiEvent&&this.props.openPanelBiParams&&this.getEditorAPI().bi.event(this.props.openPanelBiEvent,this.props.openPanelBiParams),e.findDOMNode(this.refs.dealerIframe).addEventListener("load",this.hideLoader)},hideLoader:function(){this.setState({showLoader:!1})},render:i})}),define("rEditor/rootComps/topBar/menuBar/menuBar.rt",["react","lodash","uiAnimations","baseUI"],function(e,t,o,n){return function(){function i(e,t,o){this.onMouseOverMenuItem(o)}function a(t,o,n){return e.createElement("li",{ref:"menuItem"+n,className:o.class,key:o.key,"data-hint-id":this.getMenuItemHintId(o.key),onMouseOver:i.bind(this,t,o,n)},e.createElement("a",{"data-hint-id":this.getMenuItemHintId(o.key)+"_inner"},this.getMenuItemLabel(o.key)),o.counter?e.createElement("div",{key:o.key+"counter",className:"counter"},o.counter):null)}function r(){var o=this.getMenuItems();return e.createElement.apply(this,["ul",{className:t({"menubar-items":!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onMouseLeave:this.onMouseLeave},t.map(o,a.bind(this,o))])}return e.createElement("div",{ref:"menuBar",className:this.props.classes},r.apply(this,[]),e.createElement(o.topBarMenuPanelAnimation,{outAnimationDuration:this.state.mouseOverMenu?0:.2},null!==this.state.indexOfOpenMenu?e.createElement(n.bubble,t.assign({},{key:"menuBarDropDown"},this.getDropDownProps())):null))}}),define("rEditor/rootComps/topBar/menuBar/topbarHacks/siteSection.rt",["react","lodash"],function(e,t){return function(){function t(){this.handleClick("SAVE")}function o(){this.handleClick("REVISIONS")}function n(){this.handleClick("PREVIEW")}function i(){this.handleClick("PUBLISH")}return e.createElement("div",{className:"top-bar-drop-panel menubar-drop-panel"},e.createElement("div",{className:"drop-panel-left-side"},e.createElement("div",{className:"menubar-actions-panel"},e.createElement("ul",{},e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:t.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},this.translateIfNeeded("TOPBAR_Site_Save")),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:o.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},this.translateIfNeeded("TOPBAR_Site_Site_Revisions")),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:n.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},this.translateIfNeeded("TOPBAR_PREVIEW_TOOLTIP_TITLE")),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:i.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},this.translateIfNeeded("TOPBAR_Site_Publish")),e.createElement("span",{className:"shortcut"}))))))))}}),define("rEditor/rootComps/topBar/menuBar/topbarHacks/siteSection",["create-react-class","lodash","util","core","rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions","rEditor/rootComps/topBar/menuBar/topbarHacks/siteSection.rt"],function(e,t,o,n,i,a){return e({displayName:"siteSection",mixins:[o.translationMixin,n.mixins.editorAPIMixin],handleClick:function(e){i[e].action(),this.props.closeDropDownHandle()},render:a})}),define("rEditor/rootComps/topBar/menuBar/topbarHacks/toolsSection.rt",["react","lodash"],function(e,t){return function(){function t(e){this.handleClick("GO_TO_SEO_WIZ")}function o(e){this.handleClick("EDITOR_MODE_SWITCH")}function n(e){this.handleClick("REVISIONS")}function i(e){this.handleClick("IMAGE_OPTIMIZATION")}function a(e){this.handleTransferClick()}function r(e){this.handleTransferClick()}function s(e,t){this.handleCheckChange(t,"TOOLBAR")}function l(e,t){this.handleCheckChange(t,"RULERS")}function c(e,t){this.handleCheckChange(t,"GUIDELINES")}function p(e,t){this.handleCheckChange(t,"SNAP")}function d(){var d=this.getEditorAPI().store.getState().viewTools;return e.createElement("div",{className:"menubar-actions-panel"},e.createElement("ul",{},e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:t.bind(this,d)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"SEO (Get found on Google)"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:o.bind(this,d)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},this.getLabel("EDITOR_MODE_SWITCH")),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:n.bind(this,d)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Backup and Restore"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:i.bind(this,d)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Image sharpening"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:a.bind(this,d)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Duplicate site"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:r.bind(this,d)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Transfer site"),e.createElement("span",{className:"shortcut"})))),e.createElement("hr",{className:"tools-section-separator"}),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("input",{type:"checkbox",className:"menu-bar-item-checkbox",onChange:s.bind(this,d),checked:d.toolbarEnabled}),e.createElement("span",{},"Toolbar")))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("input",{type:"checkbox",className:"menu-bar-item-checkbox",onChange:l.bind(this,d),checked:d.rulersEnabled}),e.createElement("span",{},"Rulers")))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("input",{type:"checkbox",className:"menu-bar-item-checkbox",onChange:c.bind(this,d),checked:d.guidelinesEnabled}),e.createElement("span",{},"Gridlines"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("input",{type:"checkbox",className:"menu-bar-item-checkbox",onChange:p.bind(this,d),checked:d.snapToEnabled}),e.createElement("span",{},"Snap to Objects"),e.createElement("span",{className:"shortcut"}))))))}return e.createElement("div",{className:"top-bar-drop-panel menubar-drop-panel"},e.createElement("div",{className:"drop-panel-left-side"},d.apply(this,[])))}}),define("rEditor/rootComps/topBar/menuBar/topbarHacks/toolsSection",["create-react-class","reactDOM","lodash","util","core","rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions","rEditor/rootComps/topBar/menuBar/topbarHacks/toolsSection.rt"],function(e,t,o,n,i,a,r){return e({displayName:"toolsSection",mixins:[n.translationMixin,i.mixins.editorAPIMixin],handleClick:function(e){a[e].action(),this.props.closeDropDownHandle()},getLabel:function(e){return a[e].labelFunc()},handleCheckChange:function(e,t){var o=e.target.checked;this.executeAction(o,t)},executeAction:function(e,o){var n=a[o].action;n&&!a[o].disabled&&n(void 0!==e?e:!t.findDOMNode(this.refs.checkboxInput).checked,!1,this.props.closeDropDownHandle)},handleTransferClick:function(){this.getEditorAPI().account.transferSite()},render:r})}),define("rEditor/rootComps/topBar/menuBar/topbarHacks/settingsSection.rt",["react","lodash"],function(e,t){return function(){function t(){this.handleSettingsClick("overview")}function o(){this.handleSettingsClick("advanced")}function n(){this.handleSettingsClick("plans")}function i(){this.handleSettingsClick("business")}function a(){this.handleClick("CONNECT_DOMAIN")}function r(){this.handleSettingsClick("mailboxes")}function s(){this.handleSettingsClick("localization")}function l(){this.handleSettingsClick("social")}function c(){this.handleSettingsClick("authorization")}function p(){this.handleSettingsClick("advanced")}return e.createElement("div",{className:"top-bar-drop-panel menubar-drop-panel"},e.createElement("div",{className:"drop-panel-left-side"},e.createElement("div",{className:"menubar-actions-panel"},e.createElement("ul",{},e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:t.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Site Name"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:o.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Favicon"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:n.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Premium Plan"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:i.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Business Plan"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:a.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Domain"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:r.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"MailBox"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:s.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Language & Region"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:l.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Social"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:c.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"Roles & Permissions"),e.createElement("span",{className:"shortcut"})))),e.createElement("li",{className:"menu-bar-item menu-bar-item-action enabled-item"},e.createElement("a",{onClick:p.bind(this)},e.createElement("label",{className:"menu-bar-item-label"},e.createElement("span",{},"SSL"),e.createElement("span",{className:"shortcut"}))))))))}}),define("rEditor/rootComps/topBar/menuBar/topbarHacks/settingsSection",["create-react-class","lodash","util","core","rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions","rEditor/rootComps/topBar/menuBar/topbarHacks/settingsSection.rt"],function(e,t,o,n,i,a){return e({displayName:"settingsSection",mixins:[o.translationMixin,n.mixins.editorAPIMixin],handleClick:function(e){i[e].action(),this.props.closeDropDownHandle()},handleSettingsClick:function(e){this.getEditorAPI().account.openSettings(e),this.props.closeDropDownHandle()},render:a})}),define("rEditor/rootComps/topBar/menuBar/menuBar",["react","create-react-class","prop-types","lodash","core","util","baseUI","rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions","rEditor/rootComps/topBar/dropPanels/content/menuBarContent","rEditor/rootComps/topBar/dropPanels/content/menuBarRightContent","rEditor/rootComps/topBar/dropPanels/topBarDropPanel","rEditor/rootComps/topBar/menuBar/dealerUpgradeFrame","rEditor/rootComps/topBar/menuBar/menuBar.rt","rEditor/rootComps/topBar/menuBar/topbarHacks/siteSection","rEditor/rootComps/topBar/menuBar/topbarHacks/toolsSection","rEditor/rootComps/topBar/menuBar/topbarHacks/settingsSection","experiment"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m,g,f,h){function b(e){var t=a.keyboardShortcuts.CONTEXTS.TOP_BAR,o=a.keyboardShortcuts.extendContext(t,{esc:function(){null!==e.state.indexOfOpenMenu&&e.closeDropDown()},left:function(){var t;t=0===e.state.indexOfOpenMenu?e.getNumberOfMenuItems()-1:e.state.indexOfOpenMenu-1,e.openDropDown(t)},right:function(){var t=(e.state.indexOfOpenMenu+1)%e.getNumberOfMenuItems();e.openDropDown(t)}});a.keyboardShortcuts.registerContext(a.keyboardShortcuts.CONTEXTS.MENU_BAR,o)}function y(t,o,i){var a;return a=o.isMobileEditor()?t.MOBILE||t:t.DESKTOP||t,e.createElement(c,n.assign({panel:a,editorAPI:o},i))}function P(e){e&&e.openHandlePID&&(window.clearTimeout(e.openHandlePID),e.openHandlePID=null)}return t({displayName:"menuBar",mixins:[i.mixins.editorAPIMixin],propTypes:{menuItems:o.array.isRequired,viewTools:o.object.isRequired,tooltipData:o.object,onMenuOpened:o.func,onMenuClosed:o.func},getInitialState:function(){this._isMounted=!1,this.openHandlePID=null;var e={indexOfOpenMenu:null,mouseOverMenu:!1};return h.isMultiValueExperimentOpen("editorHintsConfigs")&&(e.shouldDropDownRemainOpen=!1,e.dropDownDisabled=!1),e},componentDidMount:function(){this._isMounted=!0,b(this)},componentWillUnmount:function(){this._isMounted=!1,a.keyboardShortcuts.unregisterContext(a.keyboardShortcuts.CONTEXTS.MENU_BAR),this.isMenuBarKeyboardContextActive()&&a.keyboardShortcuts.setContext(this.lastKeyboardContext)},componentDidUpdate:function(e,t){var o=this.state.indexOfOpenMenu!==t.indexOfOpenMenu&&null===this.state.indexOfOpenMenu,n=this.state.indexOfOpenMenu!==t.indexOfOpenMenu&&null===t.indexOfOpenMenu;o?(a.keyboardShortcuts.getContext()===a.keyboardShortcuts.CONTEXTS.MENU_BAR&&a.keyboardShortcuts.setContext(this.lastKeyboardContext),this.props.onMenuClosed&&this.props.onMenuClosed()):n&&this.props.onMenuOpened&&this.props.onMenuOpened()},isMenuBarKeyboardContextActive:function(){return a.keyboardShortcuts.getContext()===a.keyboardShortcuts.CONTEXTS.MENU_BAR},getMenuItems:function(){var e=n.clone(this.props.menuItems);if(h.isOpen("us_topbarHacks")){var t={key:"SETTINGS",order:"1"};e.push(t)}return e=n.sortBy(e,"order"),n.map(e,n.bind(function(e,t){return{key:e.key,class:this.getMenuItemClasses(e.key,t),counter:h.isOpen("us_topbarHacks")?"":this.getMenuItemCounter(e.key)}},this))},getMenuItemClasses:function(e,t){var o=[];return e=e&&e.toLowerCase()||"",o.push("upgrade"!==e?"menu-bar-title":"menu-bar-upgrade-title"),"help"===e&&o.push("top-bar-help-title"),t===this.state.indexOfOpenMenu&&o.push("menu-bar-selected-item"),o.join(" ")},getMenuItemLabel:function(e){return s[e].label},getMenuItemCounter:function(e){return n.isFunction(s[e].getCounter)&&s[e].getCounter()},getNumberOfMenuItems:function(){return this.props.menuItems.length},getDropDownProps:function(){if(!this._isMounted)return{};var e=this.state.indexOfOpenMenu;return{key:"menuDropDown-"+e,value:this.getDropDownContent(e),width:"1000px",closeTriggers:this.getDropDownTooltipCloseTriggers(),className:"top-bar-drop-down",overridePositionAdjustments:{type:r.uiConstants.TOOLTIP.ALIGNMENT.LEFT,value:70},targetNode:this.refs["menuItem"+e],hideMethod:this.handleDropDownWantsToClose,mouseLeftTargetNode:!this.state.mouseOverMenu,timeoutForMouseOverBubble:500}},handleDropDownWantsToClose:function(){h.isMultiValueExperimentOpen("editorHintsConfigs")&&this.state.shouldDropDownRemainOpen||this._isMounted&&!this.state.mouseOverMenu&&(h.isMultiValueExperimentOpen("editorHintsConfigs")&&this.getEditorAPI().topBarMenuBar.onMenuBarDropDownClose(this.state.indexOfOpenMenu),this.setState({indexOfOpenMenu:null}))},getDropDownTooltipCloseTriggers:function(){return[r.uiConstants.TOOLTIP.TRIGGERS.MOUSE_LEAVE]},getDropDownContent:function(t){if(h.isOpen("dealerUpgrade")&&3===t){var o=this.getEditorAPI().documentServices.generalInfo.getMetaSiteId();return e.createElement(d,{metaSiteID:o})}if(h.isOpen("us_topbarHacks")){if(0===t)return e.createElement(m,{closeDropDownHandle:this.closeDropDown});if(1===t)return e.createElement(f,{closeDropDownHandle:this.closeDropDown});if(2===t)return e.createElement(g,{closeDropDownHandle:this.closeDropDown});t--}var n=this.getDropDownBottomContent(t),i=this.getDropDownLeftContent(t,this.props.viewTools),a=this.getMenuRightContentOptions(t),r=this.props.menuItems[t].key,l=s[r].hintContainerId||null;return e.createElement(p,{closeHandle:this.closeDropDown,bottomContent:n,leftContent:i,rightContentOptions:a,dropPanelClass:"menubar-drop-panel",hintContainerId:l})},getDropDownBottomContent:function(t){var o=this.props.menuItems[t];return e.createElement(l,{content:"bottom",selectedMenu:o,closeDropDownHandle:this.closeDropDown,editorAPI:this.getEditorAPI()})},getDropDownLeftContent:function(t,o){var n=this.props.menuItems[t];return e.createElement(l,{content:"left",selectedMenu:n,action:s[n.key].action,viewTools:o,closeDropDownHandle:this.closeDropDown,editorAPI:this.getEditorAPI()})},getMenuRightContentOptions:function(e){var t=this.getEditorAPI(),o=this.props.menuItems[e],i={};return i.main=y(o.rightPanel,t),n.forEach(o.children,n.bind(function(e){if(e&&s[e.key]&&e.rightPanel){var o={action:this.handleClickOnRightPanel.bind(this,e),bi:s[e.key].bi};i[e.key]=y(e.rightPanel,t,o)}},this)),i},getMenuItemHintId:function(e){var t=s[e];return h.isMultiValueExperimentOpen("editorHintsConfigs")&&t.hintProps?t.hintProps.id:null},handleClickOnRightPanel:function(e){var t=s[e.key],o=t.action;if(o){var i=!1!==o.apply(null,n.tail(arguments));!t.isCheckbox&&i&&this.closeDropDown()}},disableDropDown:function(){h.isMultiValueExperimentOpen("editorHintsConfigs")&&this.setState({dropDownDisabled:!0})},enableDropDown:function(){h.isMultiValueExperimentOpen("editorHintsConfigs")&&this.setState({dropDownDisabled:!1})},openDropDown:function(e,t){if(h.isMultiValueExperimentOpen("editorHintsConfigs")){if(!0===this.state.dropDownDisabled)return;this.getEditorAPI().topBarMenuBar.onMenuBarDropDownOpen(e)}null===this.state.indexOfOpenMenu&&(this.lastKeyboardContext=a.keyboardShortcuts.getContext(),a.keyboardShortcuts.setContext(a.keyboardShortcuts.CONTEXTS.MENU_BAR));var o={indexOfOpenMenu:e};h.isMultiValueExperimentOpen("editorHintsConfigs")&&(o.shouldDropDownRemainOpen=t||!1),this.setState(o)},enableClose:function(){h.isMultiValueExperimentOpen("editorHintsConfigs")&&this.setState({shouldDropDownRemainOpen:!1})},closeDropDown:function(){h.isMultiValueExperimentOpen("editorHintsConfigs")?this.state.shouldDropDownRemainOpen||(this.getEditorAPI().topBarMenuBar.onMenuBarDropDownClose(this.state.indexOfOpenMenu),this.setState({indexOfOpenMenu:null,shouldDropDownRemainOpen:!1})):this.setState({indexOfOpenMenu:null})},onMouseOverMenuItem:function(e){if(!h.isMultiValueExperimentOpen("editorHintsConfigs")||!0!==this.state.dropDownDisabled){var t=!this.state.mouseOverMenu,o=null!==this.state.indexOfOpenMenu,n=t&&!o,i=o&&this.state.indexOfOpenMenu!==e;if(t&&this.setState({mouseOverMenu:!0}),n){P(this);var a=this;this.openHandlePID=window.setTimeout(function(){a._isMounted&&a.openDropDown(e)},300)}else i&&this.openDropDown(e)}},onMouseLeave:function(){P(this),this.setState({mouseOverMenu:!1})},render:u})}),define("rEditor/rootComps/topBar/dropPanels/editorModesPanel.rt",["react","lodash","baseUI"],function(e,t,o){return function(){return e.createElement("div",{className:"editor-modes-panel"},e.createElement("div",{className:"editor-modes-panel-top-part"},e.createElement("div",{},e.createElement(o.radioList,{options:[{label:"TOPBAR_MobileDesktop_Desktopview",symbolName:"desktop",className:"editor-mode-option-desktop",symbolClass:"editor-mode-option-symbol",value:"desktop"},{label:"TOPBAR_MobileDesktop_MobileView",symbolName:"mobile",className:"editor-mode-option-mobile",symbolClass:"editor-mode-option-symbol",value:"mobile"}],value:this.props.desktopModeSelected?"desktop":"mobile",onChange:this.setEditorMode,highlightOnHover:!0}))),e.createElement("div",{className:"optimized-view-row"},e.createElement(o.toggle,{label:"TOPBAR_MobileDesktop_MobileOptimized",labelAfterSymbol:!0,value:this.props.isMobileOptimized,onChange:this.toggleOptimized})))}}),define("rEditor/rootComps/topBar/dropPanels/editorModesPanel",["create-react-class","prop-types","lodash","core","util","rEditor/rootComps/topBar/dropPanels/editorModesPanel.rt"],function(e,t,o,n,i,a){return e({displayName:"editorModesPanel",propTypes:{editorAPI:t.object.isRequired,isMobileOptimized:t.bool.isRequired,desktopModeSelected:t.bool.isRequired,closeHandle:t.func},biData:{desktop:{editor_view_mode:"desktop"},mobile:{editor_view_mode:"mobile"}},getDefaultProps:function(){return{closeHandle:o.noop}},componentDidMount:function(){this.registerKeyboardShortcuts(),this.lastKeyboardContext=i.keyboardShortcuts.getContext(),i.keyboardShortcuts.setContext("EDITOR_MODES_SWITCH")},componentWillUnmount:function(){i.keyboardShortcuts.setContext(this.lastKeyboardContext)},setEditorMode:function(e){var t=this.props.editorAPI;"desktop"===e?(this.sendModeChangeBI("desktop"),t.setDesktopEditor()):(this.sendModeChangeBI("mobile"),t.setMobileEditor()),this.props.closeHandle&&this.props.closeHandle()},toggleOptimized:function(){var e=!this.props.isMobileOptimized;this.sendToggleBI(this.props.editorAPI.getPreviewMode(),e),this.props.editorAPI.setMobileOptimizedSite(e)},sendToggleBI:function(e,t){var o=n.bi.events.topbar.mobile_view_mode_toggle,i={origin:e?"top bar preview":"top bar editor",status:t?1:0};this.props.editorAPI.bi.event(o,i)},sendModeChangeBI:function(e){var t=this.props.editorAPI;if(t){var o=n.bi.events.topbar.top_bar_editor_view_mode_click;t.getPreviewMode()&&(o=n.bi.events.topbar.top_bar_preview_page_editor_view_mode_click),t.bi.event(o,{editor_view_mode:e}),t.bi.event(n.bi.events.topbar.editor_view_mode_switch,{origin:"site_menu",mode:e})}},registerKeyboardShortcuts:function(){var e=this,t={esc:function(){e.props.closeHandle()}};i.keyboardShortcuts.registerContext("EDITOR_MODES_SWITCH",t)},render:a})}),define("rEditor/rootComps/topBar/dropPanels/menuPanels/checkListPanel.rt",["react","lodash","baseUI"],function(e,t,o){return function(){function n(n,i,a){return e.createElement("li",{key:a},e.createElement("div",{className:t({check:!n,"check-purple":n}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(o.symbol,{name:"check"})),e.createElement("div",{className:"text"},i))}function i(e,t,o){this.onClick(t.action)}function a(n,a,r){return e.createElement(o.button,{className:t({"action-button":!n,"action-button-purple1":n&&r%2==0,"action-button-purple2":n&&r%2!=0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),label:a.buttonText,shouldTranslate:!1,key:"key-"+a.buttonText,onClick:i.bind(this,n,a,r)})}function r(){var o="upgrade"===this.props.type;return e.createElement.apply(this,["div",{className:this.props.class},this.props.title?e.createElement("div",{key:"title",className:"title"},this.props.title):null,1===t.size(this.props.description)?e.createElement("div",{key:"single",className:"description"},this.props.description):null,t.size(this.props.description)>1?e.createElement("div",{key:"multiple",className:"description"},e.createElement.apply(this,["ul",{},t.map(this.props.description,n.bind(this,o)),this.props.comment?e.createElement("li",{key:"comment",className:"comment"},this.props.comment):null])):null,t.map(this.props.footerButtons,a.bind(this,o))])}return r.apply(this,[])}}),define("rEditor/rootComps/topBar/dropPanels/menuPanels/checkListPanel",["create-react-class","prop-types","rEditor/rootComps/topBar/dropPanels/menuPanels/checkListPanel.rt"],function(e,t,o){return e({displayName:"checkListPanel",propTypes:{editorAPI:t.object.isRequired,closeDropDownHandle:t.func.isRequired},onClick:function(e){e&&e(this.props.editorAPI),this.props.closeDropDownHandle()},render:o})}),define("rEditor/rootComps/topBar/topBarWidgetsDefinitions",["reactDOM","react","jquery","lodash","util","core","rEditor/rootComps/topBar/config/topBarData.json","rEditor/rootComps/topBar/config/topBarDataWithMultilingual.json","rEditor/rootComps/topBar/menuBar/config/topBarMenuData.json","rEditor/rootComps/topBar/buttons/topBarButton/topBarButton","rEditor/rootComps/topBar/buttons/pagesNavButton/pagesNavButton","rEditor/rootComps/topBar/buttons/topBarNotification/topBarNotification","rEditor/rootComps/topBar/menuBar/menuBar","rEditor/rootComps/topBar/dropPanels/editorModesPanel","baseUI","experiment","multilingual","rEditor/rootComps/topBar/menuBar/menuBarPanelsDefinitions","rEditor/rootComps/topBar/dropPanels/menuPanels/checkListPanel"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m,g,f,h){function b(e,t){e.savePublish.isSavePublishLocked()||(e.savePublish.lockSavePublish(),e.preview.togglePreview(),window.setTimeout(e.savePublish.unlockSavePublish,t||1))}function y(e){return i.media.getMediaUrl("rEditor/topBar/"+e)}function P(e){return!e||n.invoke(e,"documentServices.generalInfo.isFirstSave")}function v(e){var t=e.generalInfo&&e.documentServices.generalInfo.isSitePublished()||!1;return e.savePublish.canUserPublish()?t?{title:"TOPBAR_POSTPUBLISH_TOOLTIP_TITLE",body:"TOPBAR_POSTPUBLISH_TOOLTIP_BODY",linkText:"SAVE_PUBLISH_BUTTON_VIEW",linkAction:function(){var t=e.site.getSitePublicUrl();window.open(t)}}:{title:"TOPBAR_PREPUBLISH_TOOLTIP_TITLE",body:"TOPBAR_PREPUBLISH_TOOLTIP_BODY",linkText:null,linkAction:null}:{title:"TOPBAR_SITE_PUBLISH_DISABLED_PROMOTION_TITLE",body:"TOPBAR_SITE_PUBLISH_DISABLED_PROMOTION_TEXT",linkText:"TOPBAR_SITE_PUBLISH_DISABLED_PROMOTION_LINK",linkAction:function(){var e=i.languages.getLocalizedLink(a.constants.HELP_URLS.CONTRIBUTOR_ROLES,"{$lang}");window.open(e)}}}function E(t){var n=o(e.findDOMNode(t.refs.topBarSideWrapperLeft)),i=o(e.findDOMNode(t.refs.topBarSideWrapperRight));return{leftWidth:n.width(),rightWidth:i.width()}}function S(t,n){o(e.findDOMNode(t.refs.topBarSideWrapperCenter)).css({left:n.leftWidth,right:n.rightWidth,width:"auto"})}function T(t,n,i){return i=i||0,o(e.findDOMNode(t.refs[n])).width()||i}function C(t,n){var i=t.refs.topBarBackToEditorButton;n=U.PREVIEW.measuredWidth+U.PUBLISH.measuredWidth,i&&n>0&&o(e.findDOMNode(i)).width(n)}function I(e,t,o){var i=P(e),a=i?"-notSaved":"",r=n.invoke(e,"documentServices.generalInfo.isSiteFromOnBoarding"),s=(t?"save-preview-button-tooltip":"save-button-tooltip")+a,l="TOPBAR_SAVE_TOOLTIP_TITLE",c="TOPBAR_SAVE_TOOLTIP_BODY",p=i?null:"TOPBAR_SAVE_TOOLTIP_LINK",d=i?null:function(){e.account.openRevisions()};if(e.autosaveManager.shouldShowAutosaveUI())switch(o.savingStatus){case L.IDLE:c=i?"TOPBAR_SAVE_TOOLTIP_BODY":"TOPBAR_SAVE_AS_SAVE_TOOLTIP_BODY",l="TOPBAR_SAVE_AS_SAVE_TOOLTIP_TITLE",p=i?null:"TOPBAR_SAVE_AS_SAVE_TOOLTIP_SITE_HISTORY";break;case L.IDLE_SAVED:s+="-saved",c="TOPBAR_SAVE_SAVED_TOOLTIP",l=null,p=null,d=null;break;case L.IN_PROGRESS:s+="-inProgress",c="TOPBAR_SAVE_SAVING_TOOLTIP",l=null,p=null,d=null}f.isOpen("se_obMigrationFlow")&&r&&(s="save-button-tooltip"+a+(r?"-ob-site":""),l="ADI_EDITOR_MIGRATION_SAVE_TOOLTIP_TITLE",c="ADI_EDITOR_MIGRATION_SAVE_TOOLTIP_TEXT",p=null,d=null);var u=n.get(o,["topBarCustomization","tooltipOverrides","SAVE"]);return H(s,!0,l,c,p,d,u)}function _(e,t,o){if(t)return null;if(!e.autosaveManager.shouldShowAutosaveUI())return"TOPBAR_Site_Save";switch(o){case L.IDLE_SAVED:return"TOPBAR_SAVE_SAVED_LABEL";case L.IN_PROGRESS:return"TOPBAR_SAVE_SAVING_LABEL";default:return"TOPBAR_Site_Save"}}function O(e){i.fedopsLogger.interactionStarted(i.fedopsLogger.INTERACTIONS.SAVE_FROM_TOPBAR),e.saveManager.save({origin:"topbar"})}function M(e){return{compClass:c,actions:null,compProps:function(t,o,n,i){var r=t.getEditorAPI();if(r.wixStores.isSiteInWixStoreTestDrive())return null;var s=t.state.appearance>=t.APPEARANCE.SAVE_AND_MOBILE_CHANGE_ICONS,l=i&&"PREVIEW"===i.toUpperCase()?a.bi.events.topbar.top_bar_Preview_Page_Save_click:F("save");return U.SAVE.actions=U.SAVE.actions||[O.bind(null,r)],{label:_(r,s,t.props.savingStatus),iconSymbol:s?"save":null,classes:["top-bar-menu-item","top-bar-save",k(o),B(o,n)].join(" "),actions:U.SAVE.actions,isDisabled:r.savePublish.isPublishInProgress()||r.savePublish.isSaveInProgress(),progressStatus:t.props.savingStatus,tooltipData:I(r,e,t.props),bi:l,buttonStyle:!s&&r.autosaveManager.shouldShowAutosaveUI()?{"min-width":85}:{}}}}}function A(e){return{compClass:"div",compProps:function(t,o){var n=!e||e(t,o);return{className:["top-bar-separator","top-bar-menu-item",k(o),n?"":"hidden"].join(" ")}}}}function w(e){e.panelManager.closeAllPanels(),e.toolsControl.toggleHideTools(!0,!0),window.setTimeout(function(){e.zoomMode.enterZoomMode(),e.bi.event(a.bi.events.topbar.top_bar_zoom_mode_click,{editor_view_mode:e.getDeviceType()})},400)}function R(e){g.tooltipManager.hide(e)}function D(e,t,o){var i={type:t,origin:"topbar"};n.isEmpty(o)?o=[i]:n.forEach(o,function(e){n.assign(e,i)}),e.bi.reportBI(a.bi.events.editor.undo_redo_component_change,o)}function k(e){return e&&e===N.RIGHT?"top-bar-menu-item-right":"top-bar-menu-item-left"}function B(e,t){var o=[];return e===N.LEFT&&0===t?o.push("top-bar-item-right-margin"):e===N.RIGHT&&0===t?o.push("top-bar-item-left-margin"):o.push("top-bar-item-margin"),o}var N={LEFT:"left",RIGHT:"right"},L=a.constants.PROGRESS_STATUS,x=function(){var e=null;return function(t){return null===e&&(e={onMenuOpened:t.onMenuOpened,onMenuClosed:t.onMenuClosed}),e}}(),F=function(){var e={};return function(t){return e[t]||(e[t]={type:a.bi.events.topbar.top_bar_click,fields:{category:t}}),e[t]}}(),H=function(){var e={};return function(t,o,i,a,r,s,l){var c=e[t];return c||(c={presenter:g.popoverTemplates.titleBodyAndLinkTooltip,id:t,interactive:o,props:{title:i,text:a,link:r,linkAction:s}},e[t]=c),l&&(c=n.defaultsDeep({},l,c)),c}}(),U={WIX_LOGO:{compClass:c,compProps:function(e,t){return{iconSymbol:"wixLogo",classes:["top-bar-wix-logo",k(t)].join(" "),bi:F("wix_logo")}}},PAGES_LIST:{compClass:p,compProps:function(e,o,i){var a=e.state.appearance>=e.APPEARANCE.TRIM_PAGES_NAV_BUTTON,r=x(e),s={title:null,text:"TOPBAR_PAGES_TOOLTIP_TITLE",link:null,linkAction:null};return n.assign({},r,{label:"pages",isSmallVersion:a,classes:["top-bar-menu-item",B(o,i),k(o)].join(" "),tooltipValue:t.createElement(g.popoverTemplates.titleBodyAndLinkTooltip,s),hideTooltip:R,bi:F("pages")})}},REDO_SEPARATOR:A(function(e){return e.state.appearance<e.APPEARANCE.HIDE_REDO}),SEPARATOR:A(),ZOOMOUT:function(){return{compClass:c,actions:null,bi:[F("zoomout"),{type:a.bi.events.preview.PREVIEW_CLICK,fields:{origin:"topbar"}}],compProps:function(e,t,o){var n=e.getEditorAPI(),i=n.isPreviewReady()&&n.documentServices.pages.popupPages.isPopupOpened();return U.ZOOMOUT.actions=U.ZOOMOUT.actions||[w.bind(null,n)],U.ZOOMOUT.classes=U.ZOOMOUT.classes||["top-bar-menu-item","top-bar-preview-icon",B(t,o),k(t)].join(" "),{iconSymbol:"zoomOut",actions:U.ZOOMOUT.actions,classes:U.ZOOMOUT.classes+(i?" hidden":""),tooltipData:H(a.constants.TOP_BAR.TOOLTIP_ID.ZOOMOUT,!1,"TOPBAR_ZoomOut_Tooltip_Title","TOPBAR_ZoomOut_Tooltip_Body"),bi:U.ZOOMOUT.bi,ref:"topBarZoomOutButton",hintProps:{id:"ZoomOut"}}}}}(),UNDO:{compClass:c,actions:null,biFunc:null,classes:null,compProps:function(e,t,o){var i=e.getEditorAPI(),r=U.UNDO;r.actions=r.actions||[i.history.undo],r.biFunc=r.biFunc||D.bind(null,i,"undo"),r.classes=r.classes||["top-bar-undo",B(t,o),k(t)].join(" ");var s=n.get(e.props,["topBarCustomization","tooltipOverrides","UNDO"]),l=H(a.constants.TOP_BAR.TOOLTIP_ID.UNDO,!1,null,"TOPBAR_UNDO_TOOLTIP_TITLE",null,null,s);return{iconSymbol:"undo2",classes:U.UNDO.classes,actions:U.UNDO.actions,tooltipData:l,biFunc:U.UNDO.biFunc,hintProps:{id:"Undo"},isDisabled:i.developerMode.ui.idePane.getState()===a.constants.DEVELOPER_MODE.CONTAINER_STATES.MAXIMIZED}}},REDO:{compClass:c,actions:null,biFunc:null,compProps:function(e,t,o){var i=e.getEditorAPI();U.REDO.actions=U.REDO.actions||[i.history.redo],U.REDO.biFunc=U.REDO.biFunc||D.bind(null,i,"redo");var r=e.state.appearance>=e.APPEARANCE.HIDE_REDO;return{iconSymbol:"redo2",classes:n.compact(["top-bar-redo","top-bar-responsive-1024",B(t,o),k(t)],r?"hidden":"").join(" "),actions:U.REDO.actions,tooltipData:H(a.constants.TOP_BAR.TOOLTIP_ID.REDO,!1,null,"TOPBAR_REDO_TOOLTIP_TITLE"),biFunc:U.REDO.biFunc,isDisabled:i.developerMode.ui.idePane.getState()===a.constants.DEVELOPER_MODE.CONTAINER_STATES.MAXIMIZED}}},PREVIEW:{compClass:c,actions:null,measuredWidth:0,bi:[F("preview"),{type:a.bi.events.preview.PREVIEW_CLICK,fields:{origin:"topbar"}}],compProps:function(e,t,o){var n=e.state.appearance>=e.APPEARANCE.PREVIEW_CHANGE_TO_ICON;return U.PREVIEW.actions=U.PREVIEW.actions||[b.bind(null,e.getEditorAPI(),500)],U.PREVIEW.classes=U.PREVIEW.classes||["top-bar-menu-item","top-bar-preview-icon",B(t,o),k(t)].join(" "),{label:n?null:"TOPBAR_PREVIEW_TOOLTIP_TITLE",iconSymbol:n?"preview":null,actions:U.PREVIEW.actions,classes:U.PREVIEW.classes,progressStatus:e.props.previewingStatus,tooltipData:H(a.constants.TOP_BAR.TOOLTIP_ID.PREVIEW,!1,"TOPBAR_PREVIEW_TOOLTIP_TITLE","TOPBAR_PREVIEW_TOOLTIP_BODY"),bi:U.PREVIEW.bi,ref:"topBarPreviewButton",measurePhase:function(t){U.PREVIEW.measuredWidth=T(e,"topBarPreviewButton",t)},hintProps:{id:"Preview"}}}},EDITOR_MODE_SWITCH:{compClass:c,getDropPanelProps:function(){var e={};return function(t,o,n,i){var a=(t?"mobile-":"desktop-")+(o?"optimized-":"non-optimized-")+n,r=e[a];return r||(r={overridePositionAdjustments:{type:g.uiConstants.TOOLTIP.ALIGNMENT.RIGHT,value:70},desktopModeSelected:!t,isMobileOptimized:o,editorAPI:i,dropPanelPromotion:{type:"rEditor.panels.topBar.promotionPanel",classes:"promotion editor-mode-switch-promotion",props:{menuKey:"editor-mode-switch",key:"editor-mode-switch",title:"TOPBAR_MOBILE_PROMOTION_TITLE",message:"TOPBAR_MOBILE_PROMOTION_BODY",image:y(n>=2?"mobileDesktopIllustration@x2.png":"mobileDesktopIllustration.png"),classes:{graphics:"editor-mode-switch-graphics",title:"editor-mode-switch-title",message:"editor-mode-switch-message"}}},dropPanelClass:"editor-modes-panel-container"},e[a]=r),r}}(),compProps:function(e,t,o,a){var r=i.browserUtil.getDevicePixelRatio(),s=e.props.isMobileEditor,l=s?"desktop":"mobile",c=e.state.appearance>=e.APPEARANCE.SAVE_AND_MOBILE_CHANGE_ICONS,p=x(e),d=e.getEditorAPI(),u=f.isMultiValueExperimentOpen("se_firstTimeBackFromPreview"),g=!c&&u,h={id:"editorModeSwitchTooltipId-"+a,title:"TOPBAR_MOBILE_TOOLTIP_TITLE",body:"TOPBAR_MOBILE_TOOLTIP_BODY"};return u&&(h.id+="-"+(s?"MOBILE":"DESKTOP"),h.title=s?"TOPBAR_DESKTOP_TOOLTIP_TITLE":"TOPBAR_MOBILE_TOOLTIP_TITLE_NEW",h.body=s?"TOPBAR_DESKTOP_TOOLTIP_BODY":"TOPBAR_MOBILE_TOOLTIP_BODY_NEW"),n.assign({},p,{iconSymbol:l,classes:[c?"mini-editor-mode-switch":"editor-mode-switch",B(t,o),k(t),function(){return d.topBar.isModeSwitchAnimationInProgress()?"icon-shiver":""}()].join(" "),actions:null,dropPanelContent:m,dropPanelProps:U.EDITOR_MODE_SWITCH.getDropPanelProps(e.props.isMobileEditor,e.props.isMobileOptimized,r,d),tooltipData:H(h.id,!1,h.title,h.body),bi:F("editor_view_mode"),hintProps:{id:"SwitchEditor"}},g?{label:s?"TOP_BAR_DESKTOP_EDITOR_LABEL":"TOP_BAR_MOBILE_EDITOR_LABEL"}:{})}},PUBLISH:{compClass:c,label:"TOPBAR_Site_Publish",measuredWidth:0,actions:null,bi:[F("publish"),{type:a.bi.events.publish.PUBLISH_CLICK,fields:{origin:"topbar"}}],classes:null,compProps:function(e,t){var o=e.getEditorAPI();if(o.wixStores.isSiteInWixStoreTestDrive())return null;var n=o.generalInfo&&o.documentServices.generalInfo.isSitePublished()||!1;U.PUBLISH.actions=U.PUBLISH.actions||[function(){o.savePublish.isSavePublishLocked()||(i.fedopsLogger.interactionStarted(i.fedopsLogger.INTERACTIONS.PUBLISH_FROM_TOPBAR),o.publishManager.saveAndPublish("top_bar_publish"))}];var a=[k(t),"top-bar-item-margin","top-bar-textual-button"],r=o.savePublish.canUserPublish(),s="publish-button-tooltip-id-"+(n?"published":"notPublished");r||(s="publish-disabled-button-tooltip-id"),a.push("top-bar-publish");var l=a.join(" "),c=v(o),p=o.savePublish.isPublishInProgress()||o.savePublish.isSaveInProgress()||!r;return{label:U.PUBLISH.label,right:!1,classes:l,actions:U.PUBLISH.actions,isDisabled:p,progressStatus:e.props.publishingStatus,tooltipData:H(s,!0,c.title,c.body,c.linkText,c.linkAction),bi:U.PUBLISH.bi,ref:"topBarPublishButton",measurePhase:function(t){U.PUBLISH.measuredWidth=T(e,"topBarPublishButton",t)},hintProps:{id:"Publish"}}}},SAVE:M(!1),PREVIEW_SAVE:M(!0),WIXSTORES_MIGRATION_UPGRADE_SITE:{compClass:c,compProps:function(e,t,o){var n=e.getEditorAPI();return n.wixStores.isSiteInWixStoreTestDrive()?{label:"TOPBAR_Site_Migration_Upgrade",classes:["top-bar-menu-item","top-bar-wixstores-migration-upgrade-button",k(t),B(t,o)].join(" "),actions:[function(){n.panelManager.openPanel("wixStore.migration.wixStoreSwitchPopup",{},!0),n.bi.event(a.bi.events.wixstores.WIXSTORES_MIGRATION_UPGRADE_CLICKED,{origin:"top panel"})}],tooltipData:H(a.constants.TOP_BAR.TOOLTIP_ID.WIXSTORES_MIGRATION_UPGRADE_SITE,!0,"TOPBAR_Site_Migration_Upgrade","TOPBAR_Site_Migration_Upgrade_Description",null,null),style:{borderRight:"1px #e3eaf6 solid"}}:null}},WIXSTORES_MIGRATION_SAVE:{compClass:c,actions:null,compProps:function(e,t){var o=e.getEditorAPI();if(!o.wixStores.isSiteInWixStoreTestDrive())return null;var n=e.state.appearance>=e.APPEARANCE.SAVE_AND_MOBILE_CHANGE_ICONS,i=F("save"),a=P(o),r=a?"-notSaved":"";return U.SAVE.actions=U.SAVE.actions||[o.saveManager.save.bind(null,{origin:"topbar"})],{label:n?null:"TOPBAR_Site_Save",iconSymbol:n?"save":null,classes:[k(t),"top-bar-item-margin","top-bar-textual-button"].join(" "),actions:U.SAVE.actions,isDisabled:o.savePublish.isPublishInProgress()||o.savePublish.isSaveInProgress(),progressStatus:e.props.savingStatus,tooltipData:H("save-button-tooltip"+r,!0,"TOPBAR_SAVE_TOOLTIP_TITLE","TOPBAR_SAVE_TOOLTIP_BODY",a?null:"TOPBAR_SAVE_TOOLTIP_LINK",a?null:function(){o.account.openRevisions()}),bi:i}}},MENU:{compClass:u,compProps:function(e){var t=e.getEditorAPI(),o=x(e),r=e.getMenuBarItems(l),s=n.assign({},o,{menuItems:r,viewTools:e.props.viewTools,classes:"top-bar-menu-item-left menu-bar",onMenuOpened:e.onMenuOpened,onMenuClosed:e.onMenuClosed,tooltipData:H(a.constants.TOP_BAR.TOOLTIP_ID.MENU,!1,null,"TOPBAR_MENU_TOOLTIP_TITLE"),bi:F("menu")});if(f.isOpen("spanishUpgradeText")){var c=n.find(s.menuItems,{key:"SITE_BAR"}),p=n.find(c.children,{key:"UPGRADE_ITEM"}).rightPanel;p.props.title=i.translate("UPGRADE_FOR_SPAIN_ONLY"),p.props.message=i.translate("TOPBAR_SITE_UPGRADE_PROMOTION_TEXT"),p.props.shouldTranslate=!1}if(!t.savePublish.canUserPublish()){var d=n.find(s.menuItems,{key:"SITE_BAR"});n.find(d.children,{key:"PUBLISH"}).rightPanel.props.message="TOPBAR_PREPUBLISH_DISABLED_TOOLTIP_BODY"}return f.isMultiValueExperimentOpen("editorHintsConfigs")&&(s.ref="topBarMenu"),s}},BACK_TO_EDITOR:{compClass:c,actions:null,bi:{type:a.bi.events.topbar.top_bar_Preview_Page_Back_to_Editor_click,fields:{origin:"thumb"}},compProps:function(e,t){var o=e.getEditorAPI();return U.BACK_TO_EDITOR.actions=U.BACK_TO_EDITOR.actions||[b.bind(null,o,500)],{label:o.wixStores.isSiteInWixStoreTestDrive()?"TOPBAR_EDIT_SITE":"TOPBAR_BACK_TO_EDITOR",right:!0,classes:[k(t),"top-bar-item-back-to-editor"].join(" "),actions:U.BACK_TO_EDITOR.actions,bi:U.BACK_TO_EDITOR.bi,ref:"topBarBackToEditorButton",patchPhase:C.bind(null,e),tooltipData:o.wixStores.isSiteInWixStoreTestDrive()?H(a.constants.TOP_BAR.TOOLTIP_ID.BACK_TO_EDITOR,!0,"TOPBAR_EDIT_SITE","TOPBAR_Edit_Site_Description",null,null):null}}},MOBILE_NON_OPTIMIZED_NOTIFICATION:{compClass:d,action:null,compProps:function(e,t){var o=U.MOBILE_NON_OPTIMIZED_NOTIFICATION;return o.action=o.action||function(){var t=e.getEditorAPI();t.preview.togglePreview(),t.panelHelpers.openMobileElementsPanel()},{classes:[B(t),k(t)].join(" "),isShown:e.props.isMobileEditor&&!e.props.isMobileOptimized,message:i.translate("mobile_preview_notification_text1")+" <a>"+i.translate("mobile_preview_notification_link")+"</a> "+i.translate("mobile_preview_notification_text2"),action:o.action}}},PREVIEW_NOTIFICATION:{compClass:d,compProps:function(e,t,o,n){var a=e.props.isMobileEditor&&!e.props.isMobileOptimized,r="PREVIEW"===n.toUpperCase();return{classes:[B(t),k(t)].join(" "),isShown:r&&!a,message:i.translate("Topbar_PREVIEW_TITLE"),measurePhase:E.bind(null,e),patchPhase:S.bind(null,e)}}},LANGUAGE_MANAGER:{compClass:c,getDropPanelProps:function(){var e={};return function(t,o,n){var i="language_manager"+o,a=e[i];return a||(a={overridePositionAdjustments:{type:g.uiConstants.TOOLTIP.ALIGNMENT.RIGHT,value:70},isMobileOptimized:t,editorAPI:n,dropPanelPromotion:null,dropPanelClass:"languages-panel-container"},e[i]=a),a}}(),compProps:function(e,t,o){var a=i.browserUtil.getDevicePixelRatio(),r=x(e),s=e.getEditorAPI();return n.assign({},r,{label:s.language?s.language.current.get():"Language Bar",iconSymbol:null,classes:["top-bar-languages",B(t,o),k(t)].join(" "),actions:null,dropPanelContent:h.panels.topBarDropDownPanel,dropPanelProps:U.LANGUAGE_MANAGER.getDropPanelProps(e.props.isMobileOptimized,a,s),bi:F("editor_languages"),hintProps:{id:"SwitchCurrentLanguage"}})}}};return{ORIENTATION:N,TOP_BARS:f.isOpen("se_multilingual")?s:r,widgetMapping:U}}),define("rEditor/rootComps/topBar/util/campaignUtil",["lodash","core","util"],function(e,t,o){function n(t){return e.chain(t).find({key:"SITE_BAR"}).get("children").find({key:"UPGRADE_ITEM"}).value()}function i(t){return e.find(t,{key:"UPGRADE"})}function a(t){var n=t.campaigns.personalSale.getAssetPath(),i=t.campaigns.personalSale.getDiscountValue(),a=[n,"menubarSitePanel_"+i+".svg"].join("/"),r=e.template(o.translate("TOPBAR_UPGRADE_POPUP_PERSONAL_SALE_LABEL_DYNAMIC"));return{symbol:"",image:o.media.getAssetUrl(a),message:r({discount:i}),title:o.translate("TOPBAR_SITE_UPGRADE_PROMOTION_TITLE"),shouldTranslate:!1}}function r(e){var t=[e.campaigns.personalSale.getAssetPath(),"menubarUpgradePanel_"+e.campaigns.personalSale.getDiscountValue()+".svg"].join("/");return{symbol:"",image:o.media.getAssetUrl(t)}}function s(t,o){var s=n(o),l=i(o);e.assign(s.rightPanel.props,a(t)),e.assign(l.rightPanel.props,r(t))}return{updateMenuBarItemsAccordingToPersonalSaleCampaign:s}}),define("rEditor/rootComps/topBar/menuBar/util/menuBarItemsUtil",["rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions"],function(e){function t(t){var o=e[t];return!!o&&(!o.visibilityFunc||o.visibilityFunc())}return{shouldBeVisible:t}}),define("rEditor/rootComps/topBar/zoomModeBar.rt",["react","lodash","baseUI","symbols","uiAnimations","util","rEditor/rootComps/topBar/buttons/topBarButton/topBarButton"],function(e,t,o,n,i,a,r){return function(){function o(){this.exitZoomMode()}return e.createElement(i.contentSlideCSS,{distance:"60px"},this.inZoomMode()?e.createElement("div",{className:"zoom-bar-wrapper",key:"zoomModeBarWrapper",ref:"zoomModeBarWrapper",style:{width:"calc("+100*this.getSiteScale()+"% - "+this.getVerticalScrollWidth()+")",left:"calc(50% - "+this.getVerticalScrollWidth()+")"}},e.createElement("div",{className:t({"zoom-mode-bar":!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"zoom-mode-bar"},e.createElement("div",{className:"left-zoom-bar",onClick:o.bind(this)},e.createElement("span",{className:"zoom-bar-text"},a.translate("TOPBAR_Exit_ZoomOut")),e.createElement(r,{iconSymbol:"zoomClose",classes:"zoom-bar-symbol",actions:[this.exitZoomMode]})),e.createElement("div",{className:"right-zoom-bar"},e.createElement(r,{iconSymbol:"undo2",classes:"zoom-bar-btn-seperator top-bar-item-margin",actions:[this.callUndo],tooltipData:this.getTooltipData("topBarUndoTooltipID","TOPBAR_UNDO_TOOLTIP_TITLE")}),e.createElement(r,{iconSymbol:"redo2",classes:"zoom-bar-btn-seperator top-bar-item-margin",actions:[this.callRedo],tooltipData:this.getTooltipData("topBarRedoTooltipID","TOPBAR_REDO_TOOLTIP_TITLE")}),e.createElement(r,{iconSymbol:"zoomBarHelp",classes:"zoom-bar-btn",actions:[this.openHelp],tooltipData:this.getTooltipData("zoomBarHelpTooltipID","gfpp_tooltip_help")})))):null)}}),define("rEditor/rootComps/topBar/zoomModeBar",["create-react-class","lodash","core","util","baseUI","rEditor/rootComps/topBar/zoomModeBar.rt"],function(e,t,o,n,i,a){return e({displayName:"zoomModeBar",mixins:[o.mixins.editorAPIMixin],exitZoomMode:function(){var e=this.getEditorAPI();this.getEditorAPI().zoomMode.exitZoomMode(),e.bi.event(o.bi.events.topbar.zoombar.zoom_mode_bar_exit_zoom_mode,{editor_view_mode:e.getDeviceType()}),window.setTimeout(function(){e.toolsControl.toggleHideTools(!1,!0)},300)},inZoomMode:function(){return this.getEditorAPI().zoomMode.isInZoomMode()},callUndo:function(){this.getEditorAPI().history.undo()},callRedo:function(){this.getEditorAPI().history.redo()},getSiteScale:function(){return this.getEditorAPI().getSiteScale()},openHelp:function(){var e="DESKTOP"===this.getEditorAPI().viewMode.get()?"00d369ed-aedf-4fbd-b11c-3fcc51459cef":"65ff699a-dc0c-4c42-b2af-8df5e022d350";this.getEditorAPI().panelManager.openHelpCenter(e,null,{origin:o.constants.BI.HELP.ORIGIN.TOPBAR,component:"zoomModeBar",panel_name:o.constants.BI.HELP.ORIGIN.TOPBAR})},getTooltipData:function(e,t){return{presenter:i.popoverTemplates.titleBodyAndLinkTooltip,id:e,props:{text:t}}},getVerticalScrollWidth:function(){return 0===n.uiUtils.getScrollbarWidth()?"0px":"6px"},render:a})}),define("rEditor/rootComps/topBar/dynamicPagesComboBox.rt",["react","lodash","baseUI","symbols","util","baseUILib"],function(e,t,o,n,i,a){return function(){function i(e){this.startDrag(e,this.getDragLimits())}function r(e){this.endDrag()}function s(t,o){return e.createElement(a.DropDownOption,{key:t.url,value:t.url,label:t.title,shouldTranslate:!1})}return this.shouldShowInnerRoutesDropDown()?e.createElement("div",{className:"dynamic-pages-combo-box "+t({preview:this.props.previewMode}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"dynamicPageComboBox"},e.createElement("div",{className:"dragable-area",onMouseDown:i.bind(this),onMouseUp:r.bind(this)},e.createElement(o.symbol,{name:"smalldragHandle",className:"symbol-smallDragHandle"})),this.props.previewMode?e.createElement("div",{key:"prevRouteNavButtonWrapper",className:"prev-route-wrapper"},e.createElement("div",{key:"prevRouteNavButton",className:"prev-route nav-btn",onClick:this.prevRoute},e.createElement(n.symbol,{name:"arrowPrev"}))):null,e.createElement("div",{className:"combo-box-wrapper"},e.createElement.apply(this,[a.DropDown,{value:this.state.selectedInnerRoute,shouldTranslate:!1,searchBox:!0,key:"innerRouteDropDown",className:"dynamic-pages-combobox",optionsContainerClassName:"dynamic-pages-options",onChange:this.onInnerRouteChange},t.map(this.state.innerRoutes||[],s.bind(this))])),this.props.previewMode?null:e.createElement(o.button,{key:"goToPreviewButton",className:"go-to-preview",label:"INNER_ROUTES_NAVIGATION_BOX_GO_TO_PREVIEW",onClick:this.goToPreviewAndNavigate}),this.props.previewMode?e.createElement("div",{key:"nextRouteNavButton",className:"next-route nav-btn",onClick:this.nextRoute},e.createElement(n.symbol,{name:"arrowNext"})):null,e.createElement("div",{className:"close-area",onClick:this.close},e.createElement("div",{className:"close-sign"},e.createElement(n.symbol,{name:"close"})))):null}}),define("rEditor/rootComps/topBar/dynamicPagesComboBox",["create-react-class","lodash","core","util","rEditor/rootComps/topBar/dynamicPagesComboBox.rt"],function(e,t,o,n,i){function a(e,t){return s(e+1,t)}function r(e,t){return s(e-1,t)}function s(e,t){return(e%t+t)%t}return e({displayName:"daynamicPagesComboBox",render:i,mixins:[o.mixins.editorAPIMixin,n.draggableMixin],getInitialState:function(){return{innerRoutes:null,selectedInnerRoute:null,shouldShowNavigation:!0}},getNavigationData:function(e){var o=this.getEditorAPI().data.createItem("DynamicPageLink");return t.assign(o,{innerRoute:e||"",routerId:this.routerData.routerId})},componentWillReceiveProps:function(e){var o=this.getEditorAPI();if(e.previewMode!==this.props.previewMode&&e.previewMode&&this.getRouterInnerRoutes(),this.props.editorIsInit){var n=o.documentServices.pages.getPrimaryPageId()!==this.currentPageId;n&&(this.currentPageId=o.documentServices.pages.getPrimaryPageId());var i=o.documentServices.routers.getRouterDataForPageIfExist(this.currentPageId);!n&&t.isEqual(this.routerData,i)||(this.routerData=i,this.getRouterInnerRoutes())}this.props.devModeContext.type!==e.devModeContext.type&&this.getRouterInnerRoutes();var a=o.documentServices?o.documentServices.routers.getCurrentInnerRoute():null;this.props.editorIsInit&&o.documentServices.pages.getPrimaryPageId()===this.currentPageId&&a&&a.innerRoute!==this.currentInnerRoute&&!this.isCollectionPageOrHasOneRoute()&&(this.currentInnerRoute=a.innerRoute,this.setState({selectedInnerRoute:a.innerRoute}))},getRouterInnerRoutes:function(){var e=this.getEditorAPI(),o=e.documentServices.routers.getRouterDataForPageIfExist(this.currentPageId);if(!o)return this.setState({innerRoutes:[],selectedInnerRoute:null,shouldShowNavigation:!0}),void(this.routerData=null);var n=this.currentPageId,i=o;e.documentServices.routers.getRouterInnerRoutes(o.routerId,this.currentPageId,function(o){if(o=t.sortBy(o,["title"]),!(e.documentServices.pages.getPrimaryPageId()!==n)&&t.isEqual(i,this.routerData)){if(1===o.length&&"/"===o[0].url)return this.setState({innerRoutes:[],selectedInnerRoute:null}),void this.navigateToRoute(null);var a=null,r=e.documentServices.routers.getCurrentInnerRoute();r&&r.innerRoute&&(a=r.innerRoute);var s=a?this.findInnerRouteIndex(a,o):0,l=o[s]?o[s].url:null;l&&l!==this.currentInnerRoute&&(this.currentInnerRoute=l,this.navigateToRoute(this.currentInnerRoute)),this.setState({innerRoutes:t.sortBy(o,["title"])||[],shouldShowNavigation:!0,selectedInnerRoute:t.isEmpty(o)?null:o[s].url})}}.bind(this))},isCollectionPageOrHasOneRoute:function(){var e=this.state.innerRoutes;return!!e&&1===e.length},shouldShowInnerRoutesDropDown:function(){var e=this.getEditorAPI(),n=(e.documentServices&&e.documentServices.pages.getFocusedPageId?e.developerMode.getContext():{}).type===o.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE,i=!e.documentServices||!e.documentServices.documentMode||e.documentServices.documentMode.isShowingFixedComponentsEnabled();return(!e.documentServices||!e.documentServices.pages.getFocusedPageId||e.documentServices.pages.getFocusedPageId()===e.documentServices.pages.getPrimaryPageId())&&!this.isCollectionPageOrHasOneRoute()&&this.state.shouldShowNavigation&&this.routerData&&!t.isEmpty(this.state.innerRoutes)&&(this.props.previewMode||n)&&i},sendBI:function(e,t){this.getEditorAPI().bi.event(e,t)},goToPreviewAndNavigate:function(){var e=this.getEditorAPI();this.props.previewMode?e.pages.navigateTo(this.getNavigationData(this.state.selectedInnerRoute)):(this.sendBI(o.bi.events.dynamicPageComboBox.preview_clicked,this.getBIParams(this.state.selectedInnerRoute)),e.preview.togglePreview())},getBIParams:function(e){var t=this.getEditorAPI(),o=t.documentServices.pages.getPrimaryPageId(),n=t.documentServices.routers.getRouterDataForPageIfExist(o);return{item_name:e,item_path:n.prefix+"/"+e,pageId:o,appName:n.appDefinitionId}},onInnerRouteChange:function(e){this.sendBI(o.bi.events.dynamicPageComboBox.preview_select_page,this.getBIParams(e)),this.navigateToRoute(e),this.setState({selectedInnerRoute:e})},close:function(){var e=this.getEditorAPI(),t=e.documentServices.pages.getPrimaryPageId(),n=e.documentServices.routers.getRouterDataForPageIfExist(t);this.sendBI(o.bi.events.dynamicPageComboBox.preview_closed,{pageId:t,appName:n.appDefinitionId}),this.setState({shouldShowNavigation:!1})},openHelpCenter:function(){var e=this.getEditorAPI(),t={origin:"display-combo-box",panel_name:"dynamic-pages-display-combo-box",component:this.props.id};e.panelManager.openHelpCenter("b853c294-8ff1-418f-b4d2-29d7b59a85c3",null,t)},findInnerRouteIndex:function(e,o){var n=t.findIndex(t.map(o,"url"),function(t){return t===e});return-1===n?0:n},prevRoute:function(){var e=r(this.findInnerRouteIndex(this.state.selectedInnerRoute,this.state.innerRoutes),this.state.innerRoutes.length);this.moveToItem(e)},nextRoute:function(){var e=a(this.findInnerRouteIndex(this.state.selectedInnerRoute,this.state.innerRoutes),this.state.innerRoutes.length);this.moveToItem(e)},moveToItem:function(e){var n=!t.isEmpty(this.state.innerRoutes)&&e<this.state.innerRoutes.length?this.state.innerRoutes[e].url:null;this.sendBI(o.bi.events.dynamicPageComboBox.preview_navigate,this.getBIParams(n)),this.navigateToRoute(n),this.setState({selectedInnerRoute:n})},navigateToRoute:function(e){var o=this.getEditorAPI();this.state.selectedInnerRoute!==e&&o.pages.navigateTo(this.getNavigationData(e),t.noop,!0)},getDragLimits:function(){var e=o.utils.stageUtils.getStageLayout();return e||(e=window.document.body.getBoundingClientRect()),{x:[e.left,e.right],y:[e.top,e.bottom]}}})}),define("rEditor/rootComps/topBar/topBar.rt",["react","lodash","experiment","baseUI","symbols","rEditor/rootComps/topBar/zoomModeBar","rEditor/rootComps/topBar/dynamicPagesComboBox"],function(e,t,o,n,i,a,r){return function(){function s(){this.toggleHideTools()}return e.createElement("div",{className:this.topBarClassName+" "+(o.isOpen("topBarB")?"top-bar-b":""),onClick:this.handleTopBarClick,onContextMenu:this.props.onContextMenu},e.createElement("div",{className:t({"top-bar-editor":!0,"top-bar-preview-show":this.props.previewMode,"is-hidden":this.props.isHidden,"is-hidden-completely":this.hideForZoomMode()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:{zIndex:this.state.zIndex}},this.props.previewMode?e.createElement("div",{"data-target":this.topBarClassName,key:"top-bar-preview",className:"top-bar-container top-bar-preview"},this.getTopBarByMode("PREVIEW")):null,this.props.previewMode?null:e.createElement("div",{"data-target":this.topBarClassName,key:"top-bar-edit",className:"top-bar-container top-bar-edit"},this.getTopBarByMode("EDIT")),this.props.isEnabled?null:e.createElement("div",{className:"top-bar-overlay",key:"overlay"})),e.createElement(a,{key:"zoomModeBar"}),o.isOpen("dpages")?e.createElement(r,{key:"dynamicPagesComboBox",previewMode:this.props.previewMode,devModeContext:this.props.devModeContext,editorIsInit:this.props.editorIsInit}):null,this.props.previewMode||this.props.isMobileEditor?null:e.createElement(n.tooltip,{value:this.getHideToolsTooltip(),key:"hideAllTools"},e.createElement("div",{onClick:s.bind(this),style:{zIndex:this.state.zIndex},"data-hint-id":o.isMultiValueExperimentOpen("editorHintsConfigs")?"HideControls":null,className:t({"hide-tools-button":!0,"tools-hidden":this.props.isHidden,"stand-out":this.props.shouldHideToolsBtnBlink}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(i.symbol,{className:"hide-tools-symbol",name:"hideToolsArrow",hintId:o.isMultiValueExperimentOpen("editorHintsConfigs")?"HideControls_inner":null}))))}}),define("rEditor/rootComps/topBar/topBar",["reactDOM","jquery","react","create-react-class","prop-types","lodash","core","util","rEditor/rootComps/topBar/topBarWidgetsDefinitions","rEditor/rootComps/topBar/util/campaignUtil","rEditor/rootComps/topBar/menuBar/util/menuBarItemsUtil","experiment","editorHints","rEditor/rootComps/topBar/topBar.rt"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m){function g(e){return e>0?1:e<0?-1:0}function f(e){return a.filter(e.children,function(e){return(!e.experiment||d.isOpen(e.experiment))&&(!e.experimentOff||!d.isOpen(e.experimentOff))})}function h(e,t,o){if("EDIT"===t&&!e.savePublish.canUserPublish()){var n=a.findIndex(o,{comp:"PUBLISH"});"SEPARATOR"!==o[n-1].comp&&o.splice(n,0,{comp:"SEPARATOR",orientation:"right"})}}var b=null;return n({displayName:"topBar",topBarClassName:"top-bar",mixins:[r.mixins.editorAPIMixin,s.outerClickMixin,s.singlePassDOMReadWriteMixin],propTypes:{height:i.number.isRequired,isEnabled:i.bool,isMobileEditor:i.bool.isRequired,isMobileOptimized:i.bool.isRequired,previewMode:i.bool.isRequired,viewTools:i.object.isRequired,previewingStatus:i.string.isRequired,savingStatus:i.string.isRequired,publishingStatus:i.string.isRequired,performingMouseMoveAction:i.bool,onTopBarClicked:i.func,isHidden:i.bool},TOP_BAR_REFS:{LEFT_SIDE:"topBarSideWrapperLeft",RIGHT_SIDE:"topBarSideWrapperRight",CENTER:"topBarSideWrapperCenter"},MIN_GAP_BETWEEN_LEFT_AND_RIGHT_CONTAINERS:30,APPEARANCE:{FULL:0,SAVE_AND_MOBILE_CHANGE_ICONS:1,PREVIEW_CHANGE_TO_ICON:2,HIDE_REDO:3,TRIM_PAGES_NAV_BUTTON:4,HIDE_UPGRADE_IN_MENU:5},MINIMAL_APPEARANCE_INDEX:5,getInitialState:function(){return{appearance:this.APPEARANCE.FULL,zIndex:""}},shouldComponentUpdate:function(e){return!e.performingMouseMoveAction},measurePhase:function(){var e=this.didWindowSizeChange();return b=t(window).width(),e},patchPhase:function(e){0!==e&&this.updateTopBarWidth(e)},componentDidUpdate:function(e,t){var o=g(t.appearance-this.state.appearance);0!==o&&this.updateTopBarWidth(o)},toggleHideTools:function(){var e=this.getEditorAPI(),t=e.toolsControl.toggleHideTools()?r.bi.events.editor.hide_tools.hide_controls:r.bi.events.editor.hide_tools.show_controls;e.bi.event(t,{origin:"handle"})},getHideToolsTooltip:function(){return this.props.isHidden?"Toolbars_show_hover_label":"Toolbars_hide_hover_label"},updateTopBarWidth:function(e){var t=this.state.appearance;e>0&&(t=this.APPEARANCE.FULL);var o=this.getNonOverlappingAppearanceIndex(t);o!==this.state.appearance&&this.setState({appearance:o})},didWindowSizeChange:function(){return g(t(window).width()-b)},getNonOverlappingAppearanceIndex:function(e){return this.props.previewMode||this.getGapBetweenLeftAndRightContainers()<this.MIN_GAP_BETWEEN_LEFT_AND_RIGHT_CONTAINERS&&(e=Math.min(e+1,this.MINIMAL_APPEARANCE_INDEX)),e},getGapBetweenLeftAndRightContainers:function(){var o=t(e.findDOMNode(this.refs[this.TOP_BAR_REFS.LEFT_SIDE]));return t(e.findDOMNode(this.refs[this.TOP_BAR_REFS.RIGHT_SIDE])).offset().left-(o.offset().left+o.width())},onOuterClick:function(){if(s.keyboardShortcuts.getContext()===s.keyboardShortcuts.CONTEXTS.TOP_BAR){var e=s.keyboardShortcuts.CONTEXTS;s.keyboardShortcuts.setContext(this.props.previewMode?e.PREVIEW:e.EDITOR)}},handleTopBarClick:function(e){this.getEditorAPI().imageCrop.toggleCropMode(!1),this.isClickOnTopBarEmptySpace(e)&&this.setTopBarKeyboardContext(),this.props.onTopBarClicked&&this.props.onTopBarClicked()},isClickOnTopBarEmptySpace:function(e){var t=e.target.dataset;return t&&t.target===this.topBarClassName},setTopBarKeyboardContext:function(){s.keyboardShortcuts.setContext(s.keyboardShortcuts.CONTEXTS.TOP_BAR)},getTopBarByMode:function(e){var t=l.TOP_BARS[e];h(this.getEditorAPI(),e,t);var o=this.sortTopBarItemsByOrientation(t),n=this.createTopBarItems(o.left,this.createLeftTopBarItem,e,"left"),i=this.createTopBarItems(o.center,this.createLeftTopBarItem,e,"center"),a=this.createTopBarItems(o.right.reverse(),this.createRightTopBarItem,e,"right");return[].concat(i,n,a)},sortTopBarItemsByOrientation:function(e){var t={left:[],right:[],center:[]};return a.forEach(e,a.bind(function(e){var o=this.getWidgetDefinitionByKey(e);o&&(e.orientation===l.ORIENTATION.LEFT?t.left.push(o):e.orientation===l.ORIENTATION.RIGHT?t.right.push(o):t.center.push(o))},this)),t},getWidgetDefinitionByKey:function(e){return l.widgetMapping[e.comp]},createTopBarItems:function(e,t,o,n){var i=a.map(e,function(e,n){return t(e,n,o)});return this.createElementsWrapper(i,o,n)},createElementsWrapper:function(e,t,n){var i={displayName:"topBarSideWrapper",className:"top-bar-side-wrapper",key:"topbar-side-"+t+"-"+n};return"right"===n?(i.style={right:0},i.ref=this.TOP_BAR_REFS.RIGHT_SIDE):"left"===n?(i.style={left:0},i.ref=this.TOP_BAR_REFS.LEFT_SIDE):"center"===n&&(i.style={width:"100%",textAlign:"center"},i.ref=this.TOP_BAR_REFS.CENTER),o.createElement("div",i,e)},createLeftTopBarItem:function(e,t,o){return this.createDynamicMenuItem(e,l.ORIENTATION.LEFT,t,o)},createRightTopBarItem:function(e,t,o){return this.createDynamicMenuItem(e,l.ORIENTATION.RIGHT,t,o)},createDynamicMenuItem:function(e,t,n,i){if(e&&e.compClass){t=t||l.ORIENTATION.LEFT;var r=e.compProps(this,t,n,i);if(r){var s=a.assign(r,{key:this.createTopBarWidgetKey(t,i,n)});return o.createElement(e.compClass,s)}}return null},createTopBarWidgetKey:function(e,t,o){return["topbar-w",e,t,o].join("-")},getMenuBarItems:function(e){var t=a.cloneDeep(e),o=this.popUpgradePackagesEntry(t),n=this.getEditorAPI();if(o&&this.isUpgradeShowing()){var i=o.upgradePanels.DEFAULT;i&&t.push(i)}return n.campaigns.personalSale.isActiveCampaign()&&this.isUpgradeShowing()&&c.updateMenuBarItemsAccordingToPersonalSaleCampaign(n,t),a.forEach(t,function(e){e.children=f(e)}),t},isUpgradeShowing:function(){return!(!this.isUserPermittedToUpgrade()||this.getEditorAPI().wixStores.isSiteInWixStoreTestDrive())&&this.isUpgradeSupportedInAppearanceState()},isUserPermittedToUpgrade:function(){return this.getEditorAPI().account.isUserOwner()},isUpgradeSupportedInAppearanceState:function(){return this.state.appearance<this.APPEARANCE.HIDE_UPGRADE_IN_MENU},onMenuOpened:function(){this.setState({zIndex:1750})},onMenuClosed:function(){this.setState({zIndex:""})},popUpgradePackagesEntry:function(e){return a.head(a.remove(e,function(e){return e&&"UPGRADE"===e.category}))},hideForZoomMode:function(){return this.getEditorAPI().store.getState().hideToolsAndMaintainStagePosition},openDropDown:function(e,t){this.refs.topBarMenu.openDropDown(e,t)},enableClose:function(){this.refs.topBarMenu.enableClose()},disableDropDown:function(){this.refs.topBarMenu.disableDropDown()},enableDropDown:function(){this.refs.topBarMenu.enableDropDown()},shouldBeVisible:function(e){return p.shouldBeVisible(e)},render:function(){return d.isMultiValueExperimentOpen("editorHintsConfigs")?o.createElement(u.hintsNotify,{id:u.hintsContainers.TOP_BAR},m.call(this)):m.call(this)}})}),define("rEditor/rootComps/gfpp/platformConnectedGfpp",["lodash"],function(e){function t(t,o){var n=e.head(t.platform.controllers.connections.get(o));if(!n)return{};var i=e.get(t.platform.controllers.getStageData(n.controllerRef),["connections",n.role,"gfpp"]);if(!i)return{};var a=e.get(i,"mainActions"),r=e.get(i,"enabledActions"),s=t.components.data.get(n.controllerRef).applicationId,l=t.platform.getAppDataByAppDefId(s).applicationId,c=e.map(a,function(i){return e(i).omit(["id"]).assign({onClick:function(){t.platform.notifyApplication(l,{eventType:"componentGfppClicked",eventPayload:{id:i.id,role:n.role,componentRef:o}})},shouldTranslate:!1}).value()}),p=e.reduce(r,function(e,t,o){return e.push(o),e},[]);return r=e.mapValues(r,function(i){return i.actionId?{onClick:function(){t.platform.notifyApplication(l,{eventType:"componentGfppClicked",eventPayload:{id:i.actionId,role:n.role,componentRef:o}})}}:i.title?e.merge(i,{title:l+"_"+i.title}):i}),e.isEmpty(c)&&e.isEmpty(p)?[]:e.isEmpty(c)?e(i).assign({enabledActions:p,presetActionsData:r}).pick(["enabledActions","presetActionsData"]).value():e(i).assign({mainActions:c,enabledActions:p,presetActionsData:r}).pick(["mainActions","enabledActions","presetActionsData"]).value()}return{getCompGfppOverrides:t}}),define("rEditor/rootComps/gfpp/gfppModel",["lodash","gfppData","constants","helpIds","rEditor/rootComps/gfpp/platformConnectedGfpp","experiment"],function(e,t,o,n,i,a){function r(t,o,n){return e.some(n,function(e){return"DEFAULT"!==e.type&&t.components.modes.isComponentDisplayedInModes(o,[e.modeId])})}function s(e,t){var n=e.components.getContainer(t),i=e.components.modes.getModes(n);if(i&&i.length>0){var s=e.components.modes.getFirstAncestorWithActiveModes(t);return a.isOpen("widthModes")||a.isOpen("scrollModes")?r(e,t,i)?o.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT:o.COMPONENT_DISPLAY.ONLY_IN_NON_DEFAULT_MODES:e.components.modes.isCompDefaultModeActive(s)?r(e,t,i)?o.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT:o.COMPONENT_DISPLAY.ONLY_IN_DEFAULT_MODE:e.components.modes.isDisplayedByDefault(t)?o.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT:o.COMPONENT_DISPLAY.ONLY_IN_NON_DEFAULT_MODES}return o.COMPONENT_DISPLAY.OUT_OF_MODES_BOX}function l(e){return{panelAction:o.ACTIONS.MODE_IN,panelExitAction:o.ACTIONS.MODE_EXIT,shouldAddExit:!0,dataOverridesKey:o.ACTIONS.MODE_IN,allowOnlyShowOnceUI:!1,extraBehaviorParams:{modeIds:e}}}function c(e){return{panelAction:o.ACTIONS.MODE_CHANGE,dataOverridesKey:o.ACTIONS.MODE_CHANGE,explanationText:"ANIMATION_PANEL_HOVER_BOX_DESCRIPTION_TEXT",allowPreviewUI:!1,allowOnlyShowOnceUI:!1,helpId:n.ANIMATION.TRANSITION,extraBehaviorParams:{modeIds:e}}}function p(t,n){var i=e.map(n,s.bind(null,t)),a=e.every(i,function(e){return e===o.COMPONENT_DISPLAY.ONLY_IN_NON_DEFAULT_MODES}),r=e.every(i,function(e){return e===o.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT}),p=e.isArray(n)?n:[n],d=e.keys(t.components.modes.getFirstAncestorActiveModes(p[0]));return a?l(d):r?c(d):{}}function d(t,o){return e.some(o,function(e){var o=t.components.modes.getFirstAncestorWithActiveModes(e);return t.components.modes.isCompDefaultModeActive(o)})}function u(t,o,n){return e.isFunction(t)?t(o,n):t}function m(t,o,n){return t?(t=e.cloneDeep(t),e.forEach(t,function(i,a){e.isString(i)&&M[i]&&(i=e.cloneDeep(M[i]),t[a]=i),e.forEach(i,function(t,a){e.includes(I,a)||(i[a]=u(t,o,n))})}),t):null}function g(e,t,o){var n=t.isMobileEditor()?e.mobileMainActions:e.mainActions;return n=u(n,t,o),m(n,t,o)}function f(e,t,o){var n=t.isMobileEditor()?e.mobileExtraActions:e.extraActions;return n=u(n,t,o),m(n,t,o)}function h(t,o,n){var i=o.isMobileEditor(),r=i?t.mobileEnabledActions:t.enabledActions;r=e.clone(u(r,o,n)||[]),r=e.union(r,_),e.includes(r,C.ACTIONS.APPLY_TO_OTHER_VIEW)||r.push(C.ACTIONS.APPLY_TO_OTHER_VIEW);var s=u(t.presetActions,o,n);return s=e.merge({},e.pick(M,r),i?e.pick(w,r):{},e.pick(s,r),e.pick(A,r)),a.isOpen("se_platform1")&&(s=e.merge(s,e.get(t,"presetActionsData"))),m(s,o,n)}function b(o,n){var i=o.isMobileEditor();return n.helpId=i?n.mobileHelpId:n.helpId,n.isSelected=e.isUndefined(n.isSelected)?t.utils.isHelpPanelOpen(o,n.helpId):n.isSelected,n}function y(t,o){var n=t.components.getType(o);return e.last(n.split("."))}function P(o,n){var r=y(o,n),s=e.cloneDeep(t.getComponentData(r))||O;if(a.isOpen("se_platform1")){var l=i.getCompGfppOverrides(o,n[0]);s=e.assign(s,l)}var c=g(s,o,n),p=f(s,o,n),d=h(s,o,n);return d.help&&(d.help=b(o,d.help)),d=v(d,o,n),{mainActions:c,extraActions:p,presetActions:d,previewState:s.previewState}}function v(t,o,n){var i=E(t,o,n);return e.isEmpty(i)?t:e.omit(t,i)}function E(t,o,n){var i=[];if(t[C.ACTIONS.HIDE]&&(o.components.is.removable(n)||i.push(C.ACTIONS.HIDE)),t[C.ACTIONS.ANIMATION])if(e.some(C.ANIMATION_TYPES,function(e){return o.components.is.animatable(n,e)})&&o.multiselect.areComponentsOfSamePage(n)){var r=e.map(n,s.bind(null,o)),l=e.every(r,e.isEqual.bind(e,r[0]));o.multiselect.componentModes.areComponentsOfSameModefulContainer(n)&&l||i.push(C.ACTIONS.ANIMATION)}else i.push(C.ACTIONS.ANIMATION);return t[C.ACTIONS.STRETCH]&&(o.components.layout.canBeStretched(n)&&!o.isMobileEditor()||i.push(C.ACTIONS.STRETCH)),t[C.ACTIONS.PIN_MODE]&&(o.components.layout.isPinned(n)||i.push(C.ACTIONS.PIN_MODE)),t[C.ACTIONS.LAYOUT]&&e.isArray(n)&&n.length>1&&e.some(n,o.components.is.controlledByParent)&&i.push(C.ACTIONS.LAYOUT),t[C.ACTIONS.APPLY_TO_OTHER_VIEW]&&!S(o,n)&&i.push(C.ACTIONS.APPLY_TO_OTHER_VIEW),a.isOpen("se_platform1")&&t[C.ACTIONS.CONNECT]&&!o.developerMode.isEnabled()&&i.push(C.ACTIONS.CONNECT),i}function S(t,o){if(1===e.size(o)){var n=e.head(o),i=t.components.modes.getModes(n),a=t.components.getContainer(n),r=t.components.modes.getModes(a);return!t.isMobileEditor()&&(e.size(i)>1||e.size(r)>1)}return!1}function T(t){e.merge(A,t)}var C=o.ROOT_COMPS.GFPP,I=["onClick","template","onTemplatePropsChange"],_=[C.ACTIONS.PIN_MODE,C.ACTIONS.STRETCH],O={enabledActions:[C.ACTIONS.SETTINGS,C.ACTIONS.LAYOUT,C.ACTIONS.ANIMATION,C.ACTIONS.HELP].concat(_)},M={settings:{isSelected:t.utils.getPanelStateFn("settings"),tooltip:"gfpp_tooltip_settings",icon:"settings",onClick:t.utils.getTogglePanelFn("settings")},design:{isSelected:t.utils.getPanelStateFn("design"),tooltip:"gfpp_tooltip_design",icon:"design",onClick:t.utils.getTogglePanelFn("design")},layout:{isSelected:t.utils.getPanelStateFn("layout"),tooltip:"gfpp_tooltip_layout",icon:"layout",onClick:t.utils.getTogglePanelFn("layout")},filters:{isSelected:t.utils.getPanelStateFn("filters"),tooltip:"gfpp_tooltip_image_filters",icon:"filters",onClick:t.utils.getTogglePanelFn("filters",{origin:"gfpp"})},effects:{isSelected:t.utils.getPanelStateFn("effects"),tooltip:function(o,n){var i=t.columnsUtils.getColumnOrStripContainer(o,n),a=o.components.design.get(i[0]),r=e.get(a,"background"),s=e.get(r,["mediaRef","type"]);return s?"WixVideo"===s?"gfpp_tooltip_bg_filters_video_disabled":"Image"===s?"gfpp_tooltip_bg_filters":"":"gfpp_tooltip_bg_filters_color_disabled"},icon:"filters",isDisabled:function(e,o){var n=t.columnsUtils.getColumnOrStripContainer(e,o);return!t.columnsUtils.isImageFiltersSupported(e,n)},onClick:function(e,o){t.utils.getTogglePanelFn("effects",{origin:"gfpp",selectedComponent:t.columnsUtils.getColumnOrStripContainer(e,o)})(e)}},stretch:{isSelected:t.utils.getPanelStateFn("stretching"),tooltip:function(e,t){return e.components.layout.isStretchedToScreen(t)?"gfpp_tooltip_unstretch":"gfpp_tooltip_stretch"},icon:"gfpp_stretch",onClick:t.utils.getTogglePanelFn("stretching")},stretchForColumns:{isSelected:t.utils.getPanelStateFn("stretching"),tooltip:"gfpp_tooltip_stretch",icon:"gfpp_stretch",onClick:t.utils.getTogglePanelFn("stretching")},upgrade:{isSelected:!1,tooltip:"gfpp_tooltip_upgrade",icon:"",onClick:t.utils.getTogglePanelFn("upgrade")},crop:{isSelected:!1,isDisabled:function(e,o){return!t.utils.isCropAllowed(e,o)},tooltip:function(e,o){return t.utils.isCropAllowed(e,o)?"gfpp_tooltip_crop":"gfpp_tooltip_crop_disabled"},icon:"effects",onClick:function(e,o){t.utils.isCropAllowed(e,o)&&t.utils.openImageCrop(e,o)}},aviary:{isSelected:!1,tooltip:"gfpp_tooltip_imageeffects",icon:"effects",onClick:t.utils.openAviaryPanel},animation:{isSelected:t.utils.getPanelStateFn("animation"),isDisabled:function(e,t){return d(e,t)},isApplied:!1,tooltip:function(t,n){if(!d(t,n))return"gfpp_tooltip_animation";var i=e.map(n,s.bind(null,t)),a=e.every(i,function(e){return e===o.COMPONENT_DISPLAY.IN_MODE_AND_DEFAULT}),r=e.every(i,function(e){return e===o.COMPONENT_DISPLAY.ONLY_IN_DEFAULT_MODE});return a?"gfpp_tooltip_hover_animation_disabled_linked_element_in_regular":r?"gfpp_tooltip_hover_animation_disabled_single_element_in_regular":void 0},tooltip_active:"gfpp_tooltip_applied_animation",icon:"animation",onClick:function(o,n,i,a){var r=e.merge(p(o,n),a);t.utils.getTogglePanelFn("animation",r)(o,n,"gfpp",r)}},link:{isSelected:t.utils.getPanelStateFn("link"),isApplied:t.utils.getDataDefinedFn("link"),isDisabled:function(e,t){return d(e,t)},tooltip:"gfpp_tooltip_linkto",tooltip_active:"gfpp_tooltip_applied_linkto",icon:"link",onClick:t.utils.openLinkPanel},hide:{isSelected:!1,tooltip:"gfpp_tooltip_mobile_hide",icon:"gfpp_hide",onClick:function(e){e.selectedComponent.remove(),e.mobile.hideHiddenItemsCounter(),e.history.add("component - remove")}},help:{tooltip:"gfpp_tooltip_help",icon:"gfpp_help",mobileHelpId:"b6d9a270-f9c5-4837-995b-c3818b13a643"},pinMode:{isSelected:t.utils.getPanelStateFn("panels.pinnedDockPanel"),tooltip:"gfpp_tooltip_unpin",icon:"gfpp_pin",className:"gfpp-pin",onClick:function(e){e.pinMode.open("gfpp")}},preview:{tooltip:"gfpp_tooltip_preview",icon:"gfpp_preview",onClick:function(e){e.preview.togglePreview()}}},A={},w={},R={isSelected:t.utils.getPanelStateFn("customizeDesign"),tooltip:"gfpp_tooltip_customize",icon:"gfpp_customize_design_drop",onClick:t.utils.getTogglePanelFn("customizeDesign")};return w.customizeDesign=R,a.isOpen("fastStyling")&&(M.customizeDesign=R),M.applyToOtherView={isSelected:t.utils.getPanelStateFn("apply"),tooltip:function(e){var t=e.focusBox.getFocusedContainer();return e.components.modes.isCompDefaultModeActive(t)?"RightClick_Menu_Apply_Regular_ToHover_Label":"RightClick_Menu_Apply_Hover_ToRegular_Label"},icon:"gfpp_applyTo",onClick:t.utils.getTogglePanelFn("apply")},{getData:P,registerGfppActions:T}}),define("rEditor/rootComps/rightClickMenu/util/rcmDataParser",["lodash","rEditor/rootComps/gfpp/gfppModel","experiment"],function(e,t,o){function n(){return{enabled:!0}}function i(e,t){return _.components.is.duplicatable(e,t)&&!_.components.layout.isPinned(e)}function a(e){return i(e)?{enabled:!0}:null}function r(e){return i(e)?{enabled:!0}:null}function s(e){return e?null:{enabled:!!_.clipboard.getItem(_.clipboard.types.COMPONENT)}}function l(e){return!e&&_.copyPaste.canApplyModeFromClipboard()?{enabled:!0}:null}function c(e){return i(e,_.components.getContainer(e))?{enabled:!0}:null}function p(e){return _.components.is.styleCanBeApplied(e)?{enabled:!0}:null}function d(e){return _.hasExternalDesign(e)?null:{enabled:!0}}function u(e){return _.hasExternalDesign(e)?null:{enabled:!!_.clipboard.getItem(_.clipboard.types.COMPONENT_DESIGN)}}function m(t){if(_.components.is.controlledByParent(t))return null;var o=_.getCompMoveRestrictions(t),n=o.canMoveBackward||o.canMoveForward,i=_.components.is.fixed(t)&&e.includes(O,_.components.getType(t));return!n||i?null:{type:"subItems",enabled:!0,subItems:g(t)}}function g(e){var t=_.getCompMoveRestrictions(e);return{moveToFront:{icon:{svgName:"bringToFront"},enabled:t.canMoveForward},moveToBack:{icon:{svgName:"sendToBack"},enabled:t.canMoveBackward},moveForward:{icon:{svgName:"moveForward"},enabled:t.canMoveForward},moveBackward:{icon:{svgName:"moveBackward"},enabled:t.canMoveBackward}}}function f(e,t){var o=h(t);return o.length>1||1===o.length&&_.utils.isPage(e)?{type:"subItems",shouldShowCount:!0,enabled:!0,subItems:o}:null}function h(t){return e(t).reject(function(t){return e.includes(["SITE_PAGES","PAGES_CONTAINER"],t.id)||_.utils.isPage(t)}).map(function(e){return{component:e,key:"overlappingSubItem_"+e.id,icon:_.components.getIconInfo(e),label:_.components.getDisplayName(e),enabled:!0}}).value()}function b(e){var t,n;return o.isOpen("us_groupRightClick")?(t=_.documentServices.tpa.isTpaByCompType(_.components.getType(e)),n=t||_.components.is.removable(e),n?{enabled:n,operationKey:"DELETE"}:null):(t=_.documentServices.tpa.isTpaByCompType(_.components.getType(e)),n=_.components.is.removable(e),t||n?{enabled:n,operationKey:"DELETE"}:null)}function y(e){var t=_.components.is.fixed(e),o=_.documentServices.tpa.isTpaByCompType(_.components.getType(e))&&t;return _.components.canToggleShowOnAllPages(e)||o?{value:o||_.components.isShowOnAllPages(e),enabled:!o,operationKey:"SHOW_ON_ALL_PAGES"}:null}function P(e){return _.components.is.showLegacyFixedPosition(e)&&_.components.layout.canBeFixedPosition(e)?{value:_.components.is.fixed(e),enabled:!0}:null}function v(e,t){if(t||!_.components.is.pinnable(e))return null;var o=_.components.is.fixed(e);return{value:o,label:o?"RightClick_Menu_Unpin":"RightClick_Menu_PinToScreen",enabled:!0}}function E(){return o.isOpen("layoutTractor")?{enabled:!0}:null}function S(t){if(t)return null;var o=_.focusBox.getFocusedContainer();if(!o)return null;var n=_.components.modes.getModes(o);return!n||e.isEmpty(n)?null:{enabled:!0,label:_.components.modes.isCompDefaultModeActive(o)?"RightClick_Menu_Apply_Regular_ToHover_Label":"RightClick_Menu_Apply_Hover_ToRegular_Label"}}function T(o){var n=t.getData(_,o),i=["settings","design","customizeDesign","layout","upgrade","crop","filters","animation","link","connect"],a=(n.mainActions||[]).concat(e(n.presetActions).pick(i).toArray().value());return e.transform(a,function(t,n){n.onClick&&t.push({shouldTranslate:!e.isBoolean(n.shouldTranslate)||n.shouldTranslate,item:{enabled:!n.isDisabled,label:n.rightClickMenuLabel||n.label||n.tooltip},onClick:function(){n.onClick(_,o),_.closeRightClickMenu()}})},[])}function C(t){if(o.isOpen("themeStyle")){var n=_.components.getType(t),i=_.components.COMPONENT_DEFINITION_MAP[n],a=i&&i.styles&&e.keys(i.styles);if(a)return{enabled:!0,styleIds:a}}return null}function I(e,t,o){return e?{undo:n(),copy:r(e),paste:s(o),applyModeFromClipboard:l(o),cut:a(e),duplicate:c(e),copyDesign:d(e),pasteDesign:u(e),arrange:m(e),overlappingItems:f(e,t),remove:b(e),showOnAllPages:y(e),fixedPosition:P(e),gfppItems:T(e),styleCanBeApplied:p(e),pin:v(e,o),layoutTractor:E(),applyToAllModes:S(o),saveToTheme:C(e)}:{paste:s(o),undo:n()}}var _,O=["wysiwyg.viewer.components.tpapps.TPAGluedWidget"];return{buildMenuItems:function(e,t,o){return _=e,I(o,t,_.isMobileEditor())},buildShowOnAllPagesItem:function(e,t){return _=e,y(t)},buildFixedPositionItem:function(e,t){return _=e,P(t)},buildArrangeMenu:function(e,t){return _=t,m(e)}}}),define("rEditor/rootComps/rightClickMenu/customActions/stripColumnsContainer",["core"],function(e){var t=[{label:function(e,t){return 1===e.components.getChildren(t).length?"STRIP_CONTAINER_LAYOUTS_ADD_COLUMNS":"STRIP_CONTAINER_LAYOUTS_ADD_EXTRA_COLUMNS"},enabled:function(e,t){return e.columns.canAdd(t)},onClick:function(t,o){var n={num_of_columns_before:t.components.getChildren(o).length,origin:"rcm"};t.columns.addColumn(o),t.bi.event(e.bi.events.columns.COLUMNS_ADD_COLUMN_CLICK,n),t.closeRightClickMenu()}}];return function(e){return e.isMobileEditor()?[]:t}}),define("rEditor/rootComps/rightClickMenu/customActions/column",["core"],function(e){function t(e,t){return function(o){return o.isMobileEditor()?t:e}}function o(t){var o=t.isDesktopEditor()?e.bi.events.columns.COLUMNS_MOVE_LEFT_RIGHT:e.bi.events.columns.COLUMNS_MOVE_UP_DOWN;t.bi.event(o,{origin:"rcm"})}return[{label:t("RightClick_Menu_Move_Column_Left_Label","RightClick_Menu_Mobile_Move_Column_Up_Label"),enabled:function(e,t){return e.components.arrangement.canMoveBackward(t)},onClick:function(e,t){e.columns.move.left(t),o(e),e.closeRightClickMenu()}},{label:t("RightClick_Menu_Move_Column_Right_Label","RightClick_Menu_Mobile_Move_Column_Down_Label"),enabled:function(e,t){return e.components.arrangement.canMoveForward(t)},onClick:function(e,t){e.columns.move.right(t),o(e),e.closeRightClickMenu()}}]}),define("rEditor/rootComps/rightClickMenu/customActions",["rEditor/rootComps/rightClickMenu/customActions/stripColumnsContainer","rEditor/rootComps/rightClickMenu/customActions/column"],function(e,t){return{"wysiwyg.viewer.components.StripColumnsContainer":e,"wysiwyg.viewer.components.Column":t}}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic.rt",["react","lodash","baseUI"],function(e,t,o){return function(){function n(){var n=this.isEnabled();return e.createElement("li",{className:t({"item-basic":!0,disabled:!n,hoverable:n}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:n?this.props.onClick:function(){},onContextMenu:n?this.props.onClick:function(){},onMouseEnter:this.props.onMouseEnter||t.noop,onMouseLeave:this.props.onMouseLeave||t.noop},this.props.item.icon?e.createElement("span",{className:"icon",key:"icon"},this.props.item.icon.svgName?e.createElement(o.symbol,{name:this.props.item.icon.svgName,key:"svg"}):null,this.props.item.icon.css?e.createElement("span",{style:this.getImageIconStyle(),key:"style"}):null):null,e.createElement("span",{className:"label"},this.translateIfNeeded(this.props.label||this.props.item.label)))}return n.apply(this,[])}}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic",["create-react-class","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic.rt"],function(e,t,o,n){return e({displayName:"rcmItemBasic",mixins:[o.translationMixin],getImageIconStyle:function(){return t.merge({},this.props.item.icon.css,{backgroundImage:"url("+this.props.item.icon.src+")"})},isEnabled:function(){return t.isFunction(this.props.enabled)?this.props.enabled():this.props.item.enabled},render:n})}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut.rt",["react","lodash","baseUI"],function(e,t,o){return function(){return e.createElement(o.tooltip,{value:this.getTooltipText(),alignment:"right",disabled:!this.getTooltipText()},e.createElement("li",{className:t({"item-shortcut":!0,disabled:!this.props.item.enabled,hoverable:this.props.item.enabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.props.item.enabled?this.props.onClick:function(){},onContextMenu:this.props.item.enabled?this.props.onClick:function(){}},this.props.item.icon?e.createElement("span",{className:"icon",key:"icon"},this.props.item.icon.svgName?e.createElement(o.symbol,{name:this.props.item.icon.svgName,key:"svg"}):null):null,e.createElement("span",{className:"label label-shortcut"},this.translateIfNeeded(this.props.label)),e.createElement("span",{className:"action action-shortcut"},this.props.shortcut)))}}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut",["create-react-class","core","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut.rt"],function(e,t,o,n,i){return e({displayName:"rcmItemWithShortcut",mixins:[n.translationMixin,t.mixins.editorAPIMixin],getTooltipText:function(){return this.getEditorAPI().tooltipTextService.getSelectedComponentTooltipText(this.props.item.operationKey)},render:i})}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut"],function(e,t,o){return function(){return e.createElement("li",{className:t({disabled:!this.props.item.enabled,hoverable:this.props.item.enabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("span",{className:"label label-sub-item"},e.createElement("span",{"data-hint-id":this.props.hintId},this.translateIfNeeded(this.props.label)),this.props.item.shouldShowCount?e.createElement("span",{key:"count"}," ("+e.Children.count(this.props.children)+")"):null),e.createElement("span",{className:"action action-expand"}),e.createElement("div",{className:"rightClickMenu subMenu"},e.createElement("ul",{},this.props.children)))}}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems",["create-react-class","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems.rt"],function(e,t,o,n){return e({displayName:"rcmItemWithSubItems",mixins:[o.translationMixin],render:n})}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut"],function(e,t,o){return function(){return e.createElement("li",{className:t({disabled:!this.props.item.enabled,hoverable:this.props.item.enabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:this.props.onClick},e.createElement("span",{className:"label label-sub-item"},e.createElement("span",{},this.translateIfNeeded(this.props.label)),this.props.item.shouldShowCount?e.createElement("span",{key:"count"}," ("+e.Children.count(this.props.children)+")"):null),e.createElement("span",{className:t({action:!0,"action-expand":this.props.items.length>0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")}),e.createElement("div",{className:"rightClickMenu subMenu"},e.createElement("ul",{},this.getChildren())))}}),define("rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive",["react","create-react-class","lodash","util","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive.rt"],function(e,t,o,n,i){var a=t({displayName:"rcmItemWithSubItemsRecursive",mixins:[n.translationMixin],getChildren:function(){return o.map(this.props.items,function(t){return e.createElement(a,t)})},render:i});return a}),define("rEditor/rootComps/rightClickMenu/rightClickMenu.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle","util","baseUI","experiment"],function(e,t,o,n,i,a,r,s,l,c,p){return function(){function d(t,n,i,a,r,s,l){return e.createElement(o,{shouldTranslate:s.shouldTranslate,item:s.item,label:s.item.label,key:s.item.label,onClick:s.onClick})}function u(n,i,a,r,s,l,c){return e.createElement(o,{key:"customAction_"+c,item:l,label:t.isFunction(l.label)?l.label(i,s):l.label,onClick:l.onClick.bind(null,i,s),enabled:t.isFunction(l.enabled)&&l.enabled.bind(null,i,s)})}function m(e,t,o,n,i,a,r){this.openApplyToDialog(a)}function g(t,n,i,a,r,s,l){return e.createElement(o,{key:"rcmApplyStyle",label:"RightClick_Menu_Copy_Design_Label",item:this.getApplyToInfoItem(),onClick:m.bind(this,t,n,i,a,r,s,l)})}function f(t,n,i,a,r,s,l){return e.createElement(o,{item:s,label:s.label,key:s.key,onClick:this.onOverlappingItemClick.bind(this,s),shouldTranslate:!1,onMouseEnter:this.onOverlappingItemMouseEnter.bind(this,s),onMouseLeave:this.onOverlappingItemMouseLeave})}function h(e,t,o,n,i,a,r){this.saveStyleToTheme(this.props.selectedComponents[0],a)}function b(t,n,i,a,r,s,l){return e.createElement(o,{shouldTranslate:!1,item:{label:s,enabled:!0},key:this.props.selectedComponents[0]+"_themeStyle_"+s,onClick:h.bind(this,t,n,i,a,r,s,l)})}function y(t,o,n,i,r,s,l){return e.createElement(a,{shouldTranslate:!1,key:s.id,label:o.components.getDisplayName(s)+" - "+s.id,item:{enabled:!0},items:this.getDebugItems(s)})}function P(e,t,o,n,i,a,r){this.exportDebugInfo(a)}function v(t,n,i,a,r,s,l){return e.createElement(o,{shouldTranslate:!1,item:this.getExportDebugInfoItem(s),key:s.id+".debugInfo",onClick:P.bind(this,t,n,i,a,r,s,l)})}function E(){var a=this.state.menuItems,m=this.getEditorAPI(),h=r.editor,P=this.getCustomActions(),E=t.head(this.props.selectedComponents);return e.createElement("div",{style:{top:this.state.position.y,left:this.state.position.x},className:t(this.getClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onContextMenu:this.onRightClick,key:"rcm",ref:"rcmRoot"},this.props.selectedComponents?null:e.createElement("ul",{key:"noCompSelectedItems"},a.paste?e.createElement(n,{item:a.paste,label:"RightClick_Menu_Paste_Label",shortcut:h.PASTE.label,onClick:this.pasteComponent,key:"noCompSelectedPaste"}):null),this.props.selectedComponents?e.createElement("div",{key:"selectedCompItems"},a.applyToAllModes||a.applyModeFromClipboard?e.createElement("ul",{key:"rcmApplyGroup"},a.applyToAllModes?e.createElement(o,{item:a.applyToAllModes,key:"rcmApplyToAllModes",label:a.applyToAllModes.label,onClick:this.applyToAllModes}):null,a.applyModeFromClipboard?e.createElement(n,{item:a.applyModeFromClipboard,label:"RightClick_Menu_HB_Apply_From_Clipboard",shortcut:h.APPLY_MODE.label,onClick:this.applyModeFromClipboard,key:"rcmApplyModeFromClipboard"}):null):null,t.isEmpty(a.gfppItems)?null:e.createElement.apply(this,["ul",{key:"gfppItems","data-section":"gfppItems"},t.map(a.gfppItems,d.bind(this,a,m,h,P,E))]),P.length?e.createElement.apply(this,["ul",{key:"customActions"},t.map(P,u.bind(this,a,m,h,P,E))]):null,e.createElement.apply(this,["ul",{},e.createElement(n,{item:a.undo,label:"TOPBAR_Edit_Undo",shortcut:h.UNDO.label,onClick:this.undo}),a.cut?e.createElement(n,{item:a.cut,label:"RightClick_Menu_Cut_Label",shortcut:h.CUT.label,onClick:this.cutComponent,key:"rcmCut"}):null,a.copy?e.createElement(n,{item:a.copy,label:"RightClick_Menu_Copy_Label",shortcut:h.COPY.label,onClick:this.copyComponent,key:"rcmCopy"}):null,a.styleCanBeApplied?t.map(this.props.selectedComponents,g.bind(this,a,m,h,P,E)):null,a.paste?e.createElement(n,{item:a.paste,label:"RightClick_Menu_Paste_Label",shortcut:h.PASTE.label,onClick:this.pasteComponent,key:"rcmPaste"}):null,a.duplicate?e.createElement(n,{item:a.duplicate,label:"RightClick_Menu_Duplicate_Label",shortcut:h.DUPLICATE.label,onClick:this.duplicateComponent,key:"rcmDuplicate"}):null]),a.arrange||a.overlappingItems?e.createElement("ul",{key:"rcmArrangeOverlapping"},a.overlappingItems?e.createElement.apply(this,[i,{ref:"overlappingItems",label:"RightClick_Menu_Overlapping_Items_Label",item:a.overlappingItems,hintId:p.isMultiValueExperimentOpen("editorHintsConfigs")?"OverlappingItems":null,key:"rcmOverlapping"},t.map(a.overlappingItems.subItems,f.bind(this,a,m,h,P,E))]):null,a.arrange?e.createElement(i,{item:a.arrange,label:"RightClick_Menu_Arrange_Label",key:"rcmArrange",hintId:p.isMultiValueExperimentOpen("editorHintsConfigs")?"ForwardOrBack":null,onMouseOver:this.onArrangeHover},e.createElement(n,{item:a.arrange.subItems.moveToFront,label:"RightClick_Menu_Bring_to_Front_Label",shortcut:h.SEND_TO_FRONT.label,onClick:this.moveToFront}),e.createElement(n,{item:a.arrange.subItems.moveToBack,label:"RightClick_Menu_Send_to_Back_Label",shortcut:h.SEND_TO_BACK.label,onClick:this.moveToBack}),e.createElement(n,{item:a.arrange.subItems.moveForward,label:"RightClick_Menu_Move_Forward_Label",shortcut:h.SEND_FORWARD.label,onClick:this.moveForward}),e.createElement(n,{item:a.arrange.subItems.moveBackward,label:"RightClick_Menu_Move_Backward_Label",shortcut:h.SEND_BACKWARD.label,onClick:this.moveBackward})):null):null,a.remove?e.createElement("ul",{key:"rcmRemove"},e.createElement(n,{item:a.remove,label:this.shouldPresentHideOverDelete()?"RightClick_Menu_Mobile_Hide_Label":"RightClick_Menu_Delete_Label",shortcut:"Del",onClick:this.removeComponent})):null,a.pin?e.createElement("ul",{key:"rcmPin"},a.pin?e.createElement(n,{item:a.pin,label:a.pin.label,value:a.pin.value,onClick:this.handlePinClick,key:"rcmPin"}):null):null,a.layoutTractor?e.createElement("ul",{key:"layoutTractor"},e.createElement(n,{item:a.layoutTractor,shouldTranslate:!1,label:"Layout Tractor (UI)",onClick:this.openLayoutTractor})):null,a.saveToTheme&&1===this.props.selectedComponents.length?e.createElement("ul",{key:"themeStylesExperiment"},e.createElement.apply(this,[i,{item:{enabled:!0},label:"Save to theme",shouldTranslate:!1,key:"saveToTheme"},t.map(a.saveToTheme.styleIds,b.bind(this,a,m,h,P,E))])):null,a.showOnAllPages||a.fixedPosition?e.createElement("ul",{key:"rcmShowOnAllPagesFixPosition"},a.showOnAllPages?e.createElement("li",{key:"rcmShowOnAllPages"},e.createElement("span",{className:"label label-toggle"},l.translate("toolbar_show_on_all_pages")),e.createElement(s,{origin:"rightClickMenu",selectedComponents:this.props.selectedComponents,isComponentShowOnAllPages:this.props.selectedComponents&&m.components.isShowOnAllPages(this.props.selectedComponents),disabled:this.isShowOnAllPagesToggleDisabled(),isPage:m.utils.isPage(this.props.selectedComponents),componentsRestrictions:m.getCompRestrictions(this.props.selectedComponents),toggleShowOnAllPages:t.partial(m.components.toggleShowOnAllPages,this.props.selectedComponents),reportBI:m.bi.event})):null,a.fixedPosition?e.createElement("li",{key:"rcmFixedPosition",className:t({disabled:!a.fixedPosition.enabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("span",{className:"label label-toggle"},this.translateIfNeeded("RightClick_Menu_Fixed_Position_Label")),e.createElement(c.toggle,t.assign({},{className:this.props.className+" action",value:a.fixedPosition.value,onChange:this.toggleFixedPosition,size:"medium"},{disabled:!a.fixedPosition.enabled}))):null):null,p.isOpen("rightClickDebug")?e.createElement("ul",{key:"debug"},e.createElement.apply(this,[i,{item:{enabled:!0},label:"Debug",shouldTranslate:!1,key:"debug"},t.map(this.props.selectedComponents,y.bind(this,a,m,h,P,E)),t.map(this.props.selectedComponents,v.bind(this,a,m,h,P,E)),this.isSingleController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Inspect controller",enabled:!0},key:"controllerInspector",onClick:this.controllerInspector}):null,this.isSingleController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Select connected components",enabled:!0},key:"selectConnectedComponents",onClick:this.selectControllerConnectedComponents}):null,this.isSingleNonController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Inspect connections to controllers",enabled:!0},key:"connectionInspector",onClick:this.connectionsInspector}):null,e.createElement(o,{shouldTranslate:!1,item:{label:"Add controller",enabled:!0},key:"add-controller",onClick:this.openAddController}),e.createElement(o,{shouldTranslate:!1,item:{label:"Component Finder",enabled:!0},key:"component-finder",onClick:this.componentInspectorFinder})])):null,m.developerMode.isEnabled()?e.createElement("ul",{key:"rcmDevMode"},e.createElement(o,{label:"PLATFORM_RightClick_Menu_Open_Properties_Panel",ref:"openDevTools",item:{enabled:!0},onClick:this.openPropertiesPanel})):null):null)}return this.state.menuItems?E.apply(this,[]):null}}),define("rEditor/rootComps/rightClickMenu/rightClickMenuUsGroupRightClick.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithShortcut","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItems","rEditor/rootComps/rightClickMenu/menuItems/rcmItemWithSubItemsRecursive","rEditor/rootComps/keyboard/config/keyboardShortcutsActionMap","rEditor/rootComps/showOnAllPagesToggle/showOnAllPagesToggle","util","baseUI","experiment"],function(e,t,o,n,i,a,r,s,l,c,p){return function(){function d(t,n,i,a,r,s,l){return e.createElement(o,{shouldTranslate:s.shouldTranslate,item:s.item,label:s.item.label,key:s.item.label,onClick:s.onClick})}function u(n,i,a,r,s,l,c){return e.createElement(o,{key:"customAction_"+c,item:l,label:t.isFunction(l.label)?l.label(i,s):l.label,onClick:l.onClick.bind(null,i,s),enabled:t.isFunction(l.enabled)&&l.enabled.bind(null,i,s)})}function m(t,n,i,a,r,s,l){return e.createElement(o,{item:s,label:s.label,key:s.key,onClick:this.onOverlappingItemClick.bind(this,s),shouldTranslate:!1,onMouseEnter:this.onOverlappingItemMouseEnter.bind(this,s),onMouseLeave:this.onOverlappingItemMouseLeave})}function g(e,t,o,n,i,a,r){this.openApplyToDialog(a)}function f(t,n,i,a,r,s,l){return e.createElement(o,{key:"rcmApplyStyle",label:"RightClick_Menu_Copy_Design_Label",item:this.getApplyToInfoItem(),onClick:g.bind(this,t,n,i,a,r,s,l)})}function h(e,t,o,n,i,a,r){this.openApplyToDialog(a)}function b(t,n,i,a,r,s,l){return e.createElement(o,{key:"rcmApplyStyle",label:"RightClick_Menu_Copy_Design_Label",item:this.getApplyToInfoItem(),onClick:h.bind(this,t,n,i,a,r,s,l)})}function y(e,t,o,n,i,a,r){this.saveStyleToTheme(this.props.selectedComponents[0],a)}function P(t,n,i,a,r,s,l){return e.createElement(o,{shouldTranslate:!1,item:{label:s,enabled:!0},key:this.props.selectedComponents[0]+"_themeStyle_"+s,onClick:y.bind(this,t,n,i,a,r,s,l)})}function v(t,o,n,i,r,s,l){return e.createElement(a,{shouldTranslate:!1,key:s.id,label:o.components.getDisplayName(s)+" - "+s.id,item:{enabled:!0},items:this.getDebugItems(s)})}function E(e,t,o,n,i,a,r){this.exportDebugInfo(a)}function S(t,n,i,a,r,s,l){return e.createElement(o,{shouldTranslate:!1,item:this.getExportDebugInfoItem(s),key:s.id+".debugInfo",onClick:E.bind(this,t,n,i,a,r,s,l)})}function T(){var a=this.state.menuItems,g=this.getEditorAPI(),h=r.editor,y=this.getCustomActions(),E=t.head(this.props.selectedComponents);return e.createElement("div",{style:{top:this.state.position.y,left:this.state.position.x},className:t(this.getClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onContextMenu:this.onRightClick,key:"rcm",ref:"rcmRoot"},this.props.selectedComponents?null:e.createElement("ul",{key:"noCompSelectedItems"},a.paste?e.createElement(n,{item:a.paste,label:"RightClick_Menu_Paste_Label",shortcut:h.PASTE.label,onClick:this.pasteComponent,key:"noCompSelectedPaste"}):null),this.props.selectedComponents?e.createElement("div",{key:"selectedCompItems"},a.applyToAllModes||a.applyModeFromClipboard?e.createElement("ul",{key:"rcmApplyGroup"},a.applyToAllModes?e.createElement(o,{item:a.applyToAllModes,key:"rcmApplyToAllModes",label:a.applyToAllModes.label,onClick:this.applyToAllModes}):null,a.applyModeFromClipboard?e.createElement(n,{item:a.applyModeFromClipboard,label:"RightClick_Menu_HB_Apply_From_Clipboard",shortcut:h.APPLY_MODE.label,onClick:this.applyModeFromClipboard,key:"rcmApplyModeFromClipboard"}):null):null,t.isEmpty(a.gfppItems)?null:e.createElement.apply(this,["ul",{key:"gfppItems","data-section":"gfppItems"},t.map(a.gfppItems,d.bind(this,a,g,h,y,E))]),y.length?e.createElement.apply(this,["ul",{key:"customActions"},t.map(y,u.bind(this,a,g,h,y,E))]):null,a.arrange||a.overlappingItems?e.createElement("ul",{key:"rcmArrangeOverlapping"},e.createElement(n,{item:a.undo,label:"TOPBAR_Edit_Undo",shortcut:h.UNDO.label,onClick:this.undo}),a.overlappingItems?e.createElement.apply(this,[i,{ref:"overlappingItems",label:"Select",shouldTranslate:!1,item:a.overlappingItems,hintId:p.isMultiValueExperimentOpen("editorHintsConfigs")?"OverlappingItems":null,key:"rcmOverlapping"},t.map(a.overlappingItems.subItems,m.bind(this,a,g,h,y,E))]):null,e.createElement.apply(this,[i,{ref:"editItems",label:"Copy/Paste",shouldTranslate:!1,item:this.getEditItems(),key:"editItems"},a.cut?e.createElement(n,{item:a.cut,label:"RightClick_Menu_Cut_Label",shortcut:h.CUT.label,onClick:this.cutComponent,key:"rcmCut"}):null,a.copy?e.createElement(n,{item:a.copy,label:"RightClick_Menu_Copy_Label",shortcut:h.COPY.label,onClick:this.copyComponent,key:"rcmCopy"}):null,a.styleCanBeApplied?t.map(this.props.selectedComponents,f.bind(this,a,g,h,y,E)):null,a.paste?e.createElement(n,{item:a.paste,label:"RightClick_Menu_Paste_Label",shortcut:h.PASTE.label,onClick:this.pasteComponent,key:"rcmPaste"}):null,a.duplicate?e.createElement(n,{item:a.duplicate,label:"RightClick_Menu_Duplicate_Label",shortcut:h.DUPLICATE.label,onClick:this.duplicateComponent,key:"rcmDuplicate"}):null]),a.arrange?e.createElement(i,{item:a.arrange,label:"RightClick_Menu_Arrange_Label",key:"rcmArrange",hintId:p.isMultiValueExperimentOpen("editorHintsConfigs")?"ForwardOrBack":null,onMouseOver:this.onArrangeHover},e.createElement(n,{item:a.arrange.subItems.moveToFront,label:"RightClick_Menu_Bring_to_Front_Label",shortcut:h.SEND_TO_FRONT.label,onClick:this.moveToFront}),e.createElement(n,{item:a.arrange.subItems.moveToBack,label:"RightClick_Menu_Send_to_Back_Label",shortcut:h.SEND_TO_BACK.label,onClick:this.moveToBack}),e.createElement(n,{item:a.arrange.subItems.moveForward,label:"RightClick_Menu_Move_Forward_Label",shortcut:h.SEND_FORWARD.label,onClick:this.moveForward}),e.createElement(n,{item:a.arrange.subItems.moveBackward,label:"RightClick_Menu_Move_Backward_Label",shortcut:h.SEND_BACKWARD.label,onClick:this.moveBackward})):null):null,a.arrange||a.overlappingItems?null:e.createElement("ul",{key:"rcmArrangeOverlapping"},e.createElement(n,{item:a.undo,label:"TOPBAR_Edit_Undo",shortcut:h.UNDO.label,onClick:this.undo}),e.createElement.apply(this,[i,{ref:"editItems",label:"Copy/Paste",shouldTranslate:!1,item:this.getEditItems(),key:"editItems"},a.cut?e.createElement(n,{item:a.cut,label:"RightClick_Menu_Cut_Label",shortcut:h.CUT.label,onClick:this.cutComponent,key:"rcmCut"}):null,a.copy?e.createElement(n,{item:a.copy,label:"RightClick_Menu_Copy_Label",shortcut:h.COPY.label,onClick:this.copyComponent,key:"rcmCopy"}):null,a.styleCanBeApplied?t.map(this.props.selectedComponents,b.bind(this,a,g,h,y,E)):null,a.paste?e.createElement(n,{item:a.paste,label:"RightClick_Menu_Paste_Label",shortcut:h.PASTE.label,onClick:this.pasteComponent,key:"rcmPaste"}):null,a.duplicate?e.createElement(n,{item:a.duplicate,label:"RightClick_Menu_Duplicate_Label",shortcut:h.DUPLICATE.label,onClick:this.duplicateComponent,key:"rcmDuplicate"}):null])),a.remove?e.createElement("ul",{key:"rcmRemove"},e.createElement(n,{item:a.remove,label:g.isMobileEditor()?"RightClick_Menu_Mobile_Hide_Label":"RightClick_Menu_Delete_Label",shortcut:"Del",onClick:this.removeComponent})):null,this.isPageSelected()?e.createElement("ul",{key:"rcmRemovePage"},e.createElement(n,{item:{enabled:!0},label:"Delete Page",shouldTranslate:!1,onClick:this.deletePage})):null,a.pin?e.createElement("ul",{key:"rcmPin"},a.pin?e.createElement(n,{item:a.pin,label:"RightClick_Menu_PinToScreen",value:a.pin.value,onClick:this.handlePinClick,key:"rcmPin"}):null):null,a.layoutTractor?e.createElement("ul",{key:"layoutTractor"},e.createElement(n,{item:a.layoutTractor,shouldTranslate:!1,label:"Layout Tractor (UI)",onClick:this.openLayoutTractor})):null,a.saveToTheme&&1===this.props.selectedComponents.length?e.createElement("ul",{key:"themeStylesExperiment"},e.createElement.apply(this,[i,{item:{enabled:!0},label:"Save to theme",shouldTranslate:!1,key:"saveToTheme"},t.map(a.saveToTheme.styleIds,P.bind(this,a,g,h,y,E))])):null,a.showOnAllPages||a.fixedPosition?e.createElement("ul",{key:"rcmShowOnAllPagesFixPosition"},a.showOnAllPages?e.createElement("li",{key:"rcmShowOnAllPages"},e.createElement("span",{className:"label label-toggle"},l.translate("toolbar_show_on_all_pages")),e.createElement(s,{origin:"rightClickMenu",selectedComponents:this.props.selectedComponents,isComponentShowOnAllPages:this.props.selectedComponents&&g.components.isShowOnAllPages(this.props.selectedComponents),disabled:this.isShowOnAllPagesToggleDisabled(),isPage:g.utils.isPage(this.props.selectedComponents),componentsRestrictions:g.getCompRestrictions(this.props.selectedComponents),toggleShowOnAllPages:t.partial(g.components.toggleShowOnAllPages,this.props.selectedComponents),reportBI:g.bi.event})):null,a.fixedPosition?e.createElement("li",{key:"rcmFixedPosition",className:t({disabled:!a.fixedPosition.enabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("span",{className:"label label-toggle"},this.translateIfNeeded("RightClick_Menu_Fixed_Position_Label")),e.createElement(c.toggle,t.assign({},{className:this.props.className+" action",value:a.fixedPosition.value,onChange:this.toggleFixedPosition,size:"medium"},{disabled:!a.fixedPosition.enabled}))):null):null,p.isOpen("rightClickDebug")?e.createElement("ul",{key:"debug"},e.createElement.apply(this,[i,{item:{enabled:!0},label:"Debug",shouldTranslate:!1,key:"debug"},t.map(this.props.selectedComponents,v.bind(this,a,g,h,y,E)),t.map(this.props.selectedComponents,S.bind(this,a,g,h,y,E)),this.isSingleController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Inspect controller",enabled:!0},key:"controllerInspector",onClick:this.controllerInspector}):null,this.isSingleController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Select connected components",enabled:!0},key:"selectConnectedComponents",onClick:this.selectControllerConnectedComponents}):null,this.isSingleNonController()?e.createElement(o,{shouldTranslate:!1,item:{label:"Inspect connections to controllers",enabled:!0},key:"connectionInspector",onClick:this.connectionsInspector}):null,e.createElement(o,{shouldTranslate:!1,item:{label:"Add controller",enabled:!0},key:"add-controller",onClick:this.openAddController}),e.createElement(o,{shouldTranslate:!1,item:{label:"Component Finder",enabled:!0},key:"component-finder",onClick:this.componentInspectorFinder})])):null,g.developerMode.isEnabled()?e.createElement("ul",{key:"rcmDevMode"},e.createElement(o,{label:"PLATFORM_RightClick_Menu_Open_Properties_Panel",ref:"openDevTools",item:{enabled:!0},onClick:this.openPropertiesPanel})):null):null)}return this.state.menuItems?T.apply(this,[]):null}}),define("rEditor/rootComps/rightClickMenu/rightClickMenu",["react","create-react-class","prop-types","lodash","jquery","core","rEditor/rootComps/rightClickMenu/util/rcmDataParser","rEditor/rootComps/rightClickMenu/customActions","util","experiment","rEditor/rootComps/rightClickMenu/rightClickMenu.rt","rEditor/rootComps/rightClickMenu/rightClickMenuUsGroupRightClick.rt","coreUtilsLib","editorHints"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m){function g(e,t){return n.findIndex(t,function(t){return n.isEqual(t,e)})>-1}function f(e,t){var o=T.selection.getComponentsByXY(e,t);return n.filter(o,T.components.is.selectable)}function h(e,t,o){return n.map(n.keys(t),function(i){var a=t[i],r=o.concat(i);return{key:i,label:i,onClick:function(t){u.log.info(e,r.join("."),a),t.stopPropagation()},items:n.isString(a)||n.isNumber(a)?[]:h(e,a,r),item:{enabled:!0}}})}function b(e,t,o){var n=o,i=t.outerHeight();if(n+i>e.bottomY){var a=n-i;return a<e.y?e.y:a}return n}function y(e,t,o){var n=o,i=t.outerWidth();if(n+i-window.pageXOffset>e.rightX){var a=n-i;return a<e.x?n+e.x:a}return n}function P(e,t){var o=a.utils.stageUtils.getViewPort();return{x:y(o,e,t.x),y:b(o,e,t.y)}}function v(e,t){var o=a.utils.stageUtils.getViewPort(),r=e.find(".subMenu");if(0===r.length)return!1;var s=i(n.maxBy(r,function(e){return i(e).outerWidth()}));return t.x+e.outerWidth()+s.outerWidth()>o.rightX}function E(e){var t=this.state.menuItems;t.arrange=r.buildArrangeMenu(e,this.getEditorAPI()),this.setState({menuItems:t})}function S(e,t,o){n.set(o,e,t)}var T,C=a.bi;return t({displayName:"rightClickMenu",mixins:[a.mixins.editorAPIMixin,l.outerClickMixin,l.translationMixin],compType:null,propTypes:{selectedComponents:o.array,editorMousePosition:o.object.isRequired,viewerMousePosition:o.object.isRequired,setHoverBox:o.func.isRequired,clearHoverBox:o.func.isRequired},onOuterClick:function(){T.closeRightClickMenu()},getInitialState:function(){return T=this.getEditorAPI(),this.shouldMeasureRCMRelativeToViewPort=!0,{position:this.props.editorMousePosition,openSubMenuToLeft:!1,menuItems:this.getAllMenuItems(this.props.selectedComponents,this.props.viewerMousePosition)}},componentDidMount:function(){this.compType=T.components.getType(this.props.selectedComponents),T.bi.event(C.events.rightClickMenu.RIGHT_CLICK_MENU_OPEN,{component:this.compType}),this.updatePositionRelativeToViewPort()},getAllMenuItems:function(e,t){var o=f(t.x,t.y);return r.buildMenuItems(T,o,e)},rebuildItemsForSameComponent:function(e){var t=n.pickBy({showOnAllPages:r.buildShowOnAllPagesItem(T,e),fixedPosition:r.buildFixedPositionItem(T,e)},n.bind(function(e,t){return!n.isEqual(e,this.state.menuItems[t])},this));if(!n.isEmpty(t)){var o=n.assign({},this.state.menuItems,t);this.setState({menuItems:o})}},componentWillReceiveProps:function(e){e.selectedComponents&&(n.isEqual(e.selectedComponents,this.props.selectedComponents)?this.rebuildItemsForSameComponent(e.selectedComponents):(this.shouldMeasureRCMRelativeToViewPort=!0,this.setState({menuItems:this.getAllMenuItems(e.selectedComponents,e.viewerMousePosition)})))},componentDidUpdate:function(){this.shouldMeasureRCMRelativeToViewPort&&this.updatePositionRelativeToViewPort()},componentWillUnmount:function(){T.bi.event(C.events.rightClickMenu.RIGHT_CLICK_MENU_CLOSE,{origin:"rcm",component:this.compType})},updatePositionRelativeToViewPort:function(){var e=i(this.refs.rcmRoot),t=P(e,this.state.position),o=v(e,this.state.position);this.shouldMeasureRCMRelativeToViewPort=!1,this.setState({position:t,openSubMenuToLeft:o})},onOverlappingItemMouseEnter:function(e){T.bi.event(C.events.rightClickMenu.OVERLAPPING_ITEMS_HOVER,{component:g(e.component,this.props.selectedComponents)?"selected":"other"}),this.props.setHoverBox(e.component,!0)},onOverlappingItemMouseLeave:function(){this.props.clearHoverBox()},getClasses:function(){return{rightClickMenu:!0,"open-sub-menu-left":this.state.openSubMenuToLeft,"fixed-position":this.getEditorAPI().components.layout.isShowOnFixedPosition(this.props.selectedComponents)}},onRightClick:function(e){e.preventDefault()},undo:function(){this.getEditorAPI().history.undo(),T.closeRightClickMenu()},cutComponent:function(){var e=T.bi.getComponentsBIParams(this.props.selectedComponents);n.forEach(e,n.partial(S,"origin","rcm")),T.bi.reportBI(C.events.rightClickMenu.CUT,e),T.closeRightClickMenu(function(){T.selectedComponent.cut(),T.history.add("cut component via rightClickMenu")})},copyComponent:function(){var e=T.bi.getComponentsBIParams(this.props.selectedComponents);n.forEach(e,n.partial(S,"origin","rcm")),T.selectedComponent.copy(),T.closeRightClickMenu(),T.bi.reportBI(C.events.rightClickMenu.COPY,e)},pasteComponent:function(){var e=T.bi.getComponentsBIParams(this.props.selectedComponents);n.forEach(e,n.partial(S,"origin","rcm"));var t=T.ui.scroll.getScroll(),o={x:this.props.editorMousePosition.x-T.site.getXPos()+t.scrollLeft,y:this.props.editorMousePosition.y-T.components.layout.get(T.documentServices.siteSegments.getPagesContainer()).y+t.scrollTop};T.copyPaste.paste(o,!0),T.closeRightClickMenu(),T.history.add("paste component via rightClickMenu"),T.bi.reportBI(C.events.rightClickMenu.PASTE,e)},applyModeFromClipboard:function(){var e=T.bi.getComponentsBIParams(this.props.selectedComponents);n.forEach(e,n.partial(S,"origin","rcm")),T.copyPaste.applyModeFromClipboard(T.selection.getSelectedComponents()),T.closeRightClickMenu(),T.bi.reportBI(C.events.rightClickMenu.APPLY_MODE_FROM_CLIPBOARD,e)},duplicateComponent:function(){var e=T.bi.getComponentsBIParams(this.props.selectedComponents);n.forEach(e,n.partial(S,"origin","rcm")),T.selectedComponent.duplicate(),T.closeRightClickMenu(),"Column"!==T.selection.getSelectedComponentType()&&T.history.add("duplicate component via rightClickMenu"),T.bi.reportBI(C.events.rightClickMenu.DUPLICATE,e)},removeComponent:function(){var e=T.bi.getComponentsBIParams(this.props.selectedComponents);n.forEach(e,n.partial(S,"removal_method","rcm")),T.bi.reportBI(C.events.editor.component_removed,e),T.closeRightClickMenu(function(){T.history.add("removed component via rightClickMenu"),T.selectedComponent.remove()})},toggleShowOnAllPages:function(){T.components.toggleShowOnAllPages(this.props.selectedComponents),T.documentServices.waitForChangesApplied(function(){var e=T.components.isShowOnAllPages(this.props.selectedComponents);T.bi.event(C.events.rightClickMenu.SHOW_ON_ALL_PAGES,{new_status:e,origin:"rcm"})}.bind(this))},toggleFixedPosition:function(){T.selectedComponent.toggleFixedPosition(),T.documentServices.waitForChangesApplied(function(){var e=T.components.is.fixed(this.props.selectedComponents),t=T.components.getType(this.props.selectedComponents[0]);T.bi.event(C.events.rightClickMenu.FIXED_POSITION,{origin:"rcm",new_status:e,component:t})}.bind(this))},handlePinClick:function(){T.closeRightClickMenu();var e=T.components.layout.isPinned(this.props.selectedComponents);T.pinMode.open(e?"rcm_reopen":"rcm")},moveForward:function(){T.components.arrangement.moveForward(this.props.selectedComponents),E.call(this,this.props.selectedComponents),T.bi.event(C.events.rightClickMenu.MOVE_FORWARD,{origin:"rcm"})},moveBackward:function(){T.components.arrangement.moveBackward(this.props.selectedComponents),E.call(this,this.props.selectedComponents),T.bi.event(C.events.rightClickMenu.MOVE_BACKWARDS,{origin:"rcm"})},moveToFront:function(){T.components.arrangement.moveToFront(this.props.selectedComponents),E.call(this,this.props.selectedComponents),T.bi.event(C.events.rightClickMenu.BRING_TO_FRONT,{origin:"rcm"})},moveToBack:function(){T.components.arrangement.moveToBack(this.props.selectedComponents),E.call(this,this.props.selectedComponents),T.history.add("component - move to back"),T.bi.event(C.events.rightClickMenu.SEND_TO_BACK,{origin:"rcm"})},onArrangeHover:function(){T.bi.event(C.events.rightClickMenu.ARRANGE_HOVER,{origin:"rcm"})},onOverlappingItemClick:function(e){T.selection.selectComponentByCompRef(e.component),T.selection.setIsHiddenComponentDraggedNext(!0),T.bi.event(C.events.rightClickMenu.OVERLAPPING_ITEM_CLICK,{component:g(e.component,this.props.selectedComponents)?"selected":"other"})},componentInspectorFinder:function(){T.panelManager.openComponentPanel("debugTools.componentInspector.finderPanel",{comp:this.props.selectedComponents[0]}),T.closeRightClickMenu()},getDebugItems:function(e){var t=T.components.serialize(e);return h(e.id,t,["structure"])},getExportDebugInfoItem:function(e){return{label:"Export ["+e.id+"] to console",enabled:!0}},exportDebugInfo:function(e){var t=T.components.serialize(e,null,!1,!0);window.selectedComp=n.cloneDeep(t),u.log.info("Exported ["+e.id+"] to window.selectedComp"),T.closeRightClickMenu()},controllerInspector:function(){u.log.info("Opening controller panel"),T.panelManager.openComponentPanel("debugTools.platform.controllerInspectorPanel",{comp:this.props.selectedComponents[0]}),T.closeRightClickMenu()},connectionsInspector:function(){u.log.info("Opening connections panel"),T.panelManager.openComponentPanel("debugTools.platform.connectionsInspectorPanel",{comp:this.props.selectedComponents[0]}),T.closeRightClickMenu()},isSingleController:function(){return 1===this.props.selectedComponents.length&&"platform.components.AppController"===this.getEditorAPI().components.getType(this.props.selectedComponents[0])},isSingleNonController:function(){return 1===this.props.selectedComponents.length&&"platform.components.AppController"!==this.getEditorAPI().components.getType(this.props.selectedComponents[0])},selectControllerConnectedComponents:function(){var e=this.props.selectedComponents[0];require(["debugTools"],function(t){t.platform.utils.selectControllerConnectedComponents(T,e)}),T.closeRightClickMenu()},openAddController:function(){T.panelManager.openPanel("debugTools.platform.addControllerPanel",{}),T.closeRightClickMenu()},getApplyToInfoItem:function(){return{label:"RightClick_Menu_Copy_Design_Label",enabled:!0}},openApplyToDialog:function(e){T.bi.event(a.bi.events.applyStyle.COPY_STYLE_RCM_CLICK,{component_id:e.id,component_type:T.components.getType(e)}),T.styles.openApplyStylePanel(e)},openLayoutTractor:function(){T.openLayoutTractor(),T.closeRightClickMenu()},applyToAllModes:function(){T.components.modes.applyCurrentToAllModes(T.selection.getSelectedComponents()),T.closeRightClickMenu()},getCustomActions:function(){var e=s[T.components.getType(this.props.selectedComponents)]||[];return n.isFunction(e)?e(this.getEditorAPI()):e},saveStyleToTheme:function(e,t){var o=T.documentServices.theme.styles.get(t),i=T.documentServices.theme.styles.get(T.components.style.getId(e)),a=n.assign(i,n.pick(o,["id","type","styleType"]));T.theme.styles.update(t,a),T.components.style.setId(e,t)},openPropertiesPanel:function(){T.developerToolBar.isEnabled()||T.developerToolBar.toggle(),T.closeRightClickMenu()},isShowOnAllPagesToggleDisabled:function(){return!this.props.selectedComponents||(!T.components.canToggleShowOnAllPages(this.props.selectedComponents)||T.components.shouldDisableShowOnAllPages(this.props.selectedComponents))},render:function(){var t=p;return c.isOpen("us_groupRightClick")&&(t=d),c.isMultiValueExperimentOpen("editorHintsConfigs")?e.createElement(m.hintsNotify,{id:m.hintsContainers.RIGHT_CLICK_PANEL},t.call(this)):t.call(this)},getEditItems:function(){return{cut:this.state.menuItems.cut,copy:this.state.menuItems.copy,styleCanBeApplied:this.state.menuItems.styleCanBeApplied,paste:this.state.menuItems.paste,duplicate:this.state.menuItems.duplicate,enabled:!0}},isPageSelected:function(){return"mobile.core.components.Page"===this.compType},deletePage:function(){var e=this.getEditorAPI().documentServices.pages.getFocusedPageId();this.getEditorAPI().documentServices.waitForChangesApplied(T.pages.remove(e,function(){}))},shouldPresentHideOverDelete:function(){return T.isMobileEditor()&&n.some(this.props.selectedComponents,T.components.is.hiddenable)}})}),define("rEditor/rootComps/panels/openedPanels.rt",["react","lodash","core","uiAnimations","panels"],function(e,t,o,n,i){return function(){function a(n,i){return e.createElement(o.lazyComponent,t.assign({},{moduleName:n.name,key:n.name,onLoad:this.forceUpdate.bind(this)},this.getPanelProps(n)))}return e.createElement("div",{className:"opened-panels"},e.createElement.apply(this,[n.panelsAnimation,{},this.props.withHelpPanel&&this.props.helpPanelProps?e.createElement(i.frames.helpPanelFrame,t.assign({},{key:"helpPanel",isMobileEditor:this.props.isMobileEditor},this.props.helpPanelProps)):null,t.map(this.props.openPanels,a.bind(this))]))}}),define("rEditor/rootComps/panels/openedPanels",["create-react-class","prop-types","core","lodash","rEditor/rootComps/panels/openedPanels.rt"],function(e,t,o,n,i){function a(e){var t=e.key;return o.lazyComponent.isLoaded(e.name)&&(t+="-loading"),t}return e({displayName:"openedPanels",propTypes:{isMobileEditor:t.bool,openPanels:t.array,withHelpPanel:t.bool,helpPanelProps:t.object,selectedComponents:t.array},getDefaultProps:function(){return{withHelpPanel:!0}},getPanelProps:function(e){return n.assign({},e.props,{selectedComponents:this.props.selectedComponents,key:a(e.props)})},render:i})}),define("rEditor/rootComps/portal/portal.rt",["react","lodash"],function(e,t){return function(){return e.createElement("div",{id:"portal"},this.getChildren())}}),define("rEditor/rootComps/portal/portal",["react","create-react-class","prop-types","lodash","rEditor/rootComps/portal/portal.rt"],function(e,t,o,n,i){function a(t,o){return n.map(t,function(t){return e.createElement(t.reactClass,n.assign(t.props,{origin:o}))})}return t({displayName:"Portal (AKA Comps Day-Care)",propTypes:{comps:o.object},getChildren:function(){return n.reduce(this.props.comps,function(e,t,o){return e.concat(a(t,o))},[])},render:i})}),define("rEditor/rootComps/gfpp/gfppButton.rt",["react","lodash","baseUI"],function(e,t,o){return function(){function t(){var t=this.translateIfNeeded;return e.createElement("li",{className:"gfpp-btn "+this.props.className,onClick:this.onClick},this.props.icon?e.createElement(o.symbol,{key:"gfppButtonIcon",name:this.props.icon}):null,this.props.label?e.createElement("span",{key:"gfppButtonLabel",className:"gfpp-label"},t(this.props.label)):null)}return e.createElement(o.tooltip,{value:this.props.tooltip,styleType:"small",disabled:!this.props.tooltip,shouldTranslate:this.props.shouldTranslate},t.apply(this,[]))}}),define("rEditor/rootComps/gfpp/gfppButton",["create-react-class","prop-types","lodash","core","util","rEditor/rootComps/gfpp/gfppButton.rt"],function(e,t,o,n,i,a){return e({displayName:"GFPP Button",propTypes:{selectedComponent:t.arrayOf(t.object).isRequired},mixins:[n.mixins.editorAPIMixin],translateIfNeeded:function(e){return o.isBoolean(this.props.shouldTranslate)&&!this.props.shouldTranslate?e:i.translate(e)},onClick:function(){if(!this.props.isDisabled){var e=this.getEditorAPI(),t=this.props.selectedComponent;if(!e.components.is.exist(t))return;var i=(t.length?o.head(t):t).id,a=e.components.getType(t);this.props.onClick(e,t,n.constants.USER_ACTIONS.ORIGIN.GFPP,{title:this.props.title}),e.bi.event(n.bi.events.gfpp.GFPP_BUTTON_CLICK,{action_name:this.props.label||this.props.tooltip,component_id:i,component_type:a,icon:this.props.tooltip,app_Id:this.props.appId})}},render:a})}),define("rEditor/rootComps/gfpp/gfppCustomButton",["react","create-react-class"],function(e,t){return t({displayName:"gfppCustomButton",render:function(){return e.createElement(this.props.template,this.props)}})}),define("rEditor/rootComps/gfpp/gfppButtonGenerator",["react","create-react-class","lodash","rEditor/rootComps/gfpp/gfppButton","rEditor/rootComps/gfpp/gfppCustomButton"],function(e,t,o,n,i){return t({displayName:"gfppButtonGenerator",render:function(){return e.createElement(this.props.template?i:n,o.assign({},this.props))}})}),define("rEditor/rootComps/gfpp/gfpp.rt",["react","lodash","uiAnimations","baseUI","rEditor/rootComps/gfpp/gfppButtonGenerator"],function(e,t,o,n,i){return function(){function n(o,n){return e.createElement(i,t.assign({},{key:o.icon||o.label||o.tooltip,className:t({selected:o.isSelected,disabled:o.isDisabled}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")+" "+o.className},t.omit(this.getButtonProps(o),"className")))}return e.createElement(o.gfppAnimation,{},e.createElement.apply(this,["ul",t.assign({},{id:"gfpp",ref:"gfpp",className:t({gfpp:!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:this.getKey(),onMouseDown:this.stopEventPropagation,onMouseUp:this.stopEventPropagation,onDoubleClick:this.stopEventPropagation,onContextMenu:this.stopEventPropagation,onMouseMove:this.stopEventPropagation,onClick:this.stopEventPropagation},this.getTopLevelProps()),t.map(this.state.mainButtons,n.bind(this))]))}}),define("rEditor/rootComps/gfpp/gfpp",["reactDOM","lodash","create-react-class","prop-types","core","coreUtilsLib","rEditor/rootComps/gfpp/gfppModel","rEditor/rootComps/gfpp/gfpp.rt","experiment"],function(e,t,o,n,i,a,r,s,l){function c(){var e=g.slice(0);return l.isOpen("switchLayoutDesignOrder")&&p(e),e}function p(e){var o=t.indexOf(e,"layout"),n=t.indexOf(e,"design"),i=e[o];e[o]=e[n],e[n]=i}function d(e,o){var n=t.map(o,function(t){return e[t]});return t.compact(n)}function u(e,t){var o=r.getData(e,t),n=o.mainActions||[],i=o.extraActions||[],a=d(o.presetActions,c());return{mainButtons:n.concat(a).concat(i)}}function m(e,o){return function(){var n=t.get(e.selection.getSelectedComponentData(),"appPartName"),a=e.selection.getSelectedComponentType(),r={component:n||a,origin:i.constants.BI.HELP.ORIGIN.GFPP,learn_more:!1};e.panelManager.openHelpCenter(o,null,r)}}var g=["settings","effects","layout","design","customizeDesign","upgrade","crop","filters","animation","link","hide","stretch","stretchForColumns","applyToOtherView","help","connect","pinMode","preview"];return o({displayName:"GFPP",mixins:[i.mixins.editorAPIMixin],propTypes:{selectedComponent:n.arrayOf(n.object).isRequired},getInitialState:function(){return u(this.getEditorAPI(),this.props.selectedComponent)},componentWillMount:function(){this.setComponentPreviewState(this.props.selectedComponent)},componentWillUnmount:function(){this.removeComponentPreviewState(this.props.selectedComponent)},componentWillReceiveProps:function(e){this.setState(u(this.getEditorAPI(),e.selectedComponent)),!t.isEqual(this.props.selectedComponent,e.selectedComponent)&&(this.removeComponentPreviewState(this.props.selectedComponent),this.setComponentPreviewState(e.selectedComponent))},setComponentPreviewState:function(e){if(l.isOpen("se_qab")){var t=this.getEditorAPI(),o=r.getData(t,e);if(o.previewState){var n=o.previewState,i=e[0].id;t.documentMode.setComponentPreviewState(i,n)}}},removeComponentPreviewState:function(e){if(l.isOpen("se_qab")){var t=this.getEditorAPI(),o=e[0].id;t.documentMode.setComponentPreviewState(o,null)}},getTopLevelProps:function(){return t.pick(this.props,["style"])},getButtonProps:function(e){return e.isApplied&&t.assign(e,{label:e.label_active||e.label,icon:e.icon_active||e.icon,tooltip:e.tooltip_active||e.tooltip}),e.helpId&&t.isUndefined(e.onClick)&&(e.onClick=m(this.getEditorAPI(),e.helpId)),e.selectedComponent=this.props.selectedComponent,e},getSize:function(){if(this.refs.gfpp){var o=a.domMeasurements.getBoundingRect(e.findDOMNode(this.refs.gfpp));return t.pick(o,["width","height"])}},stopEventPropagation:function(e){e.stopPropagation()},getKey:function(){return t.head([].concat(this.props.selectedComponent)).id+"_"+t.size([].concat(this.props.selectedComponent))},render:s})}),define("rEditor/rootComps/selectionBox/selectionBoxCommons",["lodash","experiment"],function(e,t){function o(t,o,i){for(var a=e.head(o);a&&!n(i,a);)a=t.components.getContainer(a);return a}function n(t,o){return e.some(t,function(e){return e(o)})}function i(e){return e?"fixed":"absolute"}function a(o,n,a,r){var s=0,l=0;e.size(a)>1&&(l=2*(s=2));var c=n.bounding,p={position:i(o),top:n.bounding.y-r-s,left:n.bounding.x-r-s,width:c.width+l,height:c.height+l};if(t.isOpen("se_editBoxPerformance")){var d="translate3d("+(c.x-r-s)+"px,"+(c.y-r-s)+"px,0)";p.top=0,p.left=0,p.WebkitTransform=d,p.transform=d}return p}return{getPosition:i,getBoundingStyle:a,findFirstContainerMatchingConditions:o}}),define("rEditor/rootComps/selectionBox/focusBoxMapper",[],function(){function e(e,t){return{containerLayout:e.components.layout.getRelativeToScreen(t.focusedContainer),previewPosition:e.getPreviewPosition(),isShowOnFixedPosition:e.components.layout.isShowOnFixedPosition([t.focusedContainer]),focusBoxNavType:e.components.is.focusBoxNavType(t.focusedContainer),modesAvailableInView:e.components.modes.getComponentModesAvailableInView(t.focusedContainer),modes:e.components.modes.getModes(t.focusedContainer),focusBoxNavContent:e.components.is.focusBoxNavContent(t.focusedContainer),activeModeIds:e.components.modes.getComponentActiveModeIds(t.focusedContainer),activateComponentMode:e.components.modes.activateComponentMode,deactivateComponentMode:e.components.modes.deactivateComponentMode,closePanelByName:e.panelManager.closePanelByName,selectComponentByCompRef:e.selection.selectComponentByCompRef,biError:e.documentServices.bi.error,refreshNavControlsSize:e.refreshNavControlsSize}}return e}),define("rEditor/rootComps/selectionBox/controllers/tab.rt",["react","lodash","util"],function(e,t,o){return function(){function n(){this.props.onTabClick(this.props.tab)}return e.createElement("label",{className:"label-controller tab "+this.props.tabClass+" "+t({active:this.props.tab.active}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onClick:n.bind(this)},e.createElement("div",{className:"label"},"\n        ",this.getTabLabel(),"\n    "),e.createElement("div",{className:"action",key:this.props.tabsAnimationText},"\n        ",o.translate(this.props.tabsAnimationText),"\n    "))}}),define("rEditor/rootComps/selectionBox/controllers/tab",["lodash","create-react-class","prop-types","util","rEditor/rootComps/selectionBox/controllers/tab.rt"],function(e,t,o,n,i){return t({displayName:"selectionBoxTab",propTypes:{tab:o.shape({modeId:o.string.isRequired,label:o.string.isRequired,active:o.bool.isRequired}).isRequired,onTabClick:o.func.isRequired,translate:o.bool,tabClass:o.string.isRequired,tabsAnimationText:o.string},getTabLabel:function(){return this.props.translate?n.translate(this.props.tab.label):this.props.tab.label},render:i})}),define("rEditor/rootComps/selectionBox/controllers/tabsController.rt",["react","lodash","rEditor/rootComps/selectionBox/controllers/tab","uiAnimations"],function(e,t,o,n){return function(){function i(t,i){return e.createElement(n.tabIndicationAnimation,{selectors:{label:".label",action:".action"},key:i+"-"+t.id,direction:this.props.isPositionTop?1:-1,immediatePlay:this.state.tabsAnimationStatus[i]},e.createElement(o,{tab:t,tabClass:this.tabIndexClass(i),translate:this.props.translate,onTabClick:this.props.onTabClick,tabsAnimationText:this.state.tabsAnimationText}))}return e.createElement.apply(this,["div",{className:"tabs-controller "+(this.props.className||"")},t.map(this.props.tabs,i.bind(this))])}}),define("rEditor/rootComps/selectionBox/controllers/tabsController",["lodash","create-react-class","prop-types","rEditor/rootComps/selectionBox/controllers/tabsController.rt"],function(e,t,o,n){function i(t){if(!t.tabIndicationState)return{tabsAnimationStatus:e.times(t.tabs.length,e.constant(!1)),tabsAnimationText:""};switch(t.tabIndicationState.indication){case"DELETE":return{tabsAnimationStatus:e.map(t.tabs,"active"),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_DELETED"};case"APPLY":return t.tabIndicationState.activeMode?{tabsAnimationStatus:e.map(t.tabs,"active"),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_APPLIED"}:{tabsAnimationStatus:e(t.tabs).map("active").map(e.negate(e.identity)).value(),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_APPLIED"};case"ADD":return t.tabIndicationState.activeMode?{tabsAnimationStatus:e.map(t.tabs,"active"),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_ATTACHED"}:{tabsAnimationStatus:e.times(t.tabs.length,e.constant(!0)),tabsAnimationText:"HOVER_BOX_NAVBAR_INDICATION_ATTACHED"};default:return{tabsAnimationStatus:e.times(t.tabs.length,e.constant(!1))}}}return t({displayName:"tabsController",propTypes:{tabs:o.arrayOf(o.shape({modeId:o.string,label:o.string.isRequired,active:o.bool.isRequired})).isRequired,translate:o.bool,tabIndicationState:o.shape({indication:o.string.isRequired,activeMode:o.bool}),onTabClick:o.func.isRequired,isPositionTop:o.bool.isRequired},getInitialState:function(){return i(this.props)},componentWillReceiveProps:function(e){this.setState(i(e))},getReversedTabs:function(){return e(this.props.tabs).cloneDeep().reverse()},tabIndexClass:function(e){return 1===this.props.tabs.length?"left-most-tab right-most-tab":e===this.props.tabs.length-1?"right-most-tab":0===e?"left-most-tab":""},render:n})}),define("rEditor/rootComps/selectionBox/controllers/paginationController.rt",["react","lodash"],function(e,t){return function(){return e.createElement("div",{className:"pagination-controller "+(this.props.className||"")},e.createElement("span",{className:"arrow prev-arrow",onClick:this.onPrev}),e.createElement("span",{className:"middle-label",onClick:this.onLabelClick},this.getLabel()),e.createElement("span",{className:"arrow next-arrow",onClick:this.onNext}))}}),define("rEditor/rootComps/selectionBox/controllers/paginationController",["create-react-class","prop-types","lodash","core","util","rEditor/rootComps/selectionBox/controllers/paginationController.rt"],function(e,t,o,n,i,a){return e({displayName:"paginationController",render:a,mixins:[i.translationMixin],propTypes:{label:t.string.isRequired,labelParams:t.object.isRequired,onNext:t.func.isRequired,onPrev:t.func.isRequired,onLabelClick:t.func.isRequired},getLabel:function(){return this.translateTemplate(this.props.label,this.props.labelParams)},onNext:function(){this.props.onNext()},onPrev:function(){this.props.onPrev()},onLabelClick:function(){this.props.onLabelClick()}})}),define("rEditor/rootComps/selectionBox/navControls.rt",["react","lodash","util","baseUI","rEditor/rootComps/selectionBox/controllers/tabsController","rEditor/rootComps/selectionBox/controllers/paginationController"],function(e,t,o,n,i,a){return function(){function o(e,o){var n=t.assign({},e,o);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(n.className=o.className+" "+e.className),n}return e.createElement("div",{onMouseDown:this.stopEventPropagation,onMouseUp:this.stopEventPropagation,onDoubleClick:this.stopEventPropagation,onContextMenu:this.stopEventPropagation,onMouseMove:this.stopEventPropagation,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,style:this.getCalculatedStyle(),className:"nav-controls "+this.getPositionClass()},this.props.navType===n.uiConstants.NAVIGATION_TYPES.TABS?e.createElement(i,o({key:"tabsController",className:this.getPositionClass(),isPositionTop:this.isPositionTop(),tabIndicationState:this.props.tabIndicationState},this.props.content)):null,this.props.navType===n.uiConstants.NAVIGATION_TYPES.PAGINATION?e.createElement(a,o({key:"paginationController",biError:this.props.biError,className:this.getPositionClass()},this.props.content)):null)}}),define("rEditor/rootComps/selectionBox/navControls",["create-react-class","prop-types","lodash","core","baseUI","uiConstants","rEditor/rootComps/selectionBox/navControls.rt"],function(e,t,o,n,i,a,r){return e({displayName:"navControls",propTypes:{navType:t.oneOf(o.values(i.uiConstants.NAVIGATION_TYPES)),content:t.object.isRequired,style:t.object,onMouseEnterControls:t.func,onMouseLeaveControls:t.func},onMouseEnter:function(){o.isFunction(this.props.onMouseEnterControls)&&this.props.onMouseEnterControls()},onMouseLeave:function(){o.isFunction(this.props.onMouseLeaveControls)&&this.props.onMouseLeaveControls()},stopEventPropagation:function(e){e.stopPropagation()},getPositionClass:function(){return this.isPositionTop()?"comp-top":"comp-bottom"},isPositionTop:function(){return o.get(this.props,"style.top")!==a.NAVIGATION_CONTROLS_POS.BOTTOM},getCalculatedStyle:function(){return{marginLeft:this.props.style&&this.props.style.left||0}},render:r})}),define("rEditor/rootComps/selectionBox/focusBox.rt",["react","lodash","rEditor/rootComps/selectionBox/navControls"],function(e,t,o){return function(){function t(){this.getFocusedContainerLayout();var t=this.getNavControlsContent();return e.createElement("div",{className:"focusbox",style:this.getFocusBoxStyle()},e.createElement(o,{ref:"navControls",style:this.props.navControlsStyle,navType:this.getNavType(),content:t,biError:this.props.biError,onMouseEnterControls:this.onMouseEnterControls,onMouseLeaveControls:this.onMouseLeaveControls,tabIndicationState:this.props.tabIndicationState}),e.createElement("div",{className:"focus-frame"}))}return t.apply(this,[])}}),define("rEditor/rootComps/selectionBox/focusBox",["create-react-class","prop-types","reactDOM","lodash","core","baseUI","coreUtilsLib","higherOrderComponents","rEditor/rootComps/selectionBox/selectionBoxCommons","experiment","rEditor/rootComps/selectionBox/focusBoxMapper","rEditor/rootComps/selectionBox/focusBox.rt"],function(e,t,o,n,i,a,r,s,l,c,p,d){function u(e,t){var o;switch(t.type){case"DEFAULT":o="HOVER_BOX_STATE_REGULAR";break;case"HOVER":o="HOVER_BOX_STATE_HOVER";break;case"SCROLL":o="scroll > "+t.params.scrollPos;break;case"WIDTH":o="width > "+t.params.width;break;default:o=t.label||"unknown-mode"}return n.assign({},t,{active:!!e[t.modeId],label:o})}function m(e){var t=["compPanels.dynamicPanels.animationPanel"];n.forEach(t,e)}var g=e({displayName:"focusBox",propTypes:{tabIndicationState:t.object.isRequired,navControlsStyle:t.object.isRequired,isShowOnFixedPosition:t.bool.isRequired,focusedContainer:t.object.isRequired,containerLayout:t.object.isRequired,previewPosition:t.object.isRequired,focusBoxNavType:t.string,modes:t.array.isRequired,focusBoxNavContent:t.object,activeModeIds:t.object.isRequired,activateComponentMode:t.func.isRequired,closePanelByName:t.func.isRequired,selectComponentByCompRef:t.func.isRequired,selectedComponents:t.oneOfType([t.object,t.arrayOf(t.object)]).isRequired,biError:t.func.isRequired,refreshNavControlsSize:t.func.isRequired},getInitialState:function(){return{mouseOverNavControls:!1}},getFocusedContainerLayout:function(){return l.getBoundingStyle(this.props.isShowOnFixedPosition,this.props.containerLayout,[this.props.focusedContainer],0)},getFocusBoxStyle:function(){var e=this.getFocusedContainerLayout();return"fixed"===e.position&&(e.top+=this.props.previewPosition.top,e.left+=this.props.previewPosition.left),e},getNavControlsSize:function(){if(this.refs.navControls){var e=r.domMeasurements.getBoundingRect(o.findDOMNode(this.refs.navControls));return n.pick(e,["width","height"])}return!1},onMouseEnterControls:function(){this.state.mouseOverNavControls||this.setState({mouseOverNavControls:!0})},onMouseLeaveControls:function(){this.state.mouseOverNavControls&&this.setState({mouseOverNavControls:!1})},getNavType:function(){return this.componentHaveModes()?a.uiConstants.NAVIGATION_TYPES.TABS:this.props.focusBoxNavType},getNavControlsContent:function(){return this.componentHaveModes()?this.getModesTabsContent():this.props.focusBoxNavContent},getModesTabsContent:function(){return{tabs:this.createModeTabs(),translate:!0,onTabClick:function(e){return this.handleTabClick(e)}.bind(this)}},createModeTabs:function(){return n.map(this.props.modesAvailableInView,n.partial(u,this.props.activeModeIds))},handleTabClick:function(e){if(this.props.activeModeIds[e.modeId])this.props.selectComponentByCompRef(this.props.focusedContainer),c.isOpen("applicativeModes")&&this.props.deactivateComponentMode(this.props.focusedContainer,e.modeId);else{this.props.activateComponentMode(this.props.focusedContainer,e.modeId);var t=n.head(n.filter(this.props.modes,{type:"DEFAULT"}));t&&t.modeId===e.modeId&&m(this.props.closePanelByName)}},componentHaveModes:function(){return!n.isEmpty(this.props.modes)},componentDidUpdate:function(){this.props.refreshNavControlsSize(this.getNavControlsSize())},render:d}),f=s.connectEditorAPI(p)(s.renderWhenMutated(g));return f.pure=g,f}),define("rEditor/utils/mouseMoveActions/baseResize",["lodash","core","experiment","constants","util"],function(e,t,o,n,i){function a(e){return H[e]}function r(e){return F[e]}function s(e){return{x:e.pageX,y:e.pageY}}function l(t){var o=M.components.getType(t);return e.has(L,o)}function c(t){var o=M.components.getType(t),n=L[o],i=e.isFunction(n)?n(E):!!n,a=e.pick(F,["topRight","topLeft","bottomRight","bottomLeft"]),r=e.includes(a,_);return(M.getCompRestrictions(E).resizeOnlyProportionally||!T)&&r&&i}function p(){return!M.components.layout.isPinned(E)&&(l(E)?c(E):(T||M.components.is.group(E)||M.multiselect.isMultiselect(E))&&M.components.is.proportionallyResizable(E))}function d(t){return e.has(x,t)}function u(e,t){return x[t](e)}function m(e){var t=s(e),o=a(C),n=M.components.layout.getRelativeToScreen(E),i=M.components.getType(E);O=p(),d(i)&&(n=u(n,i)),S=new D.Resize(n,t,o,O),A=M.components.layout.getProportionStructure(E,o)}function g(e){var t=I.getClosestLayoutDistance(M,e,_);Math.abs(t.x)<5&&(_.right?(p()&&e.height&&(e.height+=t.x),e.width+=t.x):_.left&&(p()&&e.height&&(e.height-=t.x),e.x+=t.x,e.width-=t.x)),Math.abs(t.y)<5&&(_.top?(p()&&e.width&&(e.width-=t.y),e.y+=t.y,e.height-=t.y):_.bottom&&(p()&&e.width&&(e.width+=t.y),e.height+=t.y))}function f(e){if(_.right)e.width-=e.width%5;else if(_.left){var t=e.x%5;e.x-=t,e.width+=t}if(_.top){var o=e.y%5;e.y-=o,e.height+=o}else _.bottom&&(e.height-=e.height%5)}function h(e){var t=I.getSnapData(e,_);M.snapData.set(t)}function b(t,n){E=(M=t).multiselect.getComponentsWhichDontHaveAncestorsInTheArray(n.comps);var i=e.map(E,"id");M.renderPlugins.setCompsToShowOnTop(i),T=n.evt.shiftKey,o.isOpen("se_unpackTextReportOnTextHeightChange")&&(w=n.evt.clientY),C=n.directionName,I=new R(M,n.comps),_=r(n.directionName),B=e.map(E,function(e){return new k(M,e)}),e.forEach(B,function(e){e.highlightDragConstraints()}),m(n.evt),o.isOpen("se_continuous_actions")&&(O?M.components.layout.continuousUpdateAndPreserveProportions.start():M.components.layout.continuousUpdate.start())}function y(e){var n=s(e),i=e.altKey;if(T!==e.shiftKey){T=e.shiftKey;var a=O;m(e),a!==O&&o.isOpen("se_continuous_actions")&&(O?(M.components.layout.continuousUpdate.end(),M.components.layout.continuousUpdateAndPreserveProportions.start()):(M.components.layout.continuousUpdateAndPreserveProportions.end(),M.components.layout.continuousUpdate.start()))}var r=S.getLayout(n);M.getViewTools().snapToEnabled&&0===r.rotationInDegrees&&g(r);var l=M.components.layout.getRelativeToScreen(E);r=t.utils.updateLayoutUtil.getLayoutRelativeToScreenAfterConstraints(M,E[0],r,l),o.isOpen("se_continuous_actions")?O?M.components.layout.continuousUpdateAndPreserveProportions.on(E,r,A):M.components.layout.continuousUpdate.on(E,r,!0):O?M.components.layout.updateRelativeToScreenAndPreserveProportions(E,r,A):M.components.layout.updateRelativeToScreen(E,r,!0),M.documentServices.waitForChangesApplied(function(){if(I){var e=M.components.layout.getRelativeToScreen(E);i?f(e):M.getViewTools().snapToEnabled&&0===e.rotationInDegrees&&h(e)}})}function P(e){if(e&&"wysiwyg.viewer.components.WRichText"===M.components.getType(E)&&"bottom"===C){var o="increase";e.clientY<w?o="decrease":e.clientY===w&&(o="no change"),w=null,M.bi.event(t.bi.events.editBox.TEXT_COMPONENT_RESIZE,{value:o})}}function v(t){if(o.isOpen("se_unpackTextReportOnTextHeightChange")&&P(t),I=null,o.isOpen("se_continuous_actions")&&(O?M.components.layout.continuousUpdateAndPreserveProportions.end():M.components.layout.continuousUpdate.end()),M.snapData.clear(),M.renderPlugins.setCompsToShowOnTop(null),M.history.add("Resize component"),e.forEach(B,function(e){e.removeHighlightDragConstraints()}),B=[],M.components.layout.isPinned(E)){var n=M.components.layout.getDock(E),a=i.pinModeUtils.getDockedDirection(n),r=M.components.layout.get(E);i.pinModeUtils.checkSizeRestrictions(a,r)&&M.panelHelpers.openPinModeSizeRestrictionPanel({state:"on resize",title:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Title",content:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Message"})}}var E,S,T,C,I,_,O,M,A,w,R=t.utils.SnapToHandler,D=t.utils.layoutTransitionsUtil,k=t.utils.DragConstraintsHandler,B=[],N=["fill","fitWidth"],L={"wysiwyg.viewer.components.WPhoto":function(t){var o=M.components.properties.get(t);return e.includes(N,o.displayMode)},"wysiwyg.viewer.components.SiteButton":!0,"wysiwyg.viewer.components.inputs.Checkbox":!0,"wysiwyg.common.components.imagebutton.viewer.ImageButton":!0,"wysiwyg.viewer.components.ClipArt":!0,"wysiwyg.viewer.components.svgshape.SvgShape":!0,"wysiwyg.viewer.components.MatrixGallery":!0,"tpa.viewer.components.Thumbnails":!0,"wysiwyg.viewer.components.PaginatedGridGallery":!0,"wysiwyg.viewer.components.SlideShowGallery":!0,"wysiwyg.viewer.components.Video":!0,"wysiwyg.viewer.components.mobile.TinyMenu":!0,"wysiwyg.viewer.components.inputs.RadioButton":!0,"wysiwyg.viewer.components.MediaPlayer":!0,"wysiwyg.viewer.components.MediaOverlayControls":!0,"wysiwyg.viewer.components.WRichText":!1},x={"wysiwyg.viewer.components.PopupContainer":function(t){var o=M.components.properties.get(E);return e.assign({},t,{symmetry:{horizontal:"center"===o.horizontalAlignment,vertical:"center"===o.verticalAlignment}})}},F={right:{right:!0},left:{left:!0},top:{top:!0},bottom:{bottom:!0},topRight:{top:!0,right:!0},topLeft:{top:!0,left:!0},bottomRight:{bottom:!0,right:!0},bottomLeft:{bottom:!0,left:!0}},H={right:{x:1,y:0},left:{x:-1,y:0},top:{x:0,y:-1},bottom:{x:0,y:1},topRight:{x:1,y:-1},topLeft:{x:-1,y:-1},bottomRight:{x:1,y:1},bottomLeft:{x:-1,y:1}};return{start:b,on:y,end:v,type:n.MOUSE_ACTION_TYPES.RESIZE}}),define("rEditor/utils/mouseMoveActions/pageResize",["lodash","core","constants"],function(e,t,o){function n(e){return{x:e.pageX,y:e.pageY}}function i(e,t){var o=(p=e).documentServices.pages.getPrimaryPageId();d=n(t.evt),g=p.documentServices.pages.getReference(o),h=p.pages.getPageBottomByComponents(g.id),u=p.components.layout.get(g).height}function a(t){var o=n(t).y-d.y;m=Math.max(c(o),h),p.pages.properties.update(g,{minHeight:m}),f=!e.isEqual(m,u)}function r(){p.pages.properties.update(g,{minHeight:null}),l()}function s(){f&&(l(),p.bi.event(t.bi.events.pageResize.PAGE_MIN_HEIGHT_RESIZE,{yCoordinate_new:m,yCoordinate_old:u}),f=!1)}function l(){p.history.add("Resize page")}function c(e){var t=u+e,n=p.isMobileEditor()?o.CONSTRAINS.PAGE_MIN_HEIGHT.MOBILE:o.CONSTRAINS.PAGE_MIN_HEIGHT.DESKTOP;return Math.max(t,n)}var p,d,u,m,g,f,h;return{start:i,on:a,end:s,reset:r,type:o.MOUSE_ACTION_TYPES.RESIZE_PAGE}}),define("rEditor/utils/mouseMoveActions/baseResizeAndPush",["lodash","core","experiment","constants"],function(e,t,o,n){function i(e){var t=u.fitMouseCoordinatesToViewer(c,e);return{x:t.pageX,y:t.pageY}}function a(t,n){c=t,l=n.comps,c.selection.setIsMouseUpSelectionEnabled(!1);var a=e.map(l,"id");c.renderPlugins.setCompsToShowOnTop(a),o.isOpen("se_continuous_actions")&&c.components.layout.continuousUpdateAndAdjustLayout.start();var r=i(n.evt),s=c.components.layout.getRelativeToScreen(l);p=new d.Resize(s,r,{x:0,y:1},!1)}function r(t){var n=i(t),a=p.getLayout(n),r=c.components.layout.getMinDimensions(l);a.bounding=c.utils.getBoundingLayout(a),a.height>=r.height&&(o.isOpen("se_continuous_actions")?c.components.layout.continuousUpdateAndAdjustLayout.on(l,e.pick(a,["height","width"]),!0):c.components.layout.updateRelativeToScreenAndAdjustLayout(l,e.pick(a,["height","width"]),!0))}function s(){o.isOpen("se_continuous_actions")&&c.components.layout.continuousUpdateAndAdjustLayout.end(),c.renderPlugins.setCompsToShowOnTop(null),c.history.add("Resize component")}var l,c,p,d=t.utils.layoutTransitionsUtil,u=t.utils.mouseCoordinatesHandler;return{start:a,on:r,end:s,type:n.MOUSE_ACTION_TYPES.RESIZE_PUSH}}),define("rEditor/utils/mouseMoveActions/baseRotate",["lodash","core","constants"],function(e,t,o){function n(e){i(e),u.components.layout.updateRelativeToScreen(d,e,!0)}function i(e){e.rotationInDegrees<0&&(e.rotationInDegrees+=360);var t=e.rotationInDegrees%b;t<=h?e.rotationInDegrees-=t:t>=b-h&&(e.rotationInDegrees+=b-t)}function a(e){var t=Math.floor(c<0?c+360:c),o=Math.floor(e.rotationInDegrees<0?e.rotationInDegrees+360:e.rotationInDegrees)-t,n=Math.floor(o/y);e.rotationInDegrees=c+n*y,u.components.layout.updateRelativeToScreen(d,e,!0)}function r(t,o){d=o.comps,(u=t).selection.setIsMouseUpSelectionEnabled(!1);var n=e.map(d,"id");u.renderPlugins.setCompsToShowOnTop(n);var i=u.components.layout.getRelativeToScreen(d),a=u.getPreviewPosition(),r=e.defaults({y:i.y+a.top,x:i.x+a.left},i),s=g.fitMouseCoordinatesToViewer(u,o.evt),l={x:s.pageX,y:s.pageY};p=new m.Rotate(i,l,r)}function s(e){var t=g.fitMouseCoordinatesToViewer(u,e),o={x:t.pageX,y:t.pageY},i=p.getLayout(o);e.shiftKey?(f||(c=u.components.layout.getRelativeToScreen(d).rotationInDegrees),a(i)):n(i),f=e.shiftKey}function l(){u.documentServices.waitForChangesApplied(function(){var e=u.components.layout.get(d).rotationInDegrees;u.bi.event(t.bi.events.editBox.ROTATE_COMPONENT,{value:parseInt(e,10),origin:"editBox"})}),u.renderPlugins.setCompsToShowOnTop(null),u.history.add("Rotate component")}var c,p,d,u,m=t.utils.layoutTransitionsUtil,g=t.utils.mouseCoordinatesHandler,f=!1,h=3,b=90,y=15;return{start:r,on:s,end:l,type:o.MOUSE_ACTION_TYPES.ROTATE}}),define("rEditor/utils/mouseMoveActions/baseDragAndPush",["lodash","core","experiment","constants"],function(e,t,o,n){function i(e,t){var o=t.x+t.width<=e.x,n=t.x>=e.x+e.width;return!(o||n)&&t.y+t.height<=e.y}function a(t){var o=u.components.getSiblings(d),n=e(o).map(function(e){return u.components.layout.getRelativeToScreen(e)}).filter(function(e){return i(t,e)}).value();if(0===n.length)return 0;var a=e.maxBy(n,function(e){return e.y+e.height});return a.y+a.height}function r(e){var t=u.components.getContainer(d),o=u.components.layout.getRelativeToScreen(t),n=a(e);return Math.max(n,o.y)}function s(t,n){u=t,d=n.comps,g=n.onDragAndPushEnd;var i=e.map(d,"id");u.renderPlugins.setCompsToShowOnTop(i),o.isOpen("se_continuous_actions")&&u.components.layout.continuousUpdateAndAdjustLayout.start();var a=e.omit(u.components.layout.getRelativeToScreen(d),"bounding"),s=e.map(d,function(t){return e.omit(u.components.layout.getRelativeToScreen(t),"bounding")});b=r(a);var l=h.fitMouseCoordinatesToViewer(u,n.evt),c={x:l.pageX,y:l.pageY};p=new f.Drag(a,c,s)}function l(t){var n=h.fitMouseCoordinatesToViewer(u,t),i={x:n.pageX,y:n.pageY},a=p.getLayout(i);a.y=Math.max(a.y,b),m=p.getBoundComponentLayouts(a);for(var r=0;r<d.length;r++)o.isOpen("se_continuous_actions")?u.components.layout.continuousUpdateAndAdjustLayout.on(d[r],e.pick(m[r],"y")):u.components.layout.updateRelativeToScreenAndAdjustLayout(d[r],e.pick(m[r],"y"))}function c(){if(o.isOpen("se_continuous_actions"))u.components.layout.continuousUpdateAndAdjustLayout.end();else if(m){for(var t=0;t<d.length;t++)u.components.layout.updateRelativeToScreen(d[t],e.pick(m[t],"y"));m=null}u.documentServices.waitForChangesApplied(function(){u.renderPlugins.setCompsToShowOnTop(null)}),e.isFunction(g)&&g()}var p,d,u,m,g,f=t.utils.layoutTransitionsUtil,h=t.utils.mouseCoordinatesHandler,b=0;return{start:s,on:l,end:c,type:n.MOUSE_ACTION_TYPES.DRAG_PUSH}}),define("rEditor/rootComps/selectionBox/applyModeFromClipboardSuggestion.rt",["react","lodash","util","symbols","uiConstants"],function(e,t,o,n,i){return function(){return e.createElement("div",{className:"quick-tip",onMouseDown:this.onMouseDown,style:{padding:"6px"}},e.createElement("div",{className:"close-quick-tip",onClick:this.close},e.createElement("span",{},e.createElement(n.symbol,{name:"bubble-close"}))),e.createElement("div",{className:"quick-tip-image"},e.createElement(n.symbol,{name:"idea-bulb"})),e.createElement("div",{className:"text-container",style:{textAlign:"left"}},e.createElement("div",{className:"text"},"\n            ",o.translate(this.props.text),"\n        "),e.createElement("div",{className:"text link-action",onClick:this.onLinkClick},"\n\n            ",o.translate(this.props.linkActionText),"\n        ")))}}),define("rEditor/rootComps/selectionBox/applyModeFromClipboardSuggestion",["create-react-class","prop-types","core","rEditor/rootComps/selectionBox/applyModeFromClipboardSuggestion.rt"],function(e,t,o,n){return e({displayName:"applyModeFromClipboardSuggestion",mixins:[o.mixins.editorAPIMixin],propTypes:{text:t.string.isRequired,linkActionText:t.string.isRequired},componentWillUnmount:function(){this.getEditorAPI().copyPaste.hideApplyModeFromClipboardSuggestion()},close:function(){this.getEditorAPI().copyPaste.hideApplyModeFromClipboardSuggestion()},onMouseDown:function(e){e.stopPropagation()},onLinkClick:function(e){e.preventDefault(),this.getEditorAPI().copyPaste.removePastedComponentAndApplyModeFromClipboard()},render:n})}),define("rEditor/utils/mouseMoveActions/baseDoubleClick",["lodash","core","gfppData"],function(e,t,o){function n(n,i){var a=n.components.getType(i.comp),r=n.pluginService.getPlugin(n.pluginService.pluginConstants.DOUBLE_CLICK,a);if(e.isFunction(r))r(n,i);else{var s=o.getComponentMainActionClick(n,i.comp);e.isFunction(s)&&s(n,i.comp,t.constants.USER_ACTIONS.ORIGIN.DOUBLE_CLICK)}}return{doubleClick:n}}),define("rEditor/rootComps/selectionBox/editBoxMapper",["lodash","core","constants","rEditor/utils/mouseMoveActions/baseDoubleClick","util","rEditor/rootComps/selectionBox/selectionBoxCommons"],function(e,t,o,n,i,a){function r(e,t,o){var n=e.components.layout.getRelativeToScreen(t);if(o){var i=e.getPreviewPosition();n.y+=i.top,n.bounding.y+=i.top,n.x+=i.left,n.bounding.x+=i.left}return n}function s(e,t){return t.reduce(function(o,n){var i=t&&e.components.layout.isShowOnFixedPosition(n);return o[n.id]=r(e,n,i),o},{})}function l(e,t){return t.reduce(function(t,o){return t[o.id]=e.components.isShowOnAllPages(o),t},{})}function c(e,t,o,n,i){var r=!o&&n?a.findFirstContainerMatchingConditions(e,t,[e.components.is.group]):null;if(!r)return null;var s=e.components.layout.getRelativeToScreen(r);return a.getBoundingStyle(i,s,t,1)}function p(t){var p=t.selection.getSelectedComponents(),d=t.components.layout.isShowOnFixedPosition(p),u=r(t,p,d),m=t.multiselect.isMultiselect(p),g=m?p:t.components.getChildren(p),f=a.getPosition(d),h=t.getComponentType(p),b=e.map(p,function(e){return t.components.getType(e)}),y=t.components.is.page(p),P=t.documentServices.siteSegments.getPagesContainer(),v=t.getCompRestrictions(y?P:p),E=t.components.data.get(e.head(p)),S=t.components.is.groupedComponent(p),T=a.getBoundingStyle(d,u,p,1);return{comps:p,compType:h,compTypes:b,position:f,layout:u,subComps:g,subCompLayouts:s(t,g),isShowOnAllPages:t.components.isShowOnAllPages(p),isSubCompShowOnAllPages:l(t,g),possibleLayoutActionsMap:v,relativeToStructureLayout:t.components.layout.getRelativeToStructure(p),isHorizontallyStretchedToScreen:t.components.layout.isHorizontallyStretchedToScreen(p),isSameRef:t.utils.isSameRef,registerMouseMoveAction:t.mouseActions.registerMouseMoveAction,biEvent:t.bi.event,componentType:m?"multiselect":h,setIsMouseUpSelectionEnabled:t.selection.setIsMouseUpSelectionEnabled,updateLayout:t.components.layout.update,addToHistory:t.history.add,isGroupedComponent:S,isGroup:t.components.is.group(p),areComponentsOfSamePage:t.multiselect.areComponentsOfSamePage(p),isMultiSelectKeyPressed:t.selection.isMultiSelectKeyPressed,doubleClick:e.partial(n.doubleClick,t),compsWithoutSelectedAncestors:t.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(p),moveToFooter:t.components.moveToFooter,compsData:E,isMultiselect:m,isMobile:t.documentServices.viewMode.get()===t.documentServices.viewMode.VIEW_MODES.MOBILE,isMobileEditor:t.isMobileEditor(),boundingStyle:T,isShowOnFixedPosition:d,isCurrentPageLandingPage:t.isCurrentPageLandingPage(),pagesContainer:P,isPage:y,pagesContainerLayout:t.components.layout.getRelativeToScreen(P),canToggleShowOnAllPages:v.canToggleShowOnAllPages,isEditingText:t.text.isEditingText(),reAddedHiddenElement:t.mobile.hiddenComponents.getReAddedHiddenElement(),dimCompLabels:t.panelManager.getPanelsOfType(o.PANEL_TYPES.COMP).length>0,resizeSidesMap:t.documentServices.components.layout.RESIZE_SIDES,isContainsSiblingsOnly:t.multiselect.containsSiblingsOnly(p),isPinned:t.components.layout.isPinned(p),isDeveloperModeEnabled:t.developerMode.isEnabled(),hideApplyModeFromClipboardSuggestion:t.copyPaste.hideApplyModeFromClipboardSuggestion,removePastedComponentAndApplyModeFromClipboard:t.copyPaste.removePastedComponentAndApplyModeFromClipboard,compNickname:t.components.getNickname(p[0]),compLinkValue:E&&i.link.getLinkValueAsString(t,E.link),groupAncestorStyle:c(t,p,m,S,d),setRotateKnobRect:t.setEditBoxRotateKnobRect}}return p}),define("rEditor/rootComps/selectionBox/groupSelectionFrame.rt",["react","lodash"],function(e,t){return function(){return e.createElement("div",{},this.props.groupAncestorStyle?e.createElement("div",{key:"markContainer",className:t({layout:!0,"secondary-component":!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.props.groupAncestorStyle}):null)}}),define("rEditor/rootComps/selectionBox/groupSelectionFrame",["create-react-class","prop-types","lodash","core","rEditor/rootComps/selectionBox/groupSelectionFrame.rt"],function(e,t,o,n,i){return e({displayName:"groupSelectionFrame",PropTypes:{selectedComponents:t.oneOfType([t.object,t.arrayOf(t.object)]).isRequired,groupAncestorStyle:t.object},render:i})}),define("rEditor/rootComps/selectionBox/componentLabels.rt",["react","lodash","baseUI","util"],function(e,t,o,n){return function(){return e.createElement("span",{className:t(this.getContainerClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.props.labelInlineStyles},this.props.isPinnedToPage?e.createElement("span",{key:"pinModeIndicator",className:t(this.getPinSymbolContainerClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(o.symbol,{name:"pinModeIndicator",className:"symbol-pinModeIndicator"})):null,this.props.showComponentType&&this.props.componentType?e.createElement("span",{key:"componentTypeLabel",className:t(this.getComponentTypeLabelClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},this.props.componentType):null,this.props.showComponentNickname&&this.props.componentNickname?e.createElement(o.tooltip,{value:"PLATFORM_CONNECTED_ELEMENT_SETTINGS_TOOLTIP",styleType:"normal",alignment:o.uiConstants.TOOLTIP.ALIGNMENT.TOP,key:"componentNicknameLabel",disabled:!this.props.isConnected,shouldTranslate:!0},e.createElement("span",{className:t(this.getComponentNicknameClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")}," ",this.props.componentNickname)):null,this.props.infoText&&this.props.shouldShowConnectionIndication?e.createElement(o.infoIcon,{key:"infoIcon",className:"label-info-icon-container",text:this.props.infoText,symbolName:"connectedInfoIcon"}):null)}}),define("rEditor/rootComps/selectionBox/componentLabels",["lodash","create-react-class","prop-types","rEditor/rootComps/selectionBox/componentLabels.rt"],function(e,t,o,n){return t({displayName:"componentLabels",propTypes:{showComponentType:o.bool,showComponentNickname:o.bool,shouldShowConnectionIndication:o.bool,isLabelLarge:o.bool,isLabelBelowLine:o.bool,showOnAllPages:o.bool,isPinnedToPage:o.bool,componentType:o.string,componentNickname:o.string,labelInlineStyles:o.object,isDimmed:o.bool},getContainerClasses:function(){return{"component-labels":!0,"label-small":!this.props.isLabelLarge,"label-large":this.props.isLabelLarge,"label-above-line":!this.props.isLabelBelowLine,dimmed:this.props.isDimmed}},getComponentTypeLabelClasses:function(){return{"label-comp-type":!0,"show-on-all-pages":this.props.showOnAllPages}},getComponentNicknameClasses:function(){return{"label-comp-nickname":!0,"show-on-all-pages":this.props.showOnAllPages}},getPinSymbolContainerClasses:function(){return{"symbol-container":!0,"connected-comp":this.props.showComponentNickname&&this.props.isConnected,"show-on-all-pages":this.props.showOnAllPages&&!this.props.isConnected}},render:n})}),define("rEditor/rootComps/selectionBox/editBox.rt",["react","lodash","core","baseUI","baseUILib","util","rEditor/rootComps/selectionBox/groupSelectionFrame","rEditor/rootComps/selectionBox/componentLabels","experiment"],function(e,t,o,n,i,a,r,s,l){return function(){function c(o,n,i,a,r,s){return e.createElement("div",{className:t({layout:!0,"secondary-component":i,"show-on-all-pages":this.props.isSubCompShowOnAllPages[r.id]}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:s,style:this.getLayoutStyle(this.props.subCompLayouts[r.id])})}function p(t,o,n,i){var a=this.getPaddingStyle();return e.createElement("div",{className:"padding-wrapper",key:"paddingWrapper",style:a.wrapper},e.createElement("div",{className:"left-padding",style:a.left},e.createElement("div",{className:"min-indicator-margin",style:{top:this.getMarginLabelTop()}},this.props.possibleLayoutActionsMap.resizable&&this.isHorizontallyStretchedToScreen?e.createElement("span",{className:"indicator resizing",key:"resizeBoundingStyleLeft"},this.getMarginValue("left"),"\n                "):null)),e.createElement("div",{className:"right-padding",style:a.right},e.createElement("div",{className:"min-indicator-margin",style:this.props.layout.x<56?{right:0,position:"absolute",top:this.getMarginLabelTop()}:{top:this.getMarginLabelTop()}},this.props.possibleLayoutActionsMap.resizable&&this.isHorizontallyStretchedToScreen?e.createElement("span",{className:"indicator resizing",key:"resizeBoundingStyleRight"},this.getMarginValue("right"),"\n                "):null)))}function d(e,t,n,i){this.props.biEvent(o.bi.events.pageResize.PAGE_MIN_HEIGHT_TOOLTIP_APPEARED)}function u(){var o=this.getAllowedKnobsMap(),u=this.props.isMultiselect,m=this.props.isGroup,g=a.translate;return e.createElement.apply(this,["div",{className:t(this.getEditBoxClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onContextMenu:this.props.onContextMenu,onDoubleClick:this.onDoubleClick},this.hasSubComponents()?t.map(this.props.subComps,c.bind(this,o,u,m,g)):null,e.createElement(r,{selectedComponents:this.props.comps,groupAncestorStyle:this.props.groupAncestorStyle}),this.shouldShowPadding()?p.apply(this,[o,u,m,g]):null,e.createElement(i.Tooltip,this.getTooltipProps(),e.createElement("div",{className:t({bounding:!0,"show-on-all-pages":this.props.isShowOnAllPages}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.props.boundingStyle},this.shouldShowDragBounding()?e.createElement("span",{className:"indicator dragging",key:"dragBoundingStyle"},"\n                x: ",parseInt(this.props.relativeToStructureLayout.bounding.x,10),", y: ",parseInt(this.props.relativeToStructureLayout.bounding.y,10),"\n            "):null,!this.props.possibleLayoutActionsMap.resizable&&!this.props.possibleLayoutActionsMap.resizeOnlyProportionally||this.isHorizontallyStretchedToScreen?null:e.createElement("span",{className:"indicator resizing",key:"resizeBoundingStyle"},"\n                     W: ",parseInt(this.props.relativeToStructureLayout.bounding.width,10),", H: ",parseInt(this.props.relativeToStructureLayout.bounding.height,10),"\n            "))),e.createElement(n.tooltip,{id:this.getLinkedToTooltipId(this.props.compsData),key:this.getLinkedToTooltipId(this.props.compsData),value:this.getLinkDescriptionFromData(this.props.compsData),alignment:"right",delay:"500",width:"260px",marginsFromElement:9,disabled:!this.shouldShowLinkedToTooltip(),shouldTranslate:!1,openTriggers:[n.uiConstants.TOOLTIP.TRIGGERS.IMMEDIATE,n.uiConstants.TOOLTIP.TRIGGERS.MOUSE_ENTER]},e.createElement("div",{className:t({layout:!0,"secondary-component":u,"show-on-all-pages":this.props.isShowOnAllPages}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:u?this.props.boundingStyle:this.getLayoutStyle(this.props.layout)},l.isOpen("se_platform1")&&this.props.comps&&1===this.props.comps.length?e.createElement(s,{key:"compLabels",shouldShowConnectionIndication:this.shouldShowConnectionIndication(),infoText:"PLATFORM_ONSTAGE_CONNECTED_ELEMENT_LABEL",showComponentNickname:this.props.isDeveloperModeEnabled,showOnAllPages:this.props.isShowOnAllPages,componentNickname:this.getComponentNickname(),labelInlineStyles:this.getComponentLabelsInlineStyles(),isDimmed:this.props.dimCompLabels}):null,!this.isHorizontallyStretchedToScreen&&(o.top&&o.left&&o.diagonalResize||o.resizeOnlyProportionally)?e.createElement("span",{className:this.getResizeHandleCursorClass("TOP_LEFT")+" handle handle-resize-corner top left","data-direction-name":"topLeft",ref:"resizeTopLeft",onMouseDown:this.startResize,key:"resizeTopLeft"}):null,o.top?e.createElement("span",{className:this.getResizeHandleCursorClass("TOP")+" handle handle-resize-side top","data-direction-name":"top",onMouseDown:this.startResize,key:"resizeTopCenter"}):null,!this.isHorizontallyStretchedToScreen&&(o.top&&o.right&&o.diagonalResize||o.resizeOnlyProportionally)?e.createElement("span",{className:this.getResizeHandleCursorClass("TOP_RIGHT")+" handle handle-resize-corner top right","data-direction-name":"topRight",onMouseDown:this.startResize,key:"resizeTopRight"}):null,o.right?e.createElement("span",{className:this.getResizeHandleCursorClass("RIGHT")+" handle handle-resize-side right","data-direction-name":"right",onMouseDown:this.startResize,key:"resizeMiddleRight"}):null,!this.isHorizontallyStretchedToScreen&&(o.bottom&&o.right&&o.diagonalResize||o.resizeOnlyProportionally)?e.createElement("span",{className:this.getResizeHandleCursorClass("BOTTOM_RIGHT")+" handle handle-resize-corner bottom right","data-direction-name":"bottomRight",onMouseDown:this.startResize,key:"resizeBottomRight"}):null,o.bottom?e.createElement("span",{className:this.getResizeHandleCursorClass("BOTTOM")+" handle handle-resize-side bottom","data-direction-name":"bottom",onMouseDown:this.startResize,key:"resizeBottomCenter"}):null,o.bottomPage?e.createElement(n.tooltip,{id:"pageResizeKnobTooltip",key:"pageResizeKnobTooltip",value:"OnStage_PageMinHeightHandle_Tooltip",alignment:"top",delay:"500",openTriggers:[],closeTriggers:[],onOpen:d.bind(this,o,u,m,g)},e.createElement("span",{id:"resize-page",className:t({"footer-handle":"FooterContainer"===this.props.compType}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")+" handle handle-push handle-resize-with-anchors",onMouseDown:this.startPageResize,onDoubleClick:this.resetPageSize,onMouseEnter:this.showPageResizeKnobTooltip,onMouseLeave:this.hidePageResizeKnobTooltip,key:"resizeBottomPage"},e.createElement(n.symbol,{name:"pageResizeHandle"}))):null,!this.isHorizontallyStretchedToScreen&&(o.bottom&&o.left&&o.diagonalResize||o.resizeOnlyProportionally)?e.createElement("span",{className:this.getResizeHandleCursorClass("BOTTOM_LEFT")+" handle handle-resize-corner bottom left","data-direction-name":"bottomLeft",onMouseDown:this.startResize,key:"resizeBottomLeft"}):null,o.left?e.createElement("span",{className:this.getResizeHandleCursorClass("LEFT")+" handle handle-resize-side left","data-direction-name":"left",onMouseDown:this.startResize,key:"resizeMiddleLeft"}):null,o.rotate?e.createElement("span",{className:"handle handle-rotate",onMouseDown:this.startRotate,key:"rotate",ref:"rotate"},e.createElement(n.symbol,{name:"rotate"})):null,o.rotate&&this.isComponentRotated()?e.createElement("span",{className:"handle handle-rotate-cancel",onMouseDown:this.cancelRotation,style:{transform:"rotate("+(360-this.props.layout.rotationInDegrees)+"deg) translate3d(0,0,0)"},key:"cancelRotate",ref:"cancelRotate"},e.createElement(n.symbol,{name:"rotateCancel"})):null,o.dragAndPush&&!this.isComponentRotated()?e.createElement(n.tooltip,{id:"dragWithAnchorsVerticalTooltip",key:"dragWithAnchorsVerticalTooltip",value:"ONSTAGE_DragHandle_Tooltip",alignment:"top",openTriggers:[],closeTriggers:[]},e.createElement("span",{className:"handle handle-push handle-drag-with-anchors",onMouseEnter:this.showDragWithAnchorsKnobTooltip,onMouseLeave:this.hideDragWithAnchorsKnobTooltip,onMouseDown:this.startDragAndPush,key:"dragWithAnchorsVertical"},e.createElement(n.symbol,{name:"pushAndEnforceAnchors"}))):null,!o.resizeAndPush||this.isComponentRotated()||m||o.resizeOnlyProportionally?null:e.createElement(n.tooltip,{id:"resizeWithAnchorsBottomTooltip",key:"resizeWithAnchorsBottomTooltip",value:"OnStage_StretchHandle_Tooltip",alignment:"bottom",openTriggers:[],closeTriggers:[]},e.createElement("span",{className:"handle handle-push handle-resize-with-anchors",onMouseEnter:this.showResizeWithAnchorsKnobTooltip,onMouseLeave:this.hideResizeWithAnchorsKnobTooltip,onMouseDown:this.startResizeAndPush,key:"resizeWithAnchorsBottom"},e.createElement(n.symbol,{name:"resizeAndEnforceAnchors"}))),this.props.possibleLayoutActionsMap.rotatable?e.createElement("span",{className:"indicator",style:{transform:"rotate("+(360-this.props.layout.rotationInDegrees)+"deg) translate3d(0,0,0)"},key:"rotationIndicator"},Math.floor(this.props.layout.rotationInDegrees),"°\n        "):null)),this.canBeMovedToFooter()?e.createElement("span",{className:"move-to-footer",key:"moveToFooter",style:this.getMoveToFooterStyle(),onMouseDown:this.moveToFooter},g("OnStage_MoveToFooter_Button"),"\n\n            ",e.createElement(n.symbol,{name:"moveToFooterArrow"})):null])}return u.apply(this,[])}}),define("rEditor/rootComps/selectionBox/editBox",["react","create-react-class","prop-types","lodash","core","baseUI","experiment","rEditor/utils/mouseMoveActions/baseResize","rEditor/utils/mouseMoveActions/pageResize","rEditor/utils/mouseMoveActions/baseResizeAndPush","rEditor/utils/mouseMoveActions/baseRotate","rEditor/utils/mouseMoveActions/baseDragAndPush","rEditor/rootComps/selectionBox/applyModeFromClipboardSuggestion","util","higherOrderComponents","rEditor/rootComps/selectionBox/editBoxMapper","rEditor/rootComps/selectionBox/editBox.rt"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m,g,f,h){function b(e){return n.some(e,function(e){return n.includes(P,e.id)})}function y(e){return!(!e||!n.isUndefined(e.left.px)&&0!==e.left.px)&&0===e.left.vw}var P=["SITE_HEADER","SITE_FOOTER"],v={px:"px",pct:"%",vw:"%"},E=["TOP_LEFT","TOP","TOP_RIGHT","RIGHT","BOTTOM_RIGHT","BOTTOM","BOTTOM_LEFT","LEFT"],S=["top-left-resize-cursor","top-resize-cursor","top-right-resize-cursor","right-resize-cursor","bottom-right-resize-cursor","bottom-resize-cursor","bottom-left-resize-cursor","left-resize-cursor"],T=t({displayName:"editBox",propTypes:{comps:o.oneOfType([o.object,o.arrayOf(o.object)]).isRequired,focusedContainer:o.object,isPinMode:o.bool,isConnected:o.bool,isDim:o.bool,isResizing:o.bool,isDragging:o.bool,isRotating:o.bool,applyModeFromClipboardSuggestion:o.object,labelsOffset:o.number,layout:o.object,subComps:o.array,subCompLayouts:o.object,isShowOnAllPages:o.bool,isSubCompShowOnAllPages:o.object,possibleLayoutActionsMap:o.object,relativeToStructureLayout:o.object,isHorizontallyStretchedToScreen:o.bool,isSameRef:o.func,registerMouseMoveAction:o.func,biEvent:o.func,componentType:o.string,setIsMouseUpSelectionEnabled:o.func,updateLayout:o.func,addToHistory:o.func,isGroupedComponent:o.bool,isGroup:o.bool,areComponentsOfSamePage:o.bool,compType:o.oneOfType([o.string,o.arrayOf(o.string)]),compTypes:o.array,isMultiSelectKeyPressed:o.func,doubleClick:o.func,compsWithoutSelectedAncestors:o.oneOfType([o.object,o.arrayOf(o.object)]),moveToFooter:o.func,compsData:o.object,isMultiselect:o.bool,isMobile:o.bool,isMobileEditor:o.bool,boundingStyle:o.object,isShowOnFixedPosition:o.bool,isCurrentPageLandingPage:o.bool,pagesContainer:o.object,isPage:o.bool,pagesContainerLayout:o.object,canToggleShowOnAllPages:o.bool,isEditingText:o.bool,reAddedHiddenElement:o.object,dimCompLabels:o.bool,resizeSidesMap:o.object,isContainsSiblingsOnly:o.bool,isPinned:o.bool,isDeveloperModeEnabled:o.bool,hideApplyModeFromClipboardSuggestion:o.func,removePastedComponentAndApplyModeFromClipboard:o.func,compNickname:o.string,compLinkValue:o.string,groupAncestorStyle:o.object,position:o.string,setRotateKnobRect:o.func},getEditBoxClasses:function(){return{"edit-box":!0,"edit-box-for-pin-mode":this.props.isPinMode,"edit-box-dim":this.props.isDim,movable:this.props.possibleLayoutActionsMap.horizontallyMovable||this.props.possibleLayoutActionsMap.verticallyMovable,"show-move-to-footer-button":this.shouldShowMoveToFooterButton,horizontallyStretched:this.isHorizontallyStretchedToScreen,"full-stretched":this.isHorizontallyStretchedToScreen&&y(this.props.layout.docked),dragging:this.props.isDragging,resizing:this.props.isResizing,rotating:this.props.isRotating,"small-width-component":this.props.layout.width<=50,"multi-select":this.props.isMultiselect}},isComponentRotated:function(){return 0!==this.props.layout.rotationInDegrees},getLayoutStyle:function(e){var t="rotate("+e.rotationInDegrees+"deg)",o={position:this.props.position,top:e.y-1,left:e.x-1,width:e.width,height:e.height,transform:t,WebkitTransform:t};if("StripColumnsContainer"===this.props.compType&&(o.boxSizing="border-box",o.height+=1),r.isOpen("se_editBoxPerformance")){var n="translate3d("+(e.x-1)+"px,"+(e.y-1)+"px,0) "+t;o.left=0,o.top=0,o.transform=n,o.WebkitTransform=n}return o},getMoveToFooterStyle:function(e){return{top:(e=e||this.props.layout).bounding.y+e.bounding.height-14,left:e.bounding.x+e.bounding.width/2}},shouldShowPadding:function(){return r.isOpen("se_screenWidthEditBox")&&this.isHorizontallyStretchedToScreen},getPaddingStyle:function(){var e=this.props.isShowOnFixedPosition?"fixed":"absolute";return{wrapper:{top:this.props.layout.y-1,height:this.props.layout.height+2,position:e},left:{top:0,bottom:0,left:0,width:this.props.layout.x},right:{top:0,bottom:0,left:this.props.layout.x+this.props.layout.width,right:0}}},componentWillReceiveProps:function(e){var t=!e.isSameRef(this.props.comps,e.comps);this.props.isResizing||this.props.isRotating||this.props.isPinMode||t?this.shouldShowMoveToFooterButton=!1:this.props.isDragging&&(this.shouldShowMoveToFooterButton=this.getShouldShowMoveToFooterButton(e))},getResizeHandleCursorClass:function(e){var t=n.indexOf(E,e),o=this.props.layout.rotationInDegrees+22.5;o>=360&&(o-=360);var i=t+Math.floor(o/45);return i>=S.length&&(i-=S.length),S[i]},getShouldShowMoveToFooterButton:function(e){if(e.isMobileEditor||e.isCurrentPageLandingPage||e.isShowOnFixedPosition)return!1;var t=e.pagesContainerLayout.y+e.pagesContainerLayout.height-(e.layout.bounding.y+e.layout.bounding.height);return t>=0&&t<=21&&!e.isShowOnAllPages&&e.canToggleShowOnAllPages&&!e.isEditingText},startPageResize:function(e){this.props.registerMouseMoveAction(l,{evt:e,comps:this.props.comps}),this.hidePageResizeKnobTooltip(),e.stopPropagation()},resetPageSize:function(e){l.reset(),this.props.biEvent(i.bi.events.pageResize.PAGE_MIN_HEIGHT_RESET_MIN_HEIGHT),e.stopPropagation()},startResize:function(e){var t=e.target.getAttribute("data-direction-name");this.props.registerMouseMoveAction(s,{evt:e,directionName:t,comps:this.props.comps}),this.props.biEvent(i.bi.events.editBox.RESIZE,{origin:"editBox",handle_value:t,component_type:this.props.componentType}),e.stopPropagation()},startRotate:function(e){this.props.registerMouseMoveAction(p,{evt:e,comps:this.props.comps}),e.stopPropagation()},cancelRotation:function(e){this.props.setIsMouseUpSelectionEnabled(!1),this.props.updateLayout(this.props.comps,{rotationInDegrees:0}),this.props.biEvent(i.bi.events.editBox.CANCEL_ROTATE_COMPONENT),this.props.addToHistory("Rotation canceled"),e.stopPropagation()},canBeMovedToFooter:function(){return!this.props.isGroupedComponent&&this.props.areComponentsOfSamePage},startDragAndPush:function(e){this.props.registerMouseMoveAction(d,{evt:e,comps:this.getCompToDragAndPush()}),this.props.biEvent(i.bi.events.editBox.DRAG_BY_HANDLE,{component_type:this.props.compType}),this.hideKnobTooltip("dragWithAnchorsVerticalTooltip"),e.stopPropagation()},startResizeAndPush:function(e){this.props.registerMouseMoveAction(c,{evt:e,comps:this.props.comps}),this.props.biEvent(i.bi.events.editBox.RESIZE_BY_HANDLE,{component_type:this.props.compType}),this.hideKnobTooltip("resizeWithAnchorsBottomTooltip"),e.stopPropagation()},onDoubleClick:function(e){if(!this.props.isMultiSelectKeyPressed(e)){var t={evt:e,comp:this.props.comps};this.props.doubleClick(t)}},showKnobTooltip:function(e){this.props.isResizing||this.props.isDragging||(this.showTooltipTimeout=window.setTimeout(function(){a.tooltipManager.show(e)},800))},hideKnobTooltip:function(e){this.showTooltipTimeout&&(window.clearTimeout(this.showTooltipTimeout),this.showTooltipTimeout=null),a.tooltipManager.hide(e)},showDragWithAnchorsKnobTooltip:function(){this.showKnobTooltip("dragWithAnchorsVerticalTooltip")},showResizeWithAnchorsKnobTooltip:function(){this.showKnobTooltip("resizeWithAnchorsBottomTooltip")},showPageResizeKnobTooltip:function(){this.showKnobTooltip("pageResizeKnobTooltip")},hidePageResizeKnobTooltip:function(){this.hideKnobTooltip("pageResizeKnobTooltip")},hideDragWithAnchorsKnobTooltip:function(){this.hideKnobTooltip("dragWithAnchorsVerticalTooltip")},hideResizeWithAnchorsKnobTooltip:function(){this.hideKnobTooltip("resizeWithAnchorsBottomTooltip")},moveToFooter:function(e){this.props.moveToFooter(this.props.compsWithoutSelectedAncestors),this.props.biEvent(i.bi.events.editBox.MOVE_TO_FOOTER,{component_type:this.props.compType}),this.shouldShowMoveToFooterButton=!1,e.stopPropagation()},hasSubComponents:function(){return this.props.isGroup||"StripColumnsContainer"===this.props.compType||this.props.isMultiselect},setRotateKnobRect:function(){if(!this.isDuringMouseAction()){var e=this.props.layout.rotationInDegrees?this.refs.cancelRotate&&this.refs.cancelRotate.getBoundingClientRect():this.refs.rotate&&this.refs.rotate.getBoundingClientRect();e&&this.props.setRotateKnobRect(n.omit(e))}},doesAncestorHaveStates:function(){return!!this.getAncestorCompWithStates()},getMarginLabelTop:function(){return this.props.layout.height/2-30},getLinkedToTooltipId:function(e){return e?"linkedTo-"+e.id:"linkedTo"},getLinkDescriptionFromData:function(t){if(!t)return"";var o=m.translate("mobile_link_notification_tooltip"),n=this.props.compLinkValue;return e.createElement(a.popoverTemplates.iconAndText,{text:o+" "+n,icon:"mobileCompWithLink",shouldTranslate:!1})},isDuringMouseAction:function(){return this.props.isDragging||this.props.isResizing||this.props.isRotating},shouldShowLinkedToTooltip:function(){var e=!(!this.props.compsData||!this.props.compsData.link),t=n.get(this.props.reAddedHiddenElement,"addingPhase")!==i.constants.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.PROGRESS.IDLE;return this.props.isMobile&&!this.isDuringMouseAction()&&!this.props.isMultiselect&&e&&!t},getMarginValue:function(e){var t=this.props.layout.docked&&this.props.layout.docked[e].px>=0?"px":"vw";return this.props.layout.docked&&this.props.layout.docked[e][t]+v[t]},getApplyModeFromClipboardSuggestion:function(){var t={text:"HOVER_BOX_PASTE_FROM_CLIPBOARD_MSG_TEXT",linkActionText:"HOVER_BOX_PASTE_FROM_CLIPBOARD_MSG_BUTTON"};return e.createElement(u,t)},shouldShowDragBounding:function(){var e=n.every(this.props.compTypes,function(e){return"platform.components.AppController"===e});return this.props.possibleLayoutActionsMap.movable&&!e},shouldShowConnectionIndication:function(){return this.props.isConnected&&!this.props.isDragging},shouldShowMobileReAddedBubble:function(){if(!r.isOpen("se_animateReAddMobileItem"))return!1;var e=n.get(this.props.reAddedHiddenElement,["compRef","id"]),t=!!e&&n.get(n.head(this.props.comps),"id")===e,o=n.get(this.props.reAddedHiddenElement,"addingPhase")===i.constants.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.PROGRESS.FINISH;return this.props.isMobileEditor&&t&&o},getComponentNickname:function(){return"#"+this.props.compNickname},getComponentLabelsInlineStyles:function(){return{left:this.props.labelsOffset}},getCompToDragAndPush:function(){return this.props.isPage?[this.props.pagesContainer]:this.props.compsWithoutSelectedAncestors},getAllowedKnobsMap:function(){var e=n.some(this.props.compTypes,function(e){return e===i.constants.COMP_TYPES.POPUP_CONTAINER}),t=this.props.resizeSidesMap,o=this.props.possibleLayoutActionsMap,a=n.difference(o.resizeableSides,o.disabledKnobs),r=o.canResizeDiagonally,s=o.canResizeWithAnchors;return{top:n.includes(a,t.TOP)&&!b(this.props.comps),bottom:n.includes(a,t.BOTTOM)&&!b(this.props.comps),left:n.includes(a,t.LEFT),right:n.includes(a,t.RIGHT),diagonalResize:r,dragAndPush:this.props.isContainsSiblingsOnly&&(o.verticallyMovable||o.canMoveUp)&&!this.props.isPinned&&o.anchorableFrom,resizeOnlyProportionally:o.resizeOnlyProportionally,resizeAndPush:!this.props.isMultiselect&&o.verticallyResizable&&!this.props.isPinned&&!e&&s,rotate:o.rotatable&&!this.props.isPinned,bottomPage:this.props.isPage||"FooterContainer"===this.props.compType}},componentDidMount:function(){this.setRotateKnobRect()},componentDidUpdate:function(){this.setRotateKnobRect()},getTooltipProps:function(){if(this.shouldShowMobileReAddedBubble())return{id:"reAddedMobileCompRef",key:"reAddedMobileCompRef",content:"mobile_hidden_items_show_success_tooltip",alignment:"RIGHT",isOpen:!0,openOnMouseEnter:!1,closeOnMouseLeave:!1};if(this.props.applyModeFromClipboardSuggestion){var e=this.props.isSameRef(this.props.comps,this.props.applyModeFromClipboardSuggestion.selectedComponents);return{id:"applyModeFromClipboardSuggestion",key:"applyModeFromClipboardSuggestion",content:this.getApplyModeFromClipboardSuggestion(),onOuterClick:this.props.hideApplyModeFromClipboardSuggestion,maxWidth:320,isOpen:e,alignment:"LEFT"}}return{isOpen:!1,openOnMouseEnter:!1}},render:h}),C=g.connectEditorAPI(f)(g.renderWhenMutated(T));return C.pure=T,C}),define("rEditor/rootComps/compControls/compControls.rt",["react","lodash","rEditor/rootComps/gfpp/gfpp","rEditor/rootComps/selectionBox/focusBox","rEditor/rootComps/selectionBox/editBox","core","experiment"],function(e,t,o,n,i,a,r){return function(){return e.createElement("div",{style:{visibility:1===this.props.siteScale?"visible":"hidden"},onMouseEnter:this.props.clearHoverBox},this.props.panel?e.createElement(a.lazyComponent,t.assign({},{ref:"compPanel",moduleName:this.props.panel.name,key:a.lazyComponent.isLoaded(this.props.panel.name)?this.props.panel.name:"loading",onLoad:this.forceUpdate.bind(this)},this.getPanelProps())):null,this.getColumnsContainer()?e.createElement(a.lazyComponent,t.assign({},{moduleName:"columnsControls",key:"columnsControls"},this.getColumnsControlsProps())):null,this.shouldShowFocusBox()?e.createElement(n,{key:"focusBox-"+this.props.focusedContainer.id,ref:"focusBox",navControlsStyle:this.state.navControlsStyle,focusedContainer:this.props.focusedContainer,selectedComponents:this.props.selectedComponents,tabIndicationState:this.props.tabIndicationState}):null,this.shouldShowAttachFocusBox()?e.createElement(n,{key:"attachFocusBox",navControlsStyle:this.state.attachCandidateNavControlsStyle,focusedContainer:this.props.attachCandidate,selectedComponents:this.props.selectedComponents}):null,this.shouldRenderEditBox()?e.createElement(i,{ref:"editBox",key:"editBox",isDragging:this.props.isDragging,isResizing:this.props.isResizing,isRotating:this.props.isRotating,isPinMode:this.props.isPinMode,isDim:this.isDesignPanelOpen(),isConnected:this.isConnected(),focusedContainer:this.props.focusedContainer,performingMouseMoveAction:this.props.performingMouseMoveAction,onContextMenu:this.props.onContextMenu,applyModeFromClipboardSuggestion:this.props.applyModeFromClipboardSuggestion,labelsOffset:this.state.editBoxLabelsOffset}):null,this.shouldShowGfpp()?e.createElement(o,{key:"gfpp",ref:"gfpp",style:this.state.gfppStyle,selectedComponent:this.props.selectedComponents}):null)}}),define("rEditor/rootComps/compControls/compControls",["reactDOM","create-react-class","prop-types","lodash","core","jquery","uiConstants","experiment","rEditor/rootComps/compControls/compControls.rt"],function(e,t,o,n,i,a,r,s,l){function c(e,t,o){return o=o||0,Math.abs(e-t)<=o}function p(e,t){return Math.ceil(e-t+P)}function d(e,t){return t?{top:p(e.y,t.top),bottom:p(t.bottom,e.y+e.height),left:p(e.x,t.left),right:p(t.right,e.x+e.width)}:v}function u(e){var t=e.documentServices.siteSegments.getPagesContainer();return e.components.layout.getRelativeToScreen(t).x}function m(e,t){var o=!n.isEqual(e.hoveredComp,t.hoveredComp),i=!n.isEqual(e.selectedComponents,t.selectedComponents);return(!t.performingMouseMoveAction||e.performingMouseMoveAction!==t.performingMouseMoveAction)&&(!o||i)}function g(e,t,o,n,a){var s=!t.fixedPosition,l=i.utils.stageUtils.getViewPort(s,o);return a&&(l.y=s?i.utils.scrollUtils.getScroll().scrollTop+r.VIEWPORT_VERTICAL_MARGINS_NAV_CONTROLS:r.VIEWPORT_VERTICAL_MARGINS_NAV_CONTROLS),l||{}}function f(e,t,o,i){var a,r=this.getEditorAPI(),l={id:n.head(this.props.selectedComponents).id,layout:e};if(s.isOpen("se_platform1")){var c=n.head(this.props.selectedComponents),p=c&&r.documentServices.platform.controllers.connections.get(c);l=c?{id:c.id,layout:e,hasLabels:!n.isEmpty(p)}:{}}this.isCompRequiresCustomGfppPos(e,this.props.selectedComponents)&&(a=this.props.lastSelectionClickPos);var d=r.getLeftBarButtonsBoundingRect(),m=this.props.focusedContainer&&this.props.focusedContainer.id!==this.props.selectedComponents[0].id,f=r.getNavControlsSize(),b=this.props.focusedContainer&&this.getBoundingLayoutRelativeToScreen(this.props.focusedContainer),y=this.props.focusedContainer?{id:this.props.focusedContainer.id,layout:b}:null,P={gfppSize:o,viewPort:g(b,e,d,m,f),navControlsSize:f,pageXBoundary:u(r),rotateKnobMargins:i,alignToPageBoundaries:r.documentServices.viewMode.get()===r.documentServices.viewMode.VIEW_MODES.MOBILE};return h.getCompControlsPositions(y,t,l,P,a)}var h=i.utils.compControlsMeasurer,b=["wysiwyg.common.components.anchor.viewer.Anchor"],y=["wysiwyg.viewer.components.WRichText","wysiwyg.viewer.components.HoverBox","wysiwyg.viewer.components.BoxSlideShow","wysiwyg.viewer.components.StripContainerSlideShow",i.constants.COMP_TYPES.POPUP_CONTAINER],P=3,v={top:0,bottom:0,left:0,right:0};return t({displayName:"compControls",mixins:[i.mixins.editorAPIMixin],propTypes:{panel:o.shape({name:o.string,props:o.object}),isDragging:o.bool,isResizing:o.bool,isRotating:o.bool,isSectionDragging:o.bool,selectedComponents:o.arrayOf(o.object).isRequired,focusedContainer:o.object,hoveredComp:o.oneOfType([o.bool,o.object]),clearHoverBox:o.func,performingMouseMoveAction:o.bool,lastSelectionClickPos:o.object,onContextMenu:o.func,previewPosition:o.object.isRequired,attachCandidate:o.object,applyModeFromClipboardSuggestion:o.object},getInitialState:function(){return this.panelReady=!1,this.lastMeasuredPanelHeight=0,this.throttledSetCompsStyle=n.throttle(this.setCompsStyle,50,{leading:!1,trailing:!0}),{gfppStyle:{top:0,left:0,visibility:"hidden",position:"absolute"},compPanelStyle:{top:0,left:0,opacity:0,visibility:"hidden"},navControlsStyle:{top:0,left:0},editBoxLabelsOffset:0,isSelectedComponentConnected:!1}},isCompsStyleSet:function(){return!this.props.panel||"hidden"!==this.state.compPanelStyle.visibility&&!!this.lastMeasuredPanelHeight&&0!==this.state.compPanelStyle.left&&0!==this.state.compPanelStyle.top},shouldShowGfpp:function(){return!this.props.isDragging&&!this.props.isResizing&&!this.props.isRotating},getBoundingLayoutRelativeToScreen:function(e){var t=this.getEditorAPI(),o=t.components.layout.getRelativeToScreen(e);return n.assign(o.bounding,{fixedPosition:t.components.layout.isShowOnFixedPosition(e),rotationInDegrees:o.rotationInDegrees})},getCompControlsStyles:function(e,t,o,i,a){var r=this.getEditorAPI(),s=this.props.panel&&(e||!this.isCompsStyleSet()),l=f.call(this,i,o,t,a);if(l.gfppStyle.visibility="inherit",l.gfppStyle.visibility="inherit",s){if(l.compPanelStyle.top+=this.props.previewPosition.top,n.has(l.compPanelStyle,"left")&&(l.compPanelStyle.left+=this.props.previewPosition.left),!i.fixedPosition){var c=r.ui.scroll.getScroll();l.compPanelStyle.top-=c.scrollTop}n.assign(l.compPanelStyle,this.getPanelStyle())}else l=n.pick(l,["gfppStyle","navControlsStyle","editBoxLabelsOffset"]);return i.fixedPosition?(l.gfppStyle.top+=this.props.previewPosition.top,n.has(l.gfppStyle,"left")&&(l.gfppStyle.left+=this.props.previewPosition.left),l.gfppStyle.position="fixed"):l.gfppStyle.position="absolute",this.props.isPinMode&&(l.gfppStyle.visibility="hidden"),l},getPanelStyle:function(){var e={};return this.panelReady?(e.visibility="inherit",e.opacity=1):(e.visibility="hidden",e.opacity=0),e},isCompRequiresCustomGfppPos:function(e){var t=this.getEditorAPI();if(n.includes(y,t.components.getType(this.props.selectedComponents)))return!1;var o=r.CUSTOM_GFPP_POS.HEIGHT_TO_APPLY;return e.height>=o},getRotateKnobRect:function(){return this.getEditorAPI().getEditBoxRotateKnobRect()},isDesignPanelOpen:function(){var e=this.getEditorAPI().panelManager.getOpenPanels();return!!n.find(e,{name:i.constants.componentPanels.design})},getRotateKnobMargins:function(e){if(!e.rotationInDegrees)return v;var t=this.getRotateKnobRect();if(!t)return v;var o=this.getEditorAPI().ui.scroll.getScroll(),n=o.scrollTop-this.props.previewPosition.top,i=o.scrollLeft-this.props.previewPosition.left;return t={top:t.top+n,bottom:t.bottom+n,left:t.left+i,right:t.right+i},d(e,t)},setCompsStyle:function(t){var o=this.refs.gfpp?this.refs.gfpp.getSize():null;if(this.props.isPinMode&&(o={width:0,height:0}),o){var i=this.refs.compPanel?e.findDOMNode(this.refs.compPanel):null;this.lastMeasuredPanelHeight=i?a(i).height():0;var r=this.getBoundingLayoutRelativeToScreen(this.props.selectedComponents),s=this.getRotateKnobMargins(r),l=this.getCompControlsStyles(t,o,i,r,s);this.lastMeasuredPanelHeight||(l.compPanelStyle={top:0,left:0,opacity:0,visibility:"hidden"});var p=n.pick(this.state,n.keys(l));n.every(l,function(e,t){var o=p[t];return n.every(e,function(e,t){var i=o[t];return n.isFinite(i)&&n.isFinite(e)?c(i,e,2):n.isEqual(i,e)})})||this.setState(l)}},onWindowScroll:function(){this.setCompsStyle()},onWindowResize:function(){this.debouncedSetCompsStyle||(this.debouncedSetCompsStyle=n.debounce(this.setCompsStyle,200)),this.debouncedSetCompsStyle(!0)},shouldShowFocusBox:function(){var e=n.head(this.props.selectedComponents),t=n.get(this.props,"focusedContainer.id")===e.id;return this.props.focusedContainer&&(!(this.props.performingMouseMoveAction&&t)||n.isEqual(this.getEditorAPI().pages.popupPages.getPopupContainer(),e))},shouldShowAttachFocusBox:function(){return this.getEditorAPI().selection.getParentToFocus([this.props.attachCandidate])},shouldRenderEditBox:function(){if(!this.props.selectedComponents||this.props.isSectionDragging)return!1;var e=this.getEditorAPI().components.getType(this.props.selectedComponents);return!n.includes(b,e)},componentDidMount:function(){this.throttledSetCompsStyle(),this.getEditorAPI().ui.scroll.addListener(this.onWindowScroll),window.addEventListener("resize",this.onWindowResize)},componentWillUnmount:function(){this.getEditorAPI().ui.scroll.removeListener(this.onWindowScroll),window.removeEventListener("resize",this.onWindowResize)},componentWillReceiveProps:function(e){var t={},o=!n.get(e.panel,["props","useLastPanelPosition"]);!n.isEqual(this.props.panel,e.panel)&&o&&(t.compPanelStyle={top:0,left:0,opacity:0,visibility:"hidden"},e.panel||(this.panelReady=!1));var i=!this.getEditorAPI().utils.isSameRef(this.props.selectedComponents,e.selectedComponents),a=!this.props.performingMouseMoveAction&&e.performingMouseMoveAction;(i||a)&&(t.gfppStyle={top:0,left:0,visibility:"hidden",position:"absolute"},t.compPanelStyle={top:0,left:0,opacity:0,visibility:"hidden"}),n.isEmpty(t)||this.setState(t)},setAttachCandidateNavControlsStyle:function(){var t=this.refs.compPanel?e.findDOMNode(this.refs.compPanel):null,o=this.getBoundingLayoutRelativeToScreen(this.props.attachCandidate),n=!o.fixedPosition,a=this.getEditorAPI().getLeftBarButtonsBoundingRect(),r=i.utils.stageUtils.getViewPort(n,a),s={id:this.props.attachCandidate.id,layout:o},l=h.getCompControlsPositions(s,t,s,{viewPort:r});this.setState({attachCandidateNavControlsStyle:l.navControlsStyle})},componentDidUpdate:function(e){m(e,this.props)&&this.throttledSetCompsStyle(),!n.isEqual(e.attachCandidate,this.props.attachCandidate)&&this.shouldShowAttachFocusBox()&&this.setAttachCandidateNavControlsStyle()},onPanelDragEnd:function(e){this.setState({compPanelStyle:e})},onCompPanelLoaded:function(){this.panelReady=!0,this.throttledSetCompsStyle()},getPanelProps:function(){return n.assign({onDragEnd:this.onPanelDragEnd,onCompPanelLoaded:this.onCompPanelLoaded,style:this.state.compPanelStyle,selectedComponent:this.props.selectedComponents,compType:this.getEditorAPI().components.getType(this.props.selectedComponents)},this.props.panel.props)},isColumnsContainer:function(e){return"wysiwyg.viewer.components.StripColumnsContainer"===this.getEditorAPI().components.getType(e)},getColumnsContainer:function(){var e=this.props.selectedComponents;if(this.isColumnsContainer(e))return e;var t=this.getEditorAPI().utils.findAncestorMatchesCondition(e,this.isColumnsContainer);return t?this.getEditorAPI().components.asArray(t):null},getColumnsControlsProps:function(){return{selectedComponents:this.props.selectedComponents,columnsContainer:this.getColumnsContainer()}},isConnected:function(){return 1===this.props.selectedComponents.length&&this.getEditorAPI().documentServices.platform.controllers.connections.get(this.props.selectedComponents[0]).length>0},render:l})}),define("rEditor/rootComps/attachHighlight/attachHighlight.rt",["react","lodash","experiment"],function(e,t,o){return function(){return e.createElement("div",{},o.isOpen("attachImprovements")?e.createElement("div",{key:"attach-highlight",className:"attach-highlight"},e.createElement("div",{className:t({"highlight-container-exp":!0,master:this.isShowOnAllPages(),box:this.isBoxContainer()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.getBoxPosition()},e.createElement("label",{},this.translateIfNeeded(this.getAttachTranslationKey(this.state.compLabel)))),e.createElement("div",{style:this.getAttachOverlayLayoutStyle(),className:"attach-overlay"})):null,o.isOpen("attachImprovements")?null:e.createElement("div",{key:"experiment.isOpen('attachImprovements')",className:t({"highlight-container":!0,master:this.isShowOnAllPages()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.getPosition()},e.createElement("label",{},this.translateIfNeeded(this.getAttachTranslationKey(this.state.compLabel)))))}}),define("rEditor/rootComps/attachHighlight/attachHighlight",["create-react-class","core","lodash","rEditor/rootComps/attachHighlight/attachHighlight.rt","util","rEditor/rootComps/selectionBox/selectionBoxCommons","experiment"],function(e,t,o,n,i,a,r){function s(e,t){return e.components.layout.getRelativeToScreen(t)}function l(e){return s(e,e.selection.getSelectedComponents()[0])}function c(e,t){var o=e.components.layout.getRelativeToScreen(t);if(e.components.layout.isShowOnFixedPosition(t)){var n=e.getPreviewPosition();o.y+=n.top,o.bounding.y+=n.top,o.x+=n.left,o.bounding.x+=n.left}return o}function p(e,t){var n=o(t).thru(e.components.getType).thru(function(e){return e.split(".")}).last();return"Column"!==n||e.components.getSiblings(t).length?n:"StripContainer"}var d={HeaderContainer:"OnStage_AttachTo_Header",Page:"OnStage_AttachTo_Page",FooterContainer:"OnStage_AttachTo_Footer",Container:"OnStage_AttachTo_Box",HoverBox:"OnStage_AttachTo_Hover_Box",BoxSlideShowSlide:"OnStage_AttachTo_Slide",StripContainerSlideShowSlide:"OnStage_AttachTo_Slide",StripContainer:"OnStage_AttachTo_Strip",Column:"OnStage_AttachTo_Column",PopupContainer:"OnStage_AttachTo_PopUp"},u={displayName:"attachHighlight",mixins:[t.mixins.editorAPIMixin,i.translationMixin],getInitialState:function(){var e=p(this.getEditorAPI(),this.props.comp);return{compLabel:this.props.comp&&d[e]}},componentWillReceiveProps:function(e){var t=p(this.getEditorAPI(),this.props.comp);this.setState({compLabel:e.comp&&d[t]})},isShowOnAllPages:function(){return this.getEditorAPI().components.isShowOnAllPages(this.props.comp)},getAttachTranslationKey:function(){var e=p(this.getEditorAPI(),this.props.comp);return d[e]},getPosition:function(){var e=this.getEditorAPI(),t=c(e,this.props.comp),o=e.components.layout.isShowOnFixedPosition(this.props.comp),n=a.getPosition(o);return{top:t.y-2,left:t.x-2,height:t.height,width:t.width,position:n}},render:n};return r.isOpen("attachImprovements")&&o.assign(u,{getBoxPosition:function(){var e=s(this.getEditorAPI(),this.props.comp);return{top:e.y,left:e.x,height:e.height,width:e.width}},getAttachOverlayLayoutStyle:function(){var e=l(this.getEditorAPI());return{top:e.y,left:e.x,width:e.width,height:e.height}},isBoxContainer:function(){return"mobile.core.components.Container"===this.getEditorAPI().components.getType(this.props.comp)}}),e(u)}),define("rEditor/rootComps/constraintArea/constraintArea.rt",["react","lodash"],function(e,t){return function(){return e.createElement("div",{className:"negative-constraint-indication constraint-area",style:this.getPosition()},e.createElement("div",{className:"box"},e.createElement("label",{},this.translateIfNeeded("mobilemenu_Settings_fixed_area_label"))))}}),define("rEditor/rootComps/constraintArea/constraintArea",["create-react-class","core","lodash","util","rEditor/rootComps/constraintArea/constraintArea.rt"],function(e,t,o,n,i){return e({displayName:"constraintArea",mixins:[t.mixins.editorAPIMixin,n.translationMixin],getPosition:function(){var e=this.props.area;return{top:e.top,left:e.left,height:e.height,width:e.width}},render:i})}),define("rEditor/rootComps/snapLayer/snapLayer.rt",["react","lodash"],function(e,t){return function(){function o(o,n){return e.createElement("rect",{className:t({"show-on-all-pages":o.isShowOnAllPages}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),x:o.x,y:o.y,height:o.height,width:o.width,key:"rectDrawData"+n})}function n(t,o){return e.createElement("line",{x1:t[0].x,y1:t[0].y,x2:t[1].x,y2:t[1].y,key:"snapLine"+o})}return this.props.snapData?e.createElement("div",{className:"snap-layer",key:"layer"},e.createElement.apply(this,["svg",{},t.map(this.getRectanglesDrawData(),o.bind(this)),t.map(this.getLines(),n.bind(this))])):null}}),define("rEditor/rootComps/snapLayer/snapLayer",["create-react-class","prop-types","lodash","rEditor/rootComps/snapLayer/snapLayer.rt"],function(e,t,o,n){return e({displayName:"snapLayer",propTypes:{snapData:t.array},getRectanglesDrawData:function(){return o.flatMap(this.props.snapData,"rectanglesDrawData")},getLines:function(){return o.map(this.props.snapData,"line")},render:n})}),define("rEditor/rootComps/anchor/anchor.rt",["react","lodash","baseUI"],function(e,t,o){return function(){return e.createElement("div",{className:"anchorWrapper",style:{top:this.getTopPosition()}},e.createElement("div",{className:"anchor-line before"}),e.createElement("div",{className:"anchor "+(this.props.isSelected?"anchor-selected":"")},e.createElement("div",{className:"anchorContent",onMouseDown:this.onMouseDown,onContextMenu:this.props.onContextMenu,onDoubleClick:this.onDoubleClick},e.createElement(o.symbol,{className:"anchorIcon",name:"anchor"}),e.createElement("div",{className:"anchorName"},this.getAnchorName()),e.createElement(o.symbol,{className:"rightIcon",name:this.isLocked()?"anchorLock":"anchorDragHandle"}))),e.createElement("div",{className:"anchor-line after-with-sections-reorganize"}))}}),define("rEditor/rootComps/anchor/anchor",["create-react-class","prop-types","lodash","core","rEditor/utils/mouseMoveActions/baseDoubleClick","rEditor/rootComps/anchor/anchor.rt"],function(e,t,o,n,i,a){return e({displayName:"anchor",propTypes:{compRef:t.object.isRequired,isSelected:t.bool.isRequired},mixins:[n.mixins.editorAPIMixin],getInitialState:function(){return this.editorAPI=this.getEditorAPI(),{}},getAnchorName:function(){return this.editorAPI.components.data.get(this.props.compRef).name},onDoubleClick:function(e){var t={evt:e,comp:[this.props.compRef]};i.doubleClick(this.getEditorAPI(),t)},getTopPosition:function(){return this.editorAPI.components.layout.getRelativeToStructure(this.props.compRef).y},isLocked:function(){return!1},render:a})}),define("rEditor/rootComps/anchor/anchorsContainer.rt",["react","lodash","rEditor/rootComps/anchor/anchor"],function(e,t,o){return function(){function n(t,n){return e.createElement(o,{key:"anchor"+n,compRef:t,onContextMenu:this.props.onContextMenu,isSelected:this.isSelectedComp(t)})}return e.createElement.apply(this,["div",{className:t({"anchors-container":!0,"mobile-editor":this.editorAPI.isMobileEditor()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},t.map(this.getAnchors(),n.bind(this))])}}),define("rEditor/rootComps/anchor/anchorsContainer",["create-react-class","lodash","core","rEditor/rootComps/anchor/anchorsContainer.rt"],function(e,t,o,n){return e({displayName:"stageComps",mixins:[o.mixins.editorAPIMixin],getInitialState:function(){return this.editorAPI=this.getEditorAPI(),{}},getAnchors:function(){var e=this.editorAPI.documentServices.pages.getReference(this.editorAPI.documentServices.pages.getFocusedPageId());return this.editorAPI.components.get.byType("wysiwyg.common.components.anchor.viewer.Anchor",e)},isSelectedComp:function(e){return this.editorAPI.selection.isComponentSelected(e)},render:n})}),define("rEditor/rootComps/selectionBox/hoverBox.rt",["react","lodash","baseUI","rEditor/rootComps/selectionBox/componentLabels","experiment"],function(e,t,o,n,i){return function(){return e.createElement("div",{style:this.getHoverBoxStyles(),className:t(this.getClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},i.isOpen("se_platform1")?e.createElement(n,{key:"newComponentLabel",showComponentType:this.shouldShowComponentType(),showComponentNickname:this.shouldShowComponentNickname(),shouldShowConnectionIndication:this.shouldShowConnectionIndication(),infoText:"PLATFORM_ONSTAGE_CONNECTED_ELEMENT_LABEL",isLabelLarge:this.isRootComponent(this.getEditorAPI(),this.props.hoveredComp),isLabelBelowLine:this.isSiteHeaderHovered(this.getEditorAPI(),this.props.hoveredComp),componentType:this.getComponentType(),componentNickname:this.getComponentNickname(),labelInlineStyles:this.getHoverBoxLabelStyles(),showOnAllPages:this.isShownOnAllPages(),isPinnedToPage:this.isCompPinned()}):null,i.isOpen("se_platform1")?null:e.createElement("span",{ref:"label",className:t(this.getLabelClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.getHoverBoxLabelStyles(),key:"newComponentLabel"},this.isCompPinned()?e.createElement(o.symbol,{name:"pinModeIndicator",key:"pinModeIndicator",className:t(this.getIndicatorClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")}):null,e.createElement("span",{className:"actual-label"},this.getComponentLabel())))}}),define("rEditor/rootComps/selectionBox/hoverBox",["reactDOM","lodash","create-react-class","jquery","core","rEditor/rootComps/selectionBox/hoverBox.rt"],function(e,t,o,n,i,a){function r(e,t){var o=e.components.layout.getRelativeToScreen(t);if(e.components.layout.isShowOnFixedPosition(t)){var n=e.getPreviewPosition();o.y+=n.top,o.bounding.y+=n.top,o.x+=n.left,o.bounding.x+=n.left}return o}function s(e,t){return e.outerWidth()/t.outerWidth()<2}function l(e,t){var o=i.utils.stageUtils.getViewPort();return e.offset().left-t.width()>o.x}function c(e,t){return"SITE_FOOTER"===t.id||"SITE_HEADER"===t.id||t.id===e.documentServices.pages.getFocusedPageId()}function p(e,t){return s(e,t)?l(e,t)?d.LEFT:d.RIGHT:d.INNER}var d={INNER:"inner",LEFT:"left",RIGHT:"right"};return o({displayName:"hoverBox",mixins:[i.mixins.editorAPIMixin],getInitialState:function(){return{labelPosition:d.INNER,shouldCalculateLabelPosition:!0}},componentWillMount:function(){this.isMovable=this.getEditorAPI().components.is.verticallyMovable(this.props.hoveredComp)||this.getEditorAPI().components.is.horizontallyMovable(this.props.hoveredComp)},componentDidMount:function(){if(this.state.shouldCalculateLabelPosition){var t=n(e.findDOMNode(this)),o=n(e.findDOMNode(this.refs.label));this.setState({labelPosition:p(t,o),shouldCalculateLabelPosition:!1})}},componentDidUpdate:function(){if(this.state.shouldCalculateLabelPosition){var t=n(e.findDOMNode(this)),o=n(e.findDOMNode(this.refs.label));this.setState({labelPosition:p(t,o),shouldCalculateLabelPosition:!1})}},componentWillReceiveProps:function(e){e.hoveredComp.id!==this.props.hoveredComp.id&&(this.isMovable=this.getEditorAPI().components.is.verticallyMovable(e.hoveredComp)||this.getEditorAPI().components.is.horizontallyMovable(e.hoveredComp),this.setState({shouldCalculateLabelPosition:!0}))},isRootComponent:function(e,t){return"SITE_FOOTER"===t.id||"SITE_HEADER"===t.id||t.id===e.documentServices.pages.getFocusedPageId()},isSiteHeaderHovered:function(e,t){return"SITE_HEADER"===t.id},shouldShowConnectionIndication:function(){return this.getEditorAPI().documentServices.platform.controllers.connections.get(this.props.hoveredComp).length>0},isHoveredSelectedComp:function(){var e=this.getEditorAPI(),t=e.selection.getSelectedComponents();return e.utils.isSameRef(t,this.props.hoveredComp)},isConnectedToControllers:function(e){return e.documentServices.platform.controllers.connections.get(this.props.hoveredComp).length>0},getComponentLabel:function(){var e=this.getEditorAPI(),t=e.selection.getSelectedComponents(),o=e.utils.isSameRef(t,this.props.hoveredComp),n=e.components.getDisplayName(this.props.hoveredComp);return e.developerMode.isEnabled()&&(n+=" "+this.getComponentNickname()),o?"":n},getComponentType:function(){return this.isHoveredSelectedComp()?"":this.getEditorAPI().components.getDisplayName(this.props.hoveredComp)},getComponentNickname:function(){var e=this.getEditorAPI().components.getNickname(this.props.hoveredComp);return this.isHoveredSelectedComp()||!e?"":"#"+e},getHoverBoxStyles:function(){var e=r(this.getEditorAPI(),this.props.hoveredComp),o={top:e.y-1,left:e.x-1,width:e.width,height:e.height};if(e.rotationInDegrees){var n="rotate("+e.rotationInDegrees+"deg)";t.assign(o,{transform:n,WebkitTransform:n})}return this.getEditorAPI().components.is.fullWidth(this.props.hoveredComp)&&t.assign(o,{borderLeft:0,borderRight:0}),o},getClasses:function(){var e=this.getEditorAPI(),t=this.props.hoveredComp;return{"hover-box":!0,"show-on-all-pages":e.components.isShowOnAllPages(t),"fixed-position":e.components.layout.isShowOnFixedPosition(t),overlay:this.props.overlay}},isShownOnAllPages:function(){return this.getEditorAPI().components.isShowOnAllPages(this.props.hoveredComp)},getHoverBoxLabelStyles:function(){var e=this.getEditorAPI();if(e.components.is.fullWidth(this.props.hoveredComp))return{left:e.isMobileEditor()?0:e.siteSegments.getPagesContainerAbsLayout().x+2}},getLabelClasses:function(){var e=c(this.getEditorAPI(),this.props.hoveredComp);return{"comp-label":!0,"label-large":e,"label-inner":!e&&this.state.labelPosition===d.INNER,"label-left":!e&&this.state.labelPosition===d.LEFT,"label-right":!e&&this.state.labelPosition===d.RIGHT}},getIndicatorClasses:function(){return{"show-on-all-pages":this.getEditorAPI().components.isShowOnAllPages(this.props.hoveredComp)}},shouldShowComponentType:function(){return this.props.hoveredComp&&!(this.getEditorAPI().developerMode.isEnabled()&&this.shouldShowConnectionIndication())},shouldShowComponentNickname:function(){return this.props.hoveredComp&&this.getEditorAPI().developerMode.isEnabled()},isCompPinned:function(){return this.getEditorAPI().components.layout.isPinned(this.props.hoveredComp)&&!this.isHoveredSelectedComp()},render:a})}),define("rEditor/rootComps/selectionBox/overlay.rt",["react","lodash"],function(e,t){return function(){return e.createElement("div",{className:t({overlay:!0,visible:this.state.shouldShowOverlay}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.getStyles()},"\n    ",this.getOverlay(),"\n")}}),define("rEditor/rootComps/selectionBox/overlay",["create-react-class","lodash","core","rEditor/rootComps/selectionBox/overlay.rt"],function(e,t,o,n){function i(e,t){return e[t]?{transitionDuration:(e[t].duration||0)+"ms",transitionDelay:(e[t].delay||0)+"ms"}:{}}function a(){return this.leaveAnimationId?"leave":"enter"}return e({displayName:"overlay",mixins:[o.mixins.editorAPIMixin],getInitialState:function(){return{shouldShowOverlay:!1}},overlayProps:{},getOverlay:function(){return this.getEditorAPI().components.is.getOverlay(this.state.hoveredComp)||""},getStyles:function(){return this.overlayProps=this.getEditorAPI().components.is.getOverlayProperties(this.state.hoveredComp),this.overlayProps?i(this.overlayProps,a.call(this)):{}},componentWillReceiveProps:function(e){var t=e.hoveredComp&&this.getEditorAPI().components.is.exist(e.hoveredComp)&&this.getEditorAPI().components.is.shouldBeOverlayed(e.hoveredComp);if(!this.state.hoveredComp||this.getEditorAPI().components.is.exist(this.state.hoveredComp)){if(this.getEditorAPI().overlay.shouldUpdate()){if(t)this.componentWillEnter(e.hoveredComp);else{if(!this.state.shouldShowOverlay)return;this.componentWillLeave()}this.setState({shouldShowOverlay:t})}}else this.setState({shouldShowOverlay:!1,hoveredComp:null})},componentWillEnter:function(e){this.leaveAnimationId&&(this.leaveAnimationId=window.clearTimeout(this.leaveAnimationId)),this.setState({hoveredComp:e})},componentWillLeave:function(){this.leaveAnimationId=window.setTimeout(this.componentHasLeft,this.overlayProps.leave.duration)},componentHasLeft:function(){this.leaveAnimationId=null,this.setState({hoveredComp:null})},render:n})}),define("rEditor/rootComps/lasso/lasso.rt",["react","lodash"],function(e,t){return function(){function o(o,n){return e.createElement("rect",t.assign({},{className:t({"lasso-candidate":!0,"show-on-all-pages":this.getEditorAPI().components.isShowOnAllPages(o.component)}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:n},o.layout.bounding))}return e.createElement("div",{className:"lasso-layer"},e.createElement.apply(this,["svg",{className:"lasso-highlights"},e.createElement("rect",t.assign({},{className:"lasso-rect"},this.props.lassoLayout)),t.map(this.props.candidates,o.bind(this))]))}}),define("rEditor/rootComps/lasso/lasso",["create-react-class","prop-types","lodash","core","rEditor/rootComps/lasso/lasso.rt"],function(e,t,o,n,i){return e({displayName:"lasso",mixins:[n.mixins.editorAPIMixin],propTypes:{lassoLayout:t.shape({x:t.number,y:t.number,width:t.number,height:t.number}),candidates:t.arrayOf(t.shape({component:t.object,layout:t.object}))},render:i})}),define("rEditor/rootComps/mouseCatcher.rt",["react","lodash","uiConstants","rEditor/rootComps/compControls/compControls","rEditor/rootComps/attachHighlight/attachHighlight","rEditor/rootComps/constraintArea/constraintArea","rEditor/rootComps/snapLayer/snapLayer","rEditor/rootComps/anchor/anchorsContainer","rEditor/rootComps/selectionBox/hoverBox","rEditor/rootComps/selectionBox/overlay","rEditor/rootComps/lasso/lasso"],function(e,t,o,n,i,a,r,s,l,c,p){return function(){function o(){var t=this.getMarginsIndicatorStyles(this.getCompToShowMarginsIndicator());return e.createElement("div",{key:"marginsIndicator",className:"margins-indicator",style:t.indicator},t.marginLeft?e.createElement("div",{key:"leftMarginIndicator",className:"left",style:{width:t.marginLeft}}):null,t.marginRight?e.createElement("div",{key:"rightMarginIndicator",className:"right",style:{width:t.marginRight}}):null)}return e.createElement("div",{className:t({parentSizeAbs:!0,mouseCatcher:!0,draggable:this.isCompDraggable()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onDoubleClick:this.onDoubleClick,onContextMenu:this.props.onContextMenu,onMouseMove:this.onMouseMove,onMouseLeave:this.clearHoverBox},e.createElement(c,{hoveredComp:this.props.hoveredComp}),this.props.constraintArea?e.createElement(a,{key:"constraintArea",area:this.props.constraintArea}):null,this.props.attachCandidate?e.createElement(i,{key:"attachHighlight",comp:this.props.attachCandidate}):null,this.props.lassoLayout?e.createElement(p,{key:"lassoLayout",lassoLayout:this.props.lassoLayout,candidates:this.props.lassoCandidates}):null,1===this.props.siteScale&&this.props.hoveredComp&&this.getEditorAPI().components.is.exist(this.props.hoveredComp)&&!this.props.isPinMode?e.createElement(l,{overlay:this.props.hoverBoxOverlay,hoveredComp:this.props.hoveredComp,key:"hoverBox"}):null,1===this.props.siteScale&&this.props.selectedComponents?e.createElement(n,{key:"compControls",isDragging:this.props.isDragging,isResizing:this.props.isResizing,isRotating:this.props.isRotating,performingMouseMoveAction:this.props.performingMouseMoveAction,selectedComponents:this.props.selectedComponents,focusedContainer:this.props.focusedContainer,hoveredComp:this.props.hoveredComp,clearHoverBox:this.clearHoverBox,lastSelectionClickPos:this.props.lastSelectionClickPos,panel:this.props.compPanel,previewPosition:this.props.previewPosition,siteScale:this.props.siteScale,isPinMode:this.props.isPinMode,onContextMenu:this.props.onContextMenu,isSectionDragging:this.props.isSectionDragging,attachCandidate:this.props.attachCandidate,tabIndicationState:this.props.tabIndicationState,applyModeFromClipboardSuggestion:this.props.applyModeFromClipboardSuggestion}):null,e.createElement(r,{key:"snapLayer",snapData:this.props.snapData}),this.props.previewMode||!this.props.editorIsInit||this.props.isPinMode?null:e.createElement(s,{key:"anchorsContainer",onContextMenu:this.props.onContextMenu}),this.showMarginsIndicator()?o.apply(this,[]):null)}}),define("rEditor/utils/mouseMoveActions/baseDrag",["core","lodash","constants","experiment"],function(e,t,o,n){function i(e){return!!G||V&&(Math.abs(e.pageX-M.x)>2||Math.abs(e.pageY-M.y)>2)}function a(e){if(w){var t=w.getClosestLayoutDistance(O,e.bounding,U);Math.abs(t.x)<5&&(e.x+=t.x,e.bounding.x+=t.x),Math.abs(t.y)<5&&(e.y+=t.y,e.bounding.y+=t.y)}}function r(e){e.x-=e.x%5,e.y-=e.y%5}function s(e){if(w){var t=w.getSnapData(e.bounding,U);O.snapData.set(t)}}function l(e){return!t.some(e,function(e){return O.components.is.groupedComponent(e)})}function c(e){return t.map(e,function(e){return{component:e,attachUtil:new N(O,{comp:e,layout:O.components.layout.getRelativeToScreen(e)},N.TYPES.COMP)}})}function p(e){var t=A||M;return{x:Math.abs(t.x-e.x),y:Math.abs(t.y-e.y)}}function d(e){var t=p(e);return t.x>B||t.y>B}function u(){return T&&!O.multiselect.isMultiselect(S)}function m(e){return t.reduce(e,function(e,t){var o=t.attachCandidate,n=t.component;return o?(e[o.id]?e[o.id].components.push(n):e[o.id]={attachCandidate:o,components:[n]},e):e},{})}function g(){if(T){var e=t.map(I,"component"),o=t.map(I,function(t){var o=t.attachUtil.getCurrentAttachCandidate(null,e),n=t.component;return o?{attachCandidate:o,component:n}:{component:n}}),n=m(o),i=t.map(n,function(e){return O.components.setContainer(e.components,e.attachCandidate)}),a=t(o).reject("attachCandidate").map("component").value();O.selection.selectComponentByCompRef(t.flatten(i).concat(a))}}function f(e){if(T){var t={x:e.clientX,y:e.clientY},o=C.getCurrentAttachCandidate(null,t);if(o){var n=O.components.setContainer(S,o);O.selection.selectComponentByCompRef(n)}}}function h(e,o){if(O=O||e,S=o.selectedComp,M=o.initMousePosition,A=null,R=O.components.is.horizontallyMovable(o.selectedComp),D=O.components.is.verticallyMovable(o.selectedComp),k=O.components.layout.getRelativeToScreen(S),o.initMousePosition){V=!0;var i=O.components.layout.getRelativeToScreen(S),a=t.map(S,function(e){return O.components.layout.getRelativeToScreen(e)});T=l(S),O.multiselect.isMultiselect(S)?I=c(S):C=n.isOpen("attachImprovements")?new L(O,{layout:i,comp:S},N.TYPES.COMP):new N(O,{layout:i,comp:S},N.TYPES.COMP),_=new H(O,S),w=new x(O,S),E=new F.Drag(k,M,a)}else V=!1}function b(){G=!0,O.renderPlugins.setCompsToShowOnTop(t.map(S,"id")),n.isOpen("se_continuous_actions")&&O.components.layout.continuousUpdate.start()}function y(t){var o=e.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(O,t),l={x:o.pageX,y:o.pageY,isShiftPressed:t.shiftKey};if(i(o)){O.selection.setIsMouseUpSelectionEnabled(!1),G||b();var c=E.getLayout(l);if(O.multiselect.isMultiselect(S)&&(c=e.utils.updateLayoutUtil.getLayoutRelativeToScreenAfterConstraints(O,S,c,k)),R||(c.x=k.x),D||(c.y=k.y),t.altKey?r(c):O.getViewTools().snapToEnabled&&(d(l)?O.snapData.clear():(c.bounding=O.utils.getBoundingLayout(c),a(c),s(c))),u()){var p=C.getCurrentAttachCandidate(null,{x:o.clientX,y:o.clientY});C.highlightAttachCandidate(p),_.highlightDragConstraints()}for(var m=E.getBoundComponentLayouts(c),g=0;g<S.length;g++)n.isOpen("se_continuous_actions")?O.components.layout.continuousUpdate.on(S[g],m[g],!0):O.components.layout.updateRelativeToScreen(S[g],m[g],!0)}A=l}function P(e){n.isOpen("se_continuous_actions")&&O.components.layout.continuousUpdate.end(),O.multiselect.isMultiselect(S)?g():(f(e),C.clearHighlightAttachCandidate()),_.removeHighlightDragConstraints(),w=null,O.snapData.clear(),O.documentServices.waitForChangesApplied(function(){O.history.add("Dragged component")}),O.openCompOutOfGridPanelIfNeeded(S),O.renderPlugins.setCompsToShowOnTop(null),G=!1}function v(t){G&&P(e.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(O,t)),M=null}var E,S,T,C,I,_,O,M,A,w,R,D,k,B=15,N=e.utils.AttachHandler,L=e.utils.AttachHandlerExperimentAttachImprovements,x=e.utils.SnapToHandler,F=e.utils.layoutTransitionsUtil,H=e.utils.DragConstraintsHandler,U={top:!0,right:!0,bottom:!0,left:!0,centerX:!0,centerY:!0},G=!1,V=!1;return{start:h,on:y,end:v,type:o.MOUSE_ACTION_TYPES.DRAG}}),define("rEditor/utils/mouseMoveActions/dragAttempt",["lodash","core","constants"],function(e,t,o){function n(e,t){return e>=d||t>=d}function i(e,t){p=e,s=!1,l=t.initMousePosition,c=t.selectedComp}function a(e){var t=Math.abs(e.pageX-l.x),o=Math.abs(e.pageY-l.y);(s=s||n(t,o))&&p.selection.setIsMouseUpSelectionEnabled(!1)}function r(){s&&p.components.layout.isPinned(c)&&!p.pinMode.isOpened()&&(p.pinMode.open("on_drag"),p.bi.event(t.bi.events.pinToScreen.DRAG_ATTEMPT,{component_type:p.getComponentType(c)}))}var s,l,c,p,d=5;return{start:i,on:a,end:r,type:o.MOUSE_ACTION_TYPES.DRAG_ATTEMPT}}),define("rEditor/utils/lassoMouseMoveActions/lassoDrag",["core","lodash","util","constants"],function(e,t,o,n){function i(e){if(b)return!0;var t=I.fitMouseCoordinatesToViewer(y,e),o=t.pageY,n=t.pageX,i=Math.abs(n-h.x),a=Math.abs(o-h.y);return b=i>C&&a>C}function a(e){var t=I.fitMouseCoordinatesToViewer(y,e),o=Math.min(t.pageX,h.x),n=Math.min(t.pageY,h.y);return{x:o,y:n,width:Math.max(t.pageX,h.x)-o,height:Math.max(t.pageY,h.y)-n}}function r(e){var t=y.components.layout.getRelativeToScreen(e);return"wysiwyg.viewer.components.WRichText"===y.components.getType(e)&&s(e,t),{component:e,layout:t}}function s(e,t){var o=y.components.layout.getEffectiveTextDimensions(e);return o&&(t.width=o.width,t.height=o.height,t.bounding.width=o.width,t.bounding.height=o.height,t.x+=o.dx,t.y+=o.dy,t.bounding.x+=o.dx,t.bounding.y+=o.dy),t}function l(e){return y.components.is.fullWidth(e.component)||y.components.layout.isHorizontallyStretchedToScreen(e.component)?"fullWidth":"standard"}function c(e,t){return t.y<=e.bounding.y&&t.y+t.height>=e.bounding.y+e.bounding.height}function p(e,o){var n=(y=e).documentServices.pages.getFocusedPageId();v=o.selectedComponents;var i=T.concat(t.map(v,"id")),a=y.components.getAllComponents(n,function(e){return!t.includes(i,e.id)&&!y.components.is.page(e)});P=o.prevSelectedComps,E=P!==v&&o.initMousePosition.isSpecialKeyPressed,S=y.selection.isSingleSelectionComponent(v),h=t.clone(o.initMousePosition),b=!1,g=[],f=t.pick(h,["x","y"]),m=t(a).map(r).groupBy(l).value()}function d(e){if(i(e)){S&&(y.selection.deselectComponents(),S=!1),E&&(y.selection.selectComponentByCompRef(P),E=!1),f=a(e),g=t.filter(m.standard,function(e){return o.layoutUtils.isLayoutContainedWithinRect(e.layout.bounding,f)});var n=t.filter(m.fullWidth,function(e){return c(e.layout,f)});g=g.concat(n),y.lasso.setCandidates(g),y.lasso.setLayout(f)}}function u(n){var i=o.browserUtil.isSpecialKeyPressed(n);if(!t.isEmpty(g)){var a=t.map(g,"component");a.length>1&&(a=t.reject(a,y.selection.isSingleSelectionComponent)),(a.length>1||1===a.length&&P&&P.length>0)&&y.bi.event(e.bi.events.selection.MULTISELECT,{num_of_elements_selected:a.length,selection_method:"lasso"}),y.closeCompPanelIfExists(),i?y.selection.addComponentToSelectionByRef(a):y.selection.selectComponentByCompRef(a)}y.lasso.clear()}var m,g,f,h,b,y,P,v,E,S,T=["SITE_PAGES","PAGES_CONTAINER","SITE_HEADER","SITE_FOOTER"],C=4,I=e.utils.mouseCoordinatesHandler;return{start:p,on:d,end:u,type:n.MOUSE_ACTION_TYPES.LASSO}}),define("rEditor/rootComps/mouseCatcher",["reactDOM","create-react-class","prop-types","jquery","lodash","rEditor/rootComps/mouseCatcher.rt","core","util","rEditor/utils/mouseMoveActions/baseDrag","rEditor/utils/mouseMoveActions/dragAttempt","rEditor/utils/lassoMouseMoveActions/lassoDrag"],function(e,t,o,n,i,a,r,s,l,c,p){function d(e,t){return u(e,t)?l:c}function u(e,t){var o=e.getCompDragRestrictions(t);return o.horizontallyMovable||o.verticallyMovable}function m(e,t){var o=e.selection.getComponentUnderClickToBeSelected(t.clientX,t.clientY);return e.selection.isComponentSelected(o)}function g(e,t){if(!e.components.is.exist(t))return!1;var o=e.selection.getSelectedComponents(),n=e.components.getType(t);return(!e.selection.isComponentSelected(t)||e.multiselect.isMultiselect(o))&&!i.includes(b,n)}function f(e){return!!e.store.getState().lassoLayout}function h(e,t){var o=e.components.is.controlledByParent;return i(t).map(function(t){return o(t)?e.utils.findAncestorMatchesCondition(t,i.negate(o)):t}).thru(e.multiselect.getComponentsWhichDontHaveAncestorsInTheArray).value()}var b=["wysiwyg.viewer.components.PagesContainer","wysiwyg.viewer.components.PageGroup","wysiwyg.common.components.anchor.viewer.Anchor"],y=r.utils.mouseCoordinatesHandler;return t({displayName:"mouseCatcher",mixins:[r.mixins.editorAPIMixin],propTypes:{selectedComponents:o.oneOfType([o.object,o.arrayOf(o.object)]),focusedContainer:o.object,config:o.object,onContextMenu:o.func,performingMouseMoveAction:o.bool,hoveredComp:o.object,isDragging:o.bool,isResizing:o.bool,isRotating:o.bool,isPinMode:o.bool,compPanel:o.object,editingAreaLayout:o.object,previewPosition:o.object,previewMode:o.bool.isRequired,attachCandidate:o.object,snapData:o.array,applyModeFromClipboardSuggestion:o.object,tabIndicationState:o.object.isRequired,lastSelectionClickPos:o.object,lassoCandidates:o.array,lassoLayout:o.object,constraintArea:o.object},componentWillMount:function(){this.compsBeforeSelection=null,this.shouldStartDragging=!1,this.shouldStartLasso=!1,this.initMousePosition=null,this.isWaitingForUpdate=!1},componentDidMount:function(){n(e.findDOMNode(this)).on("mouseenter",this.onMouseEnter)},componentWillUnmount:function(){n(e.findDOMNode(this)).off("mouseenter",this.onMouseEnter)},componentWillReceiveProps:function(e){var t=this.getEditorAPI(),o=d(t,e.selectedComponents);if(this.shouldStartDragging&&o){var n=h(t,e.selectedComponents);t.mouseActions.registerMouseMoveAction(o,{initMousePosition:this.initMousePosition,selectedComp:n})}else this.shouldStartLasso&&t.mouseActions.registerMouseMoveAction(p,{initMousePosition:this.initMousePosition,prevSelectedComps:this.compsBeforeSelection,selectedComponents:e.selectedComponents});this.shouldStartDragging=!1,this.shouldStartLasso=!1},onMouseDown:function(e){var t=this.getEditorAPI();s.keyboardShortcuts.enable();var o=y.fitMouseCoordinatesToViewer(t,e);this.initMousePosition={x:o.pageX,y:o.pageY,isShiftPressed:e.shiftKey,isSpecialKeyPressed:s.browserUtil.isSpecialKeyPressed(e),isAltKeyPressed:e.altKey},this.shouldStartLasso=t.mouseActions.shouldInitLassoToolOnMouseDown(e),this.shouldStartDragging=!this.shouldStartLasso&&(!t.selection.isMultiSelectKeyPressed(e)||m(t,e)),t.selection.isHiddenComponentDraggedNext()?t.selection.setIsHiddenComponentDraggedNext(!1):f(t)||(this.compsBeforeSelection=this.props.selectedComponents,t.selection.selectComponentByClick(e),this.shouldStartDragging=this.shouldStartDragging&&t.selection.isComponentExplicitlySelected()),t.closeRightClickMenu(),t.panelManager.notifyMouseDown()},onMouseUp:function(e){var t=this.getEditorAPI();2===e.button||(this.deselectClickedCompIfNeeded(e),t.selection.getIsMouseUpSelectionEnabled()&&!f(t)&&t.selection.selectNonGroupCompUnderCursor(e,this.props.siteScale)),t.selection.setIsMouseUpSelectionEnabled(!1),this.initMousePosition=null,this.shouldStartDragging=!1,this.shouldStartLasso=!1},onMouseMove:function(e){var t=this.getEditorAPI(),o=y.fitMouseCoordinatesToViewer(t,e);this.props.registeredMouseMoveAction||this.updateHoverBox(e),t.cursor.updateMousePosition(o.pageX,o.pageY)},onMouseEnter:function(e){1!==e.which&&this.getEditorAPI().endMouseMoveActionIfNeeded(i.clone(e))},updateHoverBox:function(e){if(!this.isWaitingForUpdate){this.isWaitingForUpdate=!0;var t=this.getEditorAPI();e.persist(),t.documentServices.waitForChangesApplied(function(){this.isWaitingForUpdate=!1;var o=t.selection.getComponentToBeMarkedByHoverBox(e,this.shouldStartDragging),n=this.props.hoverBoxOverlay;!this.props.hoveredComp&&o?g(t,o)&&this.props.setHoverBox(o,n):this.props.hoveredComp&&!o?this.props.clearHoverBox():this.props.hoveredComp&&o&&(g(t,o)?this.props.hoveredComp.id!==o.id&&this.props.setHoverBox(o,n):this.props.clearHoverBox())}.bind(this))}},clearHoverBox:function(){this.props.clearHoverBox()},deselectClickedCompIfNeeded:function(e){var t=this.getEditorAPI();if(t.selection.isMultiSelectKeyPressed(e)&&this.initMousePosition){var o=t.selection.getComponentUnderClickToBeSelected(e),n=!!i.find(this.compsBeforeSelection,o),a=y.fitMouseCoordinatesToViewer(t,e),r=!this.isPointsDistanceBiggerThan(this.initMousePosition,{x:a.pageX,y:a.pageY},2);n&&r&&(t.selection.setIsMouseUpSelectionEnabled(!1),t.selection.deselectComponents(o))}},isPointsDistanceBiggerThan:function(e,t,o){var n=Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2);return Math.sqrt(n)>o},isComponentSelected:function(){return this.getEditorAPI().selection.isComponentSelected()},getComponentLabel:function(){return this.getEditorAPI().getComponentType(this.props.selectedComponents)},isCompDraggable:function(){var e=this.getEditorAPI(),t=this.props.hoveredComp;return!!t&&(g(e,t)&&e.components.is.draggable(t))},getCompToShowMarginsIndicator:function(){var e=this.getEditorAPI();return this.props.attachCandidate?this.props.attachCandidate:this.props.isDragging?e.components.getContainer(this.getEditorAPI().selection.getSelectedComponents()):null},showMarginsIndicator:function(){var e=this.getEditorAPI(),t=this.getCompToShowMarginsIndicator();return t&&e.components.is.showMarginsIndicator(t)},getMarginsIndicatorStyles:function(e){var t=this.getEditorAPI(),o=t.components.layout.getRelativeToScreen(e),n=t.components.layout.getCompMargin(e);return{indicator:{top:o.y,left:o.x,width:o.width,height:o.height},marginLeft:Math.max(0,n.left),marginRight:Math.max(0,n.right),inlineWidth:o.width-i.sum(n)}},render:a})}),define("rEditor/rootComps/textEditor.rt",["react","lodash","wixRichText"],function(e,t,o){return function(){return e.createElement("div",{style:this.getTextEditorStyles(),className:this.props.isResizing?"resizing":""},e.createElement(o.TextEditor,{initialData:"<p></p>",onReady:this.setReady,validateHtml:!1,showToolbar:!1,documentServicesApi:this.getEditorAPI(),onCut:this.onCutOrCopy,onCopy:this.onCutOrCopy,stylesManager:this.getStyleManager(),onDataChange:this.handleDataChange,linksManager:this.getLinksManager(),shouldInjectFontsToDocument:!1}))}}),define("rEditor/rootComps/textEditor",["create-react-class","prop-types","lodash","rEditor/rootComps/textEditor.rt","core","util","textControls"],function(e,t,o,n,i,a,r){var s=!1;return e({displayName:"textEditor",propTypes:{openPanels:t.array.isRequired},render:n,mixins:[i.mixins.editorAPIMixin],getComponentDataFromProps:function(e){return this.getEditorAPI().components.data.get(this.getTextComponentFromProps(e))},getTextComponentFromProps:function(e){return(e=e||this.props).selectedTextComp},getValue:function(){if(this.props.selectedTextComp){var e=this.getComponentDataFromProps();return{text:e.text,linkList:e.linkList}}return{text:"",linkList:[]}},setReady:function(e){this.manager=e,this.getEditorAPI().text.setCurrentTextEditor(this.manager),this.manager.execCommand("wixCss",{id:"overFlowCss",value:"body {overflow: hidden !important;}",isLink:!1,force:!1})},componentDidUpdate:function(e){if(this._internalTextValue=this.getValue().text,this.manager&&this.props.selectedTextComp&&!e.isOpenTextEditor&&this.props.isOpenTextEditor){this.editedTextComponent=this.props.selectedTextComp;var t=a.browserUtil.isIE()?"none":"all",n=this.manager;this.manager.setData(this.getValue().text,{validateHtml:!1,cursorLocation:t,callback:function(){"none"===t&&n.commands.selectAll()}}),this.getEditorAPI().renderPlugins.setHideTextComponent(this.getTextComponentFromProps().id),this.manager.refreshPropsCollector(),this.manager.focus(),this.manager.resetUndo();var i=r.fontUtils.getUploadedUsedFonts(this.getValue().text,this.getEditorAPI().documentServices.theme.fonts.getAll());r.ckUtils.insertUploadedFontsToCk(i,this.manager),this.linksHelper.setCurrentLinks(this.getValue().linkList),this.getEditorAPI().openComponentPanel("textSettingsPanel",{textManager:this.manager,linksHelper:this.linksHelper})}!this.manager&&!this.props.isResizing||o.isEqual(this.props.layout,e.layout)||this.manager.resize(this.props.layout.width,this.props.layout.height)},componentWillUpdate:function(e){(this.props.selectedTextComp&&!o.isEqual(this.props.selectedTextComp,e.selectedTextComp)||this.props.isOpenTextEditor&&!e.isOpenTextEditor)&&this.stopTextEditing()},componentWillUnmount:function(){this.stopTextEditing(),this.getEditorAPI().text.setCurrentTextEditor(void 0)},componentWillReceiveProps:function(e){var t=o.find(this.props.openPanels,{name:"panels.focusPanels.createNewTextBoxPanel"}),n=o.find(e.openPanels,{name:"panels.focusPanels.createNewTextBoxPanel"});t&&!n&&(r.ckUtils.setCkReadOnly(this.manager,!1,!0),this.manager.focus())},stopTextEditing:function(){if(!s&&o.isEqual(this.editedTextComponent,this.props.selectedTextComp)){if(this.props.isOpenTextEditor&&this.props.selectedTextComp){s=!0;var e=this.getEditorAPI(),t=this;this.stopRichTextInput(),this.getEditorAPI().renderPlugins.setHideTextComponent(null);var n=this.getTextComponentFromProps();e.documentServices.waitForChangesApplied(function(){t.deleteTextEditorComponentIfEmpty(n),s=!1})}this.getEditorAPI().text.stopEditing()}},stopRichTextInput:function(){this.clearUnusedLinks()},clearUnusedLinks:function(){if(this.manager){var e=this.linksHelper.getAllLinks(),t=this.manager.getLinkRefsList(),n=o.filter(e,function(e){return o.includes(t,e.id)});this.setComponentData({text:this._internalTextValue,linkList:n})}},handleDataChange:function(e){if(!o.isEqual(e,this._internalTextValue)){this._internalTextValue=e;var t=this.getEditorAPI();this.setComponentData({text:e,linkList:this.linksHelper.getAllLinks()}),t.documentServices.waitForChangesApplied(this.takeSnapshot);var n=r.dataUtils.getTextContentFromHtml(e).length;r.textLimitsUtils.isNewTextLengthLimitExceeded(n)&&r.textLimitsUtils.handleTextLengthExceeded(this.getEditorAPI().panelManager,this.manager),r.textLimitsUtils.setCachedTextReadableLength(n)}},setComponentData:function(e){var t=this.getComponentDataFromProps();o.forOwn(e,function(e,o){t[o]=e}),this.getEditorAPI().components.data.update(this.getTextComponentFromProps(),t,!0)},takeSnapshot:function(){this.snapshotTimeoutHandle&&window.clearTimeout(this.snapshotTimeoutHandle);var e=this;this.snapshotTimeoutHandle=window.setTimeout(function(){e.getEditorAPI().history.add("RT:Change"),delete e.snapshotTimeoutHandle},1e3)},deleteTextEditorComponentIfEmpty:function(e){var t=this.getEditorAPI().components.data.get(e);if(t){var o=t.text;r.dataUtils.isEmptyHtmlText(o)&&this.getEditorAPI().components.remove(e)}},componentWillMount:function(){var e=this;this.linksHelper=new r.LinksHelper([]),this.linksManager=new r.TextLinksManager(this.linksHelper),this.stylesManager={getFonts:o.partial(r.fontUtils.getCurrentSelectableFontsWithParams,e.getEditorAPI(),!1,!0)}},getStyleManager:function(){return this.stylesManager},getLinksManager:function(){return this.linksManager},onCutOrCopy:function(){this.linksHelper.cacheCopiedLinks()},getTextEditorStyles:function(){return this.props.layout.visibility||this.manager?this.props.isResizing?o.assign(this.props.layout,{pointerEvents:"none"}):this.props.layout:o.assign(this.props.layout,{visibility:"hidden"})}})}),define("rEditor/rootComps/gridLines/gridLines.rt",["react","lodash"],function(e,t){return function(){function o(t,o){return e.createElement("line",{key:o+"backLine",x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,className:"backLine"})}function n(t,o){return e.createElement("line",{key:o+"frontLine",x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,className:"frontLine"})}return e.createElement.apply(this,["svg",{className:"gridLines "+t({fade:this.props.fade}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},t.map(this.props.gridLines,o.bind(this)),t.map(this.props.gridLines,n.bind(this))])}}),define("rEditor/rootComps/gridLines/gridLines",["create-react-class","prop-types","lodash","core","rEditor/rootComps/gridLines/gridLines.rt"],function(e,t,o,n,i){return e({displayName:"gridLines",mixins:[n.mixins.editorAPIMixin],propTypes:{gridLines:t.arrayOf(t.object),fade:t.bool},getDefaultProps:function(){return{fade:!1}},render:i})}),define("rEditor/rootComps/rulers/guide.rt",["react","lodash","core","baseUI","uiConstants","symbols"],function(e,t,o,n,i,a){return function(){function o(e){this.onContainerMouseDown(e)}return e.createElement("div",{className:this.props.rulerDirection+"-guide-container",style:this.getGuideContainerStyle()},e.createElement("div",{className:this.props.rulerDirection+"-guide",style:this.getGuideStyle()}),e.createElement("div",{ref:"guide",className:this.props.rulerDirection+"-guide-catcher",onClick:this.handleGuideClick,onMouseDown:o.bind(this),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},e.createElement("div",{className:this.props.rulerDirection+"-guide-handler"},this.shouldShowSelectedGuide()?e.createElement(a.symbol,{key:"selected",name:"guidesHandler_selected"}):null,this.shouldShowSelectedGuide()?null:e.createElement(a.symbol,{key:"regular",name:"guidesHandler_regular"}))),this.getBubbleMode()?e.createElement(n.bubble,t.assign({},{ref:"bubble",key:"hoverBubble"},this.getBubbleProps())):null)}}),define("rEditor/rootComps/rulers/rulersComputations",["lodash","jquery"],function(e,t){function o(e,t,o,n,i){var a=0,r="vertical"===i?Math.floor(t.width/100):Math.round((t.height+t.y)/100);return e&&"horizontal"===i&&(r=Math.floor(o+n.top)/100),e||"horizontal"!==i||(a=Math.floor(t.y/100)+1),[a,r]}function n(e,t,n,i,a){for(var r=o(e,t,n,i,a),s=r[0],l=r[1],c=[],p=s;p<=l;p++)c.push(100*p);return c}function i(e,t,o,n){var i;return{vertical:{min:i=e?0:-t.x,max:e?t.width:n-t.x,minInView:i},horizontal:{min:e?0:u,max:o.maxBottomY+o.marginBottom,minInView:e?o.scrollTop:o.scrollTop+u}}}function a(e,t,o,n,a,r){var s=i(e,t,o,n);return s="vertical"===a?s.vertical:s.horizontal,r<s.min||r>s.max}function r(e,t,o,n,a,r){var s=i(e,t,o,n);return s="vertical"===a?s.vertical:s.horizontal,r<s.minInView||r>s.max}function s(e,t){return e?t?t.maxBottomY+t.marginBottom:0:"calc(100% - "+u+"px)"}function l(e,t){return e?t.width:"calc(100% - "+u+"px)"}function c(e,t,o){return"vertical"===t?o.pageX-e.getPreviewPosition().left-e.siteSegments.getPagesContainerAbsLayout().x:o.pageY-e.getPreviewPosition().top+e.site.getScroll().y}function p(e,t){var o=e.siteSegments.getPagesContainerAbsLayout();return e.isMobileEditor()?t:t+o.x}function d(e,o){return e-(t(o).offset().top-parseInt(t(o).css("top"),10))}var u=22;return{getRulerNumbers:n,isGuideOutOfLimits:a,isGuideOutOfViewLimits:r,getHorizontalTicksHeight:s,calcNewGuidePosition:c,calcHorizontalDraggingPosition:d,getVerticalTicksWidth:l,getVerticalGuidePosition:p}}),define("rEditor/rootComps/rulers/guide",["reactDOM","create-react-class","prop-types","lodash","baseUI","core","util","uiConstants","rEditor/rootComps/rulers/guide.rt","rEditor/rootComps/rulers/rulersComputations"],function(e,t,o,n,i,a,r,s,l,c){return t({displayName:"guide",mixins:[a.mixins.editorAPIMixin,r.draggableMixin],propTypes:{rulerDirection:o.string.isRequired,guidePosition:o.number.isRequired,guideId:o.string.isRequired,isSelected:o.bool,isGuideOutOfLimitsFunc:o.func.isRequired,isMouseOverRulers:o.bool,toolsHidden:o.bool,disableInteraction:o.bool,previewSize:o.object.isRequired},getInitialState:function(){return this.preventClickAfterDragEnd=!1,{isHoverBubble:!1,mouseOverGuide:!1,guidePosition:this.props.guidePosition,stepperSymbol:"guideToolTipTrash",stepperValueInvalid:!1,selectedDueToHoverBubbleClick:!1,isFirstRender:!0}},componentWillReceiveProps:function(e){this.isBeingDragged||this.setState({stepperValueInvalid:!1,guidePosition:e.guidePosition})},componentWillUpdate:function(e,t){!this.props.toolsHidden&&e.toolsHidden&&e.isSelected&&this.getEditorAPI().rulers.deselectGuide(),!this.state.isHoverBubble&&t.isHoverBubble&&this.getEditorAPI().rulers.sendBIEvent("GUIDE_TOOLTIP_APPEAR",{})},setGuideSelected:function(e){this.state.isFirstRender&&this.setState({isFirstRender:!1}),this.getEditorAPI().rulers.selectGuide(this.props.guideId,e),this.setState({stepperValueInvalid:!1,stepperSymbol:"guideToolTipTrash"})},shouldShowSelectedGuide:function(){return this.isBeingDragged||this.state.mouseOverGuide||this.props.isSelected},getGuideContainerStyle:function(){return"horizontal"===this.props.rulerDirection?{top:this.state.guidePosition}:{left:c.getVerticalGuidePosition(this.getEditorAPI(),this.state.guidePosition)}},getGuideStyle:function(){var e=this.getEditorAPI(),t=this.props.previewSize;if("horizontal"===this.props.rulerDirection){var o=t.width;return{left:-o,width:o}}return{height:e.isMobileEditor()?t.height+s.MOBILE_PREVIEW_TOP:t.height}},removeGuide:function(){this.getEditorAPI().rulers.removeGuideById(this.props.guideId)},onDragStart:function(){this.getEditorAPI().rulers.updateEditorRulersState("isDragging",!0),this.setState({stepperValueInvalid:!1,stepperSymbol:"guideToolTipTrash"})},getDragPosition:function(t){var o=e.findDOMNode(this);return"horizontal"===this.props.rulerDirection?c.calcHorizontalDraggingPosition(t.top,o):t.left-this.getEditorAPI().siteSegments.getPagesContainerAbsLayout().x},whileDrag:function(e){var t=this.getDragPosition(e);this.props.isGuideOutOfLimitsFunc(t)?this.endDrag():this.setState({guidePosition:t})},onDragEnd:function(e){var t=this.getEditorAPI();t.rulers.updateStateOnDragEnd(this.props.isMouseOverRulers);var o=this.getDragPosition(e);this.props.isGuideOutOfLimitsFunc(o)?(t.rulers.sendBIEvent("GUIDE_DELETED",{origin:"drag_outside"}),this.removeGuide()):(this.sendDragBIEvent(this.props.guidePosition,o),this.preventClickAfterDragEnd=!0,t.rulers.changeGuidePosition(this.props.rulerDirection,this.props.guideId,o))},getDragLimits:function(){return"horizontal"===this.props.rulerDirection?{lockedX:!0}:{lockedY:!0}},sendDragBIEvent:function(e,t){var o={xCoordinate_new:0,xCoordinate_old:0,yCoordinate_new:0,yCoordinate_old:0};"vertical"===this.props.rulerDirection?(o.xCoordinate_new=t,o.xCoordinate_old=e):(o.yCoordinate_new=t,o.yCoordinate_old=e),this.getEditorAPI().rulers.sendBIEvent("GUIDE_DRAGGED",o)},closeHoverBubble:function(){this.setState({isHoverBubble:!1})},deselectGuide:function(){this.isBeingDragged||this.getEditorAPI().rulers.deselectGuide()},onStepperValueChangeApproval:function(e){this.props.isGuideOutOfLimitsFunc(n.parseInt(e))||(this.getEditorAPI().rulers.changeGuidePosition(this.props.rulerDirection,this.props.guideId,n.parseInt(e)),this.setState({stepperSymbol:"smallVApproval"}),window.setTimeout(this.deselectGuide.bind(this),700))},onStepperSteppingValueChange:function(e){var t=n.parseInt(e),o=!this.props.isGuideOutOfLimitsFunc(t),i=this.props.guidePosition===e;this.sendStepperValueChangeBIEvent(e,o,i),this.setState({stepperValueInvalid:!o}),o?this.getEditorAPI().rulers.changeGuidePosition(this.props.rulerDirection,this.props.guideId,t):window.setTimeout(function(){this.setState({stepperValueInvalid:!1})}.bind(this),900)},sendStepperValueChangeBIEvent:function(e,t,o){var n;n=o?"no_change":t?"accepted":"denied";var i={type:this.props.rulerDirection,value:e,valid_value:n};this.getEditorAPI().rulers.sendBIEvent("VALUE_CHANGE_IN_GUIDE_TOOLTIP",i)},stepperSymbolClickFunc:function(){"guideToolTipTrash"===this.state.stepperSymbol&&(this.getEditorAPI().rulers.sendBIEvent("GUIDE_DELETED",{origin:"trash_icon"}),this.removeGuide())},stepperClick:function(){this.state.isHoverBubble?(this.setState({isHoverBubble:!1,stepperValueInvalid:!1,stepperSymbol:"guideToolTipTrash",selectedDueToHoverBubbleClick:!0}),this.setGuideSelected("click_on_tooltip")):this.setState({stepperValueInvalid:!1,stepperSymbol:"guideToolTipTrash"})},getStepperWithSVGProps:function(){return{showSymbol:this.props.isSelected&&!this.state.isFirstRender,stepperClickFunc:this.stepperClick,symbolClickFunc:this.stepperSymbolClickFunc,symbolName:this.state.stepperSymbol,stepperProps:{min:-99999,max:99999,step:1,selectedUnits:"px",units:"px",afterBlur:this.onStepperValueChangeApproval,isInvalidValue:this.state.stepperValueInvalid,valueLink:{value:this.state.guidePosition,requestChange:this.onStepperSteppingValueChange},dynamicInputSize:{characterWidth:10,minWidth:20},inputInFocus:this.state.selectedDueToHoverBubbleClick}}},getOverridePositionAdjustments:function(e){if("horizontal"!==this.props.rulerDirection)return{type:s.TOOLTIP.ALIGNMENT.TOP,value:"hover"===e?3:6}},getBubbleMode:function(){return this.props.isSelected&&!this.state.isFirstRender?"selected":this.state.isHoverBubble&&!this.props.toolsHidden?"hover":null},getHoverBubbleProps:function(){return{closeTrigger:[],hideMethod:this.closeHoverBubble,timeoutForMouseOverBubble:600,mouseLeftTargetNode:!this.isBeingDragged&&!this.state.mouseOverGuide,className:"hover-bubble"}},getSelectedBubbleProps:function(){return{closeTrigger:[s.TOOLTIP.TRIGGERS.OUTER_CLICK],hideMethod:this.deselectGuide,timeoutForMouseOverBubble:0,mouseLeftTargetNode:null,className:"selected-bubble"}},getBubbleProps:function(){var t=this.getBubbleMode(),o="hover"===t?this.getHoverBubbleProps():this.getSelectedBubbleProps(),n=this.getOverridePositionAdjustments(t),i="horizontal"===this.props.rulerDirection?5:-5,a="horizontal"===this.props.rulerDirection?s.TOOLTIP.ALIGNMENT.LEFT:s.TOOLTIP.ALIGNMENT.RIGHT;return{value:{classPath:"baseUI.stepperWithSVG",props:this.getStepperWithSVGProps()},styleType:s.TOOLTIP.STYLE_TYPE.NORMAL,alignment:a,noArrow:!0,targetNode:e.findDOMNode(this.refs.guide),closeTriggers:o.closeTrigger,hideMethod:o.hideMethod,marginsFromWindow:0,mouseLeftTargetNode:o.mouseLeftTargetNode,marginsFromElement:i,timeoutForMouseOverBubble:o.timeoutForMouseOverBubble,overridePositionAdjustments:n,customClasses:[o.className]}},onContainerMouseDown:function(e){e.stopPropagation(),this.props.toolsHidden||this.startDrag(e,this.getDragLimits())},onMouseLeave:function(){this.setState({mouseOverGuide:!1})},activateHoverBubble:function(){this.state.mouseOverGuide&&this.setState({isHoverBubble:!0,selectedDueToHoverBubbleClick:!1})},onMouseEnter:function(){!this.props.disableInteraction&&(!this.props.isSelected&&!this.props.toolsHidden||this.props.isSelected&&this.state.isFirstRender)&&(this.setState({mouseOverGuide:!0}),window.setTimeout(this.activateHoverBubble,500))},handleGuideClick:function(e){e.stopPropagation(),this.props.disableInteraction||this.props.toolsHidden||(this.state.isHoverBubble&&this.setState({isHoverBubble:!1}),this.preventClickAfterDragEnd?this.preventClickAfterDragEnd=!1:this.setGuideSelected("click_on_guide"))},render:l})}),define("rEditor/rootComps/rulers/rulers.rt",["react","lodash","core","util","rEditor/rootComps/rulers/guide"],function(e,t,o,n,i){return function(){function o(e){e.preventDefault()}function n(t,o){return e.createElement("div",{key:"number-"+t,className:"ruler-number"},t)}function a(t,o){return e.createElement(i,{key:t.guideId,rulerDirection:this.props.rulerDirection,guidePosition:t.guidePosition,guideId:t.guideId,isSelected:this.props.selectedGuide===t.guideId,isGuideOutOfLimitsFunc:this.isGuideOutOfLimits,isMouseOverRulers:this.isMouseOver,toolsHidden:this.props.toolsHidden,disableInteraction:this.props.isDragging,previewSize:this.props.previewSize})}return e.createElement.apply(this,["div",{className:t({rulers:!0,"mobile-editor-rulers":this.getEditorAPI().isMobileEditor(),"vertical-ruler":"vertical"===this.props.rulerDirection,"horizontal-ruler":"horizontal"===this.props.rulerDirection}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),ref:"rulerContainer",style:this.getRulersStyle(),onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onContextMenu:o.bind(this)},this.props.toolsHidden?null:e.createElement("div",{className:this.props.rulerDirection+"-ticks",key:this.props.rulerDirection+"-ruler"},this.getEditorAPI().isMobileEditor()||"vertical"!==this.props.rulerDirection?null:e.createElement("div",{className:"rulers-separator-blocker",key:"rulers-separator-blocker"}),this.getEditorAPI().isMobileEditor()||"horizontal"!==this.props.rulerDirection?null:e.createElement("div",{className:"rulers-separator "+t({"rulers-separator-hover":this.props.isHovered}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"rulers-separator"}),e.createElement("div",{className:"rulers-background "+t({"rulers-background-hover":this.props.isHovered,"rulers-background-mobile":this.getEditorAPI().isMobileEditor()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("div",{className:"rulers-"+this.props.rulerDirection+"-ticks",style:this.getTicksPositionInBackgroundStyle()}),e.createElement.apply(this,["div",{className:"ruler-numbers-container",style:this.getRulersNumbersStyle()},t.map(this.getRulerNumbers(),n.bind(this))]))),t.map(this.props.guidesInRuler,a.bind(this))])}}),define("rEditor/rootComps/rulers/rulers",["reactDOM","jquery","create-react-class","prop-types","lodash","baseUI","core","util","rEditor/rootComps/rulers/rulers.rt","rEditor/rootComps/rulers/rulersComputations"],function(e,t,o,n,i,a,r,s,l,c){return o({displayName:"rulers",mixins:[r.mixins.editorAPIMixin],propTypes:{rulerDirection:n.string.isRequired,guidesInRuler:n.array.isRequired,selectedGuide:n.string,isHovered:n.bool,previewHeight:n.number,toolsHidden:n.bool,selectedComponents:n.array,isDragging:n.bool,previewSize:n.object.isRequired},getInitialState:function(){return this.isMouseOver=!1,this.viewPort=r.utils.stageUtils.getViewPort(!0),this.verticalRulersComponentWidth=null,{}},componentWillMount:function(){var e=s.keyboardShortcuts.extendContext(s.keyboardShortcuts.CONTEXTS.EDITOR,this.getRulersKeyboardShortcuts());s.keyboardShortcuts.registerContext(s.keyboardShortcuts.CONTEXTS.RULERS,e),this.horizontalTicksHeight=c.getHorizontalTicksHeight(this.getEditorAPI().isMobileEditor(),this.viewPort)},componentDidMount:function(){"vertical"===this.props.rulerDirection&&(this.verticalRulersComponentWidth=this.getVerticalRulerWidth())},shouldComponentUpdate:function(e){!this.props.isHovered&&e.isHovered&&"vertical"===this.props.rulerDirection&&this.getEditorAPI().rulers.sendBIEvent("RULERS_HOVER",{});var t=this.viewPort;return this.viewPort=r.utils.stageUtils.getViewPort(!0),this.props.previewHeight!==e.previewHeight||t!==this.viewPort||!i.isEqual(e,this.props)},componentWillUpdate:function(){this.horizontalTicksHeight=c.getHorizontalTicksHeight(this.getEditorAPI().isMobileEditor(),this.viewPort)},componentDidUpdate:function(e){i.isEmpty(e.selectedComponents)&&!i.isEmpty(this.props.selectedComponents)&&this.props.selectedGuide&&this.getEditorAPI().rulers.deselectGuide(),"vertical"===this.props.rulerDirection&&(this.verticalRulersComponentWidth=this.getVerticalRulerWidth())},componentWillUnmount:function(){s.keyboardShortcuts.unregisterContext(s.keyboardShortcuts.CONTEXTS.RULERS)},getRulersKeyboardShortcuts:function(){return{"del,backspace":this.getEditorAPI().rulers.removeGuideViaDelBtn,"shift + right":i.partial(this.changeGuidePositionViaKeyboard,"vertical",10),"shift + left":i.partial(this.changeGuidePositionViaKeyboard,"vertical",-10),"shift + up":i.partial(this.changeGuidePositionViaKeyboard,"horizontal",-10),"shift + down":i.partial(this.changeGuidePositionViaKeyboard,"horizontal",10),left:i.partial(this.changeGuidePositionViaKeyboard,"vertical",-1),right:i.partial(this.changeGuidePositionViaKeyboard,"vertical",1),up:i.partial(this.changeGuidePositionViaKeyboard,"horizontal",-1),down:i.partial(this.changeGuidePositionViaKeyboard,"horizontal",1)}},changeGuidePositionViaKeyboard:function(e,t){var o=this.getEditorAPI(),n=o.rulers.getSelectedGuideData();this.isGuideOutOfLimits(n.guidePosition+t,!1,e)||o.rulers.changeGuidePositionByPixels(e,t)},getVerticalRulerWidth:function(){return this.refs.rulerContainer&&e.findDOMNode(this.refs.rulerContainer)&&e.findDOMNode(this.refs.rulerContainer).getBoundingClientRect()&&e.findDOMNode(this.refs.rulerContainer).getBoundingClientRect().width||0},getRulerNumbers:function(){var e=this.getEditorAPI(),t=e.siteSegments.getPagesContainerAbsLayout(),o=e.editorConfig.previewHeight;return c.getRulerNumbers(e.isMobileEditor(),t,o,e.getPreviewPosition(),this.props.rulerDirection)},getRulersNumbersStyle:function(){var e=this.getEditorAPI(),t=e.siteSegments.getPagesContainerAbsLayout();return"vertical"===this.props.rulerDirection?{left:e.isMobileEditor()?4:t.x+4}:{top:e.isMobileEditor()?1:100*Math.floor(t.y/100)+80+1}},getRulersStyle:function(){if("vertical"===this.props.rulerDirection){var e=this.getEditorAPI(),t=e.siteSegments.getPagesContainerAbsLayout(),o={width:c.getVerticalTicksWidth(e.isMobileEditor(),t)};return e.isMobileEditor()&&(o.left=t.x),o}return{height:this.horizontalTicksHeight}},getTicksPositionInBackgroundStyle:function(){var e=this.getEditorAPI();if("vertical"===this.props.rulerDirection){var t=e.siteSegments.getPagesContainerAbsLayout();return{backgroundPosition:e.isMobileEditor()?0:t.x+1}}return e.isMobileEditor()?{backgroundPosition:"5px 0"}:{backgroundPosition:"5px -21px"}},isGuideOutOfLimits:function(e,t,o){var n=this.getEditorAPI(),i=n.siteSegments.getPagesContainerAbsLayout();return o=o||this.props.rulerDirection,t?c.isGuideOutOfViewLimits(n.isMobileEditor(),i,this.viewPort,this.verticalRulersComponentWidth,o,e,t):c.isGuideOutOfLimits(n.isMobileEditor(),i,this.viewPort,this.verticalRulersComponentWidth,o,e,t)},handleMouseEnter:function(e){t(e.target).hasClass("vertical-guide")||t(e.target).hasClass("horizontal-guide")||(this.isMouseOver=!0,this.getEditorAPI().rulers.updateEditorRulersState("isHovered",!0))},handleMouseLeave:function(){this.isMouseOver=!1,this.props.isDragging||this.getEditorAPI().rulers.updateEditorRulersState("isHovered",!1)},handleMouseDown:function(e){if(i.includes(["rulers-vertical-ticks","rulers-horizontal-ticks","ruler-number","ruler-numbers-container"],e.target.className)){var t=c.calcNewGuidePosition(this.getEditorAPI(),this.props.rulerDirection,e);this.isGuideOutOfLimits(t,!0)||this.setNewGuide(t)}},setNewGuide:function(e){var t=this.getEditorAPI(),o={};"vertical"===this.props.rulerDirection?(t.rulers.setVerticalGuide(e),o={xCoordinate:e,yCoordinate:0}):(t.rulers.setHorizontalGuide(e),o={xCoordinate:0,yCoordinate:e}),this.getEditorAPI().rulers.sendBIEvent("RULERS_CLICKED",o)},render:l})}),define("rEditor/rootComps/mobileFrame/mobileFrame.rt",["react","lodash"],function(e,t){return function(){return e.createElement("div",{className:t({"mobile-frame":!0,previewMode:this.props.previewMode}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:this.getFrameStyle()},e.createElement("div",{className:"block-layer bottom"}),e.createElement("div",{className:"mobile-frame-top"}),e.createElement("div",{className:"site-shadow",key:"mobile-site-shadow"}),e.createElement("div",{className:"mobile-frame-bottom"}))}}),define("rEditor/rootComps/mobileFrame/mobileFrame",["lodash","create-react-class","prop-types","reactDOM","higherOrderComponents","rEditor/rootComps/mobileFrame/mobileFrame.rt"],function(e,t,o,n,i,a){var r=t({displayName:"mobileFrame",propTypes:{displayShadow:o.bool,siteScale:o.number,previewMode:o.bool.isRequired,refreshMobileFramePosition:o.func,siteX:o.number},componentDidMount:function(){this.updateMobileFramePosition()},componentDidUpdate:function(){this.updateMobileFramePosition()},updateMobileFramePosition:function(){e(n.findDOMNode(this).getBoundingClientRect()).pick(["top","left","height","width"]).thru(this.props.refreshMobileFramePosition).value()},getFrameStyle:function(){var e={left:this.props.siteX};return this.props.previewMode||1===this.props.siteScale||(e.height=Math.round(100/this.props.siteScale)+"%",e.transform="scale("+this.props.siteScale+")"),e},render:a});return i.renderWhenMutated(r)}),define("rEditor/utils/mouseMoveActions/baseSpace",["lodash","core","constants"],function(e,t,o){function n(t,o){c=t,s=o.compsToPush,l=o.snapThreshold||0;var n=e.map(s,"id");c.renderPlugins.setCompsToShowOnTop(n);var i=e.omit(c.components.layout.getRelativeToScreen(s),"bounding"),a=e.map(s,function(t){return e.omit(c.components.layout.getRelativeToScreen(t),"bounding")});d=o.minY,u=o.onSpaceEnd,m=o.onSpace;var p={x:o.evt.pageX,y:o.evt.pageY};r=new g.Drag(i,p,a)}function i(t){var o={x:t.pageX,y:t.pageY},n=r.getLayout(o);n.y=Math.max(n.y,d),n.y-l<=d&&(n.y=d),p=r.getBoundComponentLayouts(n);for(var i=0;i<s.length;i++)c.components.layout.updateRelativeToScreenAndAdjustLayout(s[i],e.pick(p[i],"y"));e.isFunction(m)&&m(o.x,o.y)}function a(){if(p){for(var t=0;t<s.length;t++)c.components.layout.updateRelativeToScreen(s[t],e.pick(p[t],"y"));p=null}c.renderPlugins.setCompsToShowOnTop(null),e.isFunction(u)&&u()}var r,s,l,c,p,d,u,m,g=t.utils.layoutTransitionsUtil;return{start:n,on:i,end:a,type:o.MOUSE_ACTION_TYPES.SPACER}}),define("rEditor/rootComps/sectionsReorganize/sectionControlsButton.rt",["react","lodash","baseUI"],function(e,t,o){return function(){function t(){this.onClick()}return e.createElement(o.tooltip,{value:this.props.tooltip,styleType:"small",disabled:!this.props.tooltip},e.createElement("div",{className:"section-controls-button "+(this.props.label?"with-label":"")+" "+(this.props.isDisabled?"disabled":""),onClick:t.bind(this),onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},e.createElement(o.symbol,{name:this.props.symbol}),e.createElement("span",{},this.props.label)))}}),define("rEditor/rootComps/sectionsReorganize/sectionControlsButton",["create-react-class","prop-types","lodash","rEditor/rootComps/sectionsReorganize/sectionControlsButton.rt"],function(e,t,o,n){return e({displayName:"sectionControlsButton",propTypes:{onClick:t.func,tooltip:t.string,symbol:t.string.isRequired,isDisabled:t.bool},onClick:function(){this.isDisabled||this.props.onClick()},render:n})}),define("rEditor/rootComps/sectionsReorganize/sectionControls.rt",["react","lodash","uiConstants","baseUI","util","rEditor/rootComps/sectionsReorganize/sectionControlsButton"],function(e,t,o,n,i,a){return function(){function r(){var r=this.getSectionStyle();return e.createElement("div",{className:t(this.getSectionControlsClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),style:r},e.createElement("div",{className:"highlight "+(this.props.isDragging?"with-shadow":""),style:this.getHighlightStyle(),onMouseDown:this.props.onDragHandleMouseDown}),this.shouldDisplayReorderButtons()?e.createElement("div",{key:"reorder-buttons",className:"section-buttons-wrapper",style:this.getButtonsWrapperStyle()},e.createElement("div",{className:"section-buttons"},e.createElement(a,t.assign({},{onClick:this.props.onUpClicked,tooltip:"ZoomOut_Section_Tooltip_Move_Up",symbol:"sectionMoveUp",",":!0,isDisabled:this.props.isFirstSection},this.getControlButtonProps())),e.createElement(a,t.assign({},{onClick:this.props.onDownClicked,tooltip:"ZoomOut_Section_Tooltip_Move_Down",symbol:"sectionMoveDown",isDisabled:this.props.isLastSection,",":!0},this.getControlButtonProps())),this.props.isMobileEditor?null:e.createElement(a,t.assign({},{key:"duplicate_btn",onClick:this.props.onDuplicateClicked,tooltip:"ZoomOut_Section_Tooltip_Copy_Section",symbol:"sectionDuplicate"},this.getControlButtonProps())),e.createElement(a,t.assign({},{onClick:this.props.onDeleteClicked,tooltip:this.props.isMobileEditor?"ZoomOut_Section_Tooltip_Hide_Section":"ZoomOut_Section_Tooltip_Delete_Section",symbol:this.props.isMobileEditor?"sectionMobileHide":"sectionDelete"},this.getControlButtonProps())))):null,this.props.isGap&&!this.props.isInCropMode?e.createElement("div",{key:"gap-delete",className:"section-buttons-wrapper",style:this.getButtonsWrapperStyle()},e.createElement("div",{className:"section-buttons"},e.createElement(a,t.assign({},{onClick:this.props.onDeleteClicked,symbol:"sectionDelete",label:i.translate("ZoomOut_Delete_Space_Tooltip")},this.getControlButtonProps())))):null,this.props.isHeader||this.props.isFooter?e.createElement("div",{key:"header-footer-info",className:"section-buttons-wrapper",style:this.getButtonsWrapperStyle()},e.createElement("div",{className:"section-buttons"},this.props.isHeader?e.createElement(n.tooltip,{key:"header-info",value:"ZoomOut_Header_Tooltip",styleType:"small",alignment:o.TOOLTIP.ALIGNMENT.BOTTOM},e.createElement("div",{className:"header-footer-info",onMouseEnter:this.onHeaderOver},e.createElement(n.symbol,{name:"infoIcon",className:"info-icon"}),e.createElement("span",{className:"info-text"},i.translate("ZoomOut_Header")))):null,this.props.isFooter?e.createElement(n.tooltip,{key:"footer-info",value:"ZoomOut_Footer_Tooltip",styleType:"small",alignment:o.TOOLTIP.ALIGNMENT.TOP},e.createElement("div",{className:"header-footer-info",onMouseEnter:this.onFooterOver},e.createElement(n.symbol,{name:"infoIcon",className:"info-icon"}),e.createElement("span",{className:"info-text"},i.translate("ZoomOut_Footer")))):null)):null)}return r.apply(this,[])}}),define("rEditor/rootComps/sectionsReorganize/sectionControls",["create-react-class","prop-types","lodash","core","rEditor/rootComps/sectionsReorganize/sectionControls.rt"],function(e,t,o,n,i){return e({displayName:"sectionControls",propTypes:{isMobileEditor:t.bool,layout:t.object.isRequired,siteScale:t.number.isRequired,showDragHighlight:t.bool,isDragging:t.bool,isGap:t.bool,isSpacing:t.bool,isHeader:t.bool,isFooter:t.bool,isInCropMode:t.bool,onDragHandleMouseDown:t.func,onUpClicked:t.func,onDownClicked:t.func,onDuplicateClicked:t.func,onDeleteClicked:t.func},getDefaultProps:function(){return{isMobileEditor:!1,showDragHighlight:!1}},getInitialState:function(){return{isHoveringControlButton:!1}},componentWillMount:function(){this._setControlButtonHoverState=o.debounce(this.setControlButtonHoverState,100),this.throttledBi=o.throttle(this.bi,50,{leading:!1,trailing:!0})},getSectionControlsClasses:function(){return{"section-controls":!0,"show-highlight":this.props.showDragHighlight||this.state.isHoveringControlButton,"no-drag-handle":this.state.isHoveringControlButton||this.props.isSpacing,"header-footer-blocker":this.props.isHeader||this.props.isFooter}},getSectionStyle:function(){return{top:this.props.layout.y*this.props.siteScale,height:this.props.layout.height*this.props.siteScale}},getHighlightStyle:function(){var e={width:"calc("+(this.props.isMobileEditor?"320px":"100%")+" * "+this.props.siteScale+" + 2px)"};return 1===this.props.siteScale&&(e.pointerEvents="none"),e},setControlButtonHoverState:function(e){this.state.isHoveringControlButton!==e&&this.setState({isHoveringControlButton:e})},shouldDisplayReorderButtons:function(){return!(this.props.isHeader||this.props.isFooter||this.props.isGap||this.props.isDragging||this.props.isInCropMode)},getControlButtonProps:function(){var e=this;return{onMouseEnter:function(){e._setControlButtonHoverState(!0)},onMouseLeave:function(){e._setControlButtonHoverState(!1)}}},getButtonsWrapperStyle:function(){var e="calc(25% + 100% * "+this.props.siteScale+" + 36px)";return this.props.isMobileEditor&&(e="calc(50% + 320px / 2 * "+this.props.siteScale+" + 36px)"),{height:this.props.layout.height*this.props.siteScale,left:e}},bi:function(e){this.props.editorAPI.bi.event(e,{editor_view_mode:this.props.editorAPI.getDeviceType()})},onHeaderOver:function(){this.throttledBi(n.bi.events.sectionReorganize.header_tooltip_hover)},onFooterOver:function(){this.throttledBi(n.bi.events.sectionReorganize.footer_tooltip_hover)},render:i})}),define("rEditor/rootComps/sectionsReorganize/sectionsReorganize.rt",["react","lodash","baseUI","rEditor/rootComps/sectionsReorganize/sectionControls"],function(e,t,o,n){return function(){function i(t,o,n,i,a){return e.createElement("line",{key:"separator-"+a,className:"section-separator",x1:i.x1,x2:i.x2,y1:i.y,y2:i.y})}function a(){var a=this.getSections(),r=this.getSpacerProps(a),s=this.getSectionControlsProps(a,r);return e.createElement("div",{className:"sections-reorganize-exp"},e.createElement.apply(this,["svg",{className:"section-separators"},t.map(this.getSeparatorLines(a),i.bind(this,a,r,s))]),s&&!this.state.isSpacing?e.createElement(n,t.assign({},{key:s.layout.y+"_"+s.layout.height,isMobileEditor:this.props.isMobileEditor},s)):null,!r||this.props.isMobileEditor&&1===this.props.siteScale?null:e.createElement(o.tooltip,{key:"spacer_tooltip",id:"zoom_mode_spacer_id",value:"ZoomOut_Change_Space_Tooltip",alignment:o.uiConstants.TOOLTIP.ALIGNMENT.CENTER,delay:"0",disabled:this.state.isSpacing},e.createElement("div",{key:"spacer",className:"spacer-handle",style:r.style,onMouseDown:r.onMouseDown},e.createElement(o.symbol,{name:"spacerHandleDots"}))))}return a.apply(this,[])}}),define("rEditor/rootComps/sectionsReorganize/sectionsReorganize",["lodash","create-react-class","prop-types","core","util","baseUI","rEditor/utils/mouseMoveActions/baseSpace","rEditor/rootComps/sectionsReorganize/sectionsReorganize.rt"],function(e,t,o,n,i,a,r,s){function l(e){return e.siteSegments.getPagesContainerAbsLayout().y}function c(e,t,o){return t>=e.left&&t<=e.right&&o>=e.top&&o<=e.bottom}function p(e,t,o){var i;if(o)i=320*t;else{var a=n.utils.stageUtils.getStageRect();i=(a.right-a.left)*t}return e.x*t>=i}function d(e,t,o){var i;if(o)i=320*t;else{var a=n.utils.stageUtils.getStageRect();i=(a.right-a.left)*t}return e.x*t<=i}function u(t){if(this.props.selectedSection)return e.find(t,e.bind(function(t){return e.isEqual(t.comps,this.props.selectedSection.comps)},this));var o=this.state.stageMousePosition;if(o)for(var n=0;n<t.length;n++)if(o.y>=t[n].position.top&&o.y<=t[n].position.bottom)return t[n];return null}function m(e){if(this.props.selectedSection)return-1;var t=this.state.stageMousePosition;if(t)for(var o=0;o<e.length-1;o++)if(t.y>e[o].position.bottom&&t.y<e[o+1].position.top)return o;return-1}function g(t){return this.props.selectedSection&&e.isEqual(t.comps,this.props.selectedSection.comps)}function f(e){if(!this.state.stageMousePosition)return!1;var t=this.state.stageMousePosition.y;return t>=e.position.top&&t<=e.position.bottom}function h(e){return f.call(this,e)&&p(this.state.stageMousePosition,this.props.siteScale,this.props.isMobileEditor)}function b(t,o){if(this.state.isSpacing&&this.props.selectedSection)return e.findIndex(t,e.bind(g,this));for(var n=0;n<t.length;n++){var i=n>0?t[n-1]:null;if(o.y<=t[n].position.top+I&&(!i||o.y>i.position.top+I))return n}return-1}function y(e){return!(e.isCurrentPageLandingPage()||e.documentServices.pages.popupPages.isPopupOpened())}function P(t,o){var i=e.clone(t),a=[];if(y(o)){var r=n.utils.sectionsReorganizeUtil.getHeaderSection(o);i.unshift(r)}for(var s=0;s<i.length;s++){var l=i[s],c=s>0?i[s-1]:null;c&&c.position.bottom<l.position.top&&a.push(l.position.top),a.push(l.position.bottom)}return a}function v(t,o){function i(e){p.bi.event(_.reorder_panel_clicked,{editor_view_mode:p.getDeviceType(),action_clicked:e})}if(!t||o&&o.isSpacerHovered)return null;var a=u.call(this,t);if(!a)return null;var r=e.findIndex(t,a),s=g.call(this,a),l=1!==this.props.siteScale,c=this,p=c.getEditorAPI();return{section:a,siteScale:this.props.siteScale,layout:this.getSectionLayout(a),showDragHighlight:!this.props.isMobileEditor||l,isDragging:s,isInZoomMode:p.zoomMode.isInZoomMode(),isInCropMode:p.imageCrop.isCropMode(),isSpacing:this.state.isSpacing,tooltipId:"reorganize-section-tooltip",isFirstSection:0===r,isLastSection:r===t.length-1,onDragHandleMouseDown:function(e){c.startSectionDrag(e,t,a)},onDuplicateClicked:function(){n.utils.sectionsReorganizeUtil.duplicateSection(p,t,e.findIndex(t,a)),i("duplicate")},onDeleteClicked:function(){n.utils.sectionsReorganizeUtil.deleteSection(p,t,e.findIndex(t,a)),p.history.add("Delete Section"),i("delete")},onUpClicked:function(){c.shiftSection(t,a,-1),i("up")},onDownClicked:function(){c.shiftSection(t,a,1),i("down")}}}function E(e,t){return t.y>=e.y&&t.y<=e.y+e.height}function S(e,t){var o=n.utils.sectionsReorganizeUtil.getHeaderSection(e);return t.unshift(o),t}function T(t){if(!t)return null;var o=e.clone(t),n=this.getEditorAPI();o=S(n,o);var i=m.call(this,o);if(-1===i)return null;var a={y:o[i].position.bottom,height:o[i+1].position.top-o[i].position.bottom};return{isGap:!0,isInCropMode:n.imageCrop.isCropMode(),layout:a,siteScale:this.props.siteScale,onDeleteClicked:function(){this.closeGapBetweenSections(o,i)}.bind(this)}}function C(){var t=this.state.stageMousePosition;if(!t)return null;var o=this.getEditorAPI();if(!y(o))return null;var n,i=o.components.layout.getRelativeToScreen(o.documentServices.siteSegments.getHeader()),a=o.components.layout.getRelativeToScreen(o.documentServices.siteSegments.getFooter());return E(i,t)?n={layout:i,isHeader:!0,editorAPI:o}:E(a,t)&&(n={layout:a,isFooter:!0,editorAPI:o}),n?e.assign(n,{siteScale:this.props.siteScale}):null}var I=30,_=n.bi.events.sectionReorganize;return t({displayName:"sectionsReorganize",propTypes:{isMobileEditor:o.bool.isRequired,sections:o.array.isRequired,selectedSection:o.object,isSectionDragging:o.bool,isCompDragging:o.bool,stageLayout:o.object.isRequired,siteScale:o.number.isRequired},mixins:[n.mixins.editorAPIMixin],getInitialState:function(){return{isSpacing:!1,stageMousePosition:null}},componentDidMount:function(){this._throttledUpdateMousePosition=e.throttle(this.updateMousePosition,100),window.addEventListener("mousemove",this._throttledUpdateMousePosition)},componentWillUnmount:function(){window.removeEventListener("mousemove",this._throttledUpdateMousePosition)},updateMousePosition:function(t){if(c(n.utils.stageUtils.getStageLayout(),t.clientX,t.clientY)){var o,i=this.getEditorAPI();t=e.pick(t,["clientX","clientY","pageX","pageY"]);var a=n.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(i,t);o={x:a.pageX,y:a.pageY},this.setState({stageMousePosition:o})}else this.state.stageMousePosition&&this.setState({stageMousePosition:null})},getSections:function(){return this.props.sections?this.props.sections:n.utils.sectionsReorganizeUtil.getPageSections(this.getEditorAPI())},getSectionControlsProps:function(e,t){return C.call(this)||T.call(this,e)||v.call(this,e,t)},getSpacerProps:function(t){if((this.props.isCompDragging||this.props.isSectionDragging)&&!this.state.isSpacing)return null;var o=this.state.stageMousePosition;if(!t||!o)return null;var n=b.call(this,t,o),i=d(this.state.stageMousePosition,this.props.siteScale,this.props.isMobileEditor),r=u.call(this,t),s=e.findIndex(t,r),l=!!r&&h.call(this,r);if(-1===n||!i||l)return null;var c=this,p=this.props.isMobileEditor?"320px":"100%";return{style:{top:this.getSectionLayout(t[n]).y*this.props.siteScale,width:"calc("+p+" * "+this.props.siteScale+" + 2px)"},onMouseDown:function(e){a.tooltipManager.hide("zoom_mode_spacer_id"),c.startSpacing(e,t,n)},isSpacerHovered:n===s}},getSeparatorLines:function(t){var o=P(t,this.getEditorAPI()),n=this.props.stageLayout,a=i.uiUtils.getScrollbarWidth(),r=(n.width-a)*this.props.siteScale;this.props.isMobileEditor&&(r=320*this.props.siteScale);var s=(n.width-a-r)/2;return e.flatMap(o,e.bind(function(e){return e*=this.props.siteScale,[{x1:s-234,x2:s,y:e},{x1:s+r,x2:s+r+234,y:e}]},this))},closeGapBetweenSections:function(e,t){for(var o=this.getEditorAPI(),i=e[t+1].position.top-e[t].position.bottom,a=t+1;a<e.length;a++)n.utils.sectionsReorganizeUtil.shiftSection(o,e[a],-1*i);o.bi.event(_.SPACE_DELETED,{site_id:o.documentServices.generalInfo.getSiteId(),page_id:o.documentServices.pages.getFocusedPageId(),space_size:i}),o.history.add("Delete Space")},shiftSection:function(t,o,i){var a=e.findIndex(t,o)+i;if(!(a<0||a>=t.length)){var r=o,s=t[a];-1===i&&(r=t[a],s=o),n.utils.sectionsReorganizeUtil.switchSections(this.getEditorAPI(),t,r,s),this.getEditorAPI().history.add("Move Section")}},startSectionDrag:function(e,t,o){var i=this.getEditorAPI();i.setPageSections(t,o),i.mouseActions.registerMouseMoveAction(n.utils.sectionDrag,{sections:t,evt:e,minY:l(i),draggedSection:o,onDragEnd:this.onSectionDragEnd.bind(this,o,o.position.top)},!0)},onSectionDragEnd:function(e,t){var o=this.getEditorAPI();e=this.props.selectedSection||e,o.bi.event(_.REORDER_SECTION,{page_id:o.documentServices.pages.getFocusedPageId(),position_before:t,position_after:e.position.top,section_size:n.utils.sectionsReorganizeUtil.getSectionSizeForBI(e.position.bottom-e.position.top)}),o.clearPageSections()},startSpacing:function(t,o,n){for(var i=this.getEditorAPI(),a=[],s=n;s<o.length;s++)a=a.concat(o[s].comps);if(!e.isEmpty(a)){var l=0===n?0:o[n-1].position.bottom;i.mouseActions.registerMouseMoveAction(r,{evt:t,minY:l,snapThreshold:Math.round(5/this.props.siteScale),compsToPush:a,onSpaceEnd:this.onSpaceEnd}),this.setState({isSpacing:!0}),i.setPageSections(o,o[n]),i.bi.event(_.zoom_mode_spacer_drag)}},onSpaceEnd:function(){this.getEditorAPI().clearPageSections(),this.setState({isSpacing:!1}),this.getEditorAPI().history.add("Change Sections Space")},getSectionLayout:function(t){if(t.layout)return t.layout;if((this.props.isSectionDragging||this.state.isSpacing)&&!e.isEmpty(t.comps)){var o=this.getEditorAPI().components.layout.getRelativeToScreen(t.comps);return o.bounding||o}return{y:t.position.top,height:t.position.bottom-t.position.top}},render:s})}),define("rEditor/rootComps/pinMode/pinMode.rt",["react","lodash"],function(e,t){return function(){return e.createElement("div",{className:"pin-mode"},e.createElement("div",{className:"preview-rect",style:this.props.style}),e.createElement("div",{className:"blocking-layer",onClick:this.exitPinMode}))}}),define("rEditor/rootComps/pinMode/pinMode",["create-react-class","core","lodash","rEditor/rootComps/pinMode/pinMode.rt"],function(e,t,o,n){return e({displayName:"pinMode",mixins:[t.mixins.editorAPIMixin],render:n,exitPinMode:function(){this.getEditorAPI().pinMode.closeAndCheckSizeRestrictions()}})}),define("rEditor/rootComps/stage/editorStage.rt",["react","lodash","rEditor/rootComps/mouseCatcher","rEditor/rootComps/textEditor","core","util","uiAnimations","rEditor/rootComps/gridLines/gridLines","rEditor/rootComps/rulers/rulers","rEditor/rootComps/mobileFrame/mobileFrame","rEditor/rootComps/sectionsReorganize/sectionsReorganize","rEditor/rootComps/pinMode/pinMode","experiment"],function(e,t,o,n,i,a,r,s,l,c,p,d,u){return function(){function u(t,o){var n=a.translate;return e.createElement("div",{key:"teaser",className:"mobile-optimized-teaser"},e.createElement("h1",{},n("mobile_view_notification_title")),"\n                        ",n("mobile_view_notification_text"),"\n                        ",e.createElement("a",{onClick:this.openEditorModePanel},n("mobile_view_notification_text_link")),"\n                        ",n("mobile_view_notification_text2"),"\n                    ")}function m(){var m=this.getGuides(),g=this.getEditorAPI();return e.createElement("div",{className:t({"editor-stage":!0,"tools-hidden":this.props.isReorganizeHidden}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),id:this.props.id},g.isMobileEditor()?e.createElement(c,{key:"mobileFrame",ref:"mobileFrame",siteScale:this.props.siteScale,displayShadow:!this.isSectionDragging(),previewMode:this.props.previewMode,refreshMobileFramePosition:g.refreshMobileFramePosition,siteX:g.site.getXPos()}):null,e.createElement("div",{className:"scrollable-editor-stage "+(this.isSiteScrollingEnabled()?"":"scrolling-disabled"),ref:"scrollableEditorStage",id:"scrollableEditorStage",onScroll:this._handleScroll},e.createElement("div",{ref:"siteCover",className:"site-cover",style:{height:this.getStageHeight()}},this.isGridLinesVisible()?e.createElement("div",{className:"gridLines",key:"gridLines"},this.isPageGridLinesVisible()?e.createElement(s,{key:"pageGridLines",gridLines:this.getPageGridLines(),fade:this.shouldFadeGridLines()}):null,g.components.is.showMarginsIndicator(this.props.focusedContainer)?e.createElement(s,{key:"containerGridLines",gridLines:this.getContainerGridLines()}):null):null,e.createElement("div",{className:"scalable",style:this.getScalableAreaStyle()},this.props.previewMode||!this.props.editorIsInit||this.props.imageCrop.isOn?null:e.createElement(o,{ref:"mouseCatcher",key:"mouseCatcher",config:this.props.config,attachCandidate:this.props.attachCandidate,onContextMenu:this.props.onContextMenu,editorIsInit:this.props.editorIsInit,isSectionDragging:this.isSectionDragging(),isDragging:this.isDragging(),isResizing:this.isResizing(),isRotating:this.isRotating(),isPinMode:this.props.isPinMode,performingMouseMoveAction:this.props.performingMouseMoveAction,registeredMouseMoveAction:this.props.registeredMouseMoveAction,hoveredComp:this.props.hoveredComp,hoverBoxOverlay:this.props.hoverBoxOverlay,setHoverBox:this.props.setHoverBox,clearHoverBox:this.props.clearHoverBox,selectedComponents:g.selection.getSelectedComponents(),focusedContainer:this.props.focusedContainer,compPanel:this.props.panel,previewPosition:this.props.previewPosition,previewMode:this.props.previewMode,siteScale:this.props.siteScale,snapData:this.props.snapData,applyModeFromClipboardSuggestion:this.props.applyModeFromClipboardSuggestion,tabIndicationState:this.props.tabIndicationState,lastSelectionClickPos:this.props.lastSelectionClickPos,lassoCandidates:this.props.lassoCandidates,lassoLayout:this.props.lassoLayout,constraintArea:this.props.constraintArea}),this.props.imageCrop.isOn?e.createElement(i.lazyComponent,t.assign({},{moduleName:"imageCrop.layer",key:"imageCrop"},{imageCropData:this.props.imageCrop,imageComponent:this.getImageComponent()})):null,e.createElement(n,{key:"textEditorNew",isOpenTextEditor:this.props.isOpenTextEditor,openPanels:this.props.openPanels,selectedTextComp:this.getSelectedTextComp(),layout:this.getTextEditorPosition(),isResizing:this.isResizing()}),this.props.viewTools.rulersEnabled&&1===this.props.siteScale&&g.isPreviewReady()?e.createElement(l,{key:"rulers",rulerDirection:"horizontal",previewHeight:this.getStageHeight(),guidesInRuler:m.horizontalGuides,selectedGuide:this.props.viewTools.rulers.selectedGuide,isHovered:this.props.viewTools.rulers.isHovered,toolsHidden:this.props.hideTools,selectedComponents:this.props.selectedComponents,isDragging:this.props.viewTools.rulers.isDragging,previewSize:this.props.previewPosition}):null),e.createElement("div",{className:"non-scalable"},1!==this.props.siteScale?e.createElement("div",{className:"block-layer",key:"block-layer"},e.createElement("div",{className:"side left transition",style:this.getSideBlockLayerStyle()}),e.createElement("div",{className:"side right transition",style:this.getSideBlockLayerStyle()}),g.isMobileEditor()?null:e.createElement("div",{key:"block-layer-bottom",className:"side bottom",style:{height:"calc(100% - "+this.getSideBlockLayerHeight()+"px)"}}),this.isSectionDragging()||g.isMobileEditor()?null:e.createElement("div",{key:"scaled-site-shadow",className:"shadow",style:this.getBlockShadowStyle()})):null,!this.props.editorIsInit||this.props.isPinMode||this.props.isPopupMode||!g.isMobileEditor()&&1===this.props.siteScale?null:e.createElement(p,{key:"sectionsReorganize",ref:"sectionsReorganize",isMobileEditor:g.isMobileEditor(),sections:this.props.pageSections.sections,selectedSection:this.props.pageSections.selectedSection,isSectionDragging:this.isSectionDragging(),isCompDragging:this.isDragging(),siteScale:this.props.siteScale,isHidden:this.props.isReorganizeHidden,halfOpacityTools:this.props.halfOpacityTools,stageLayout:g.ui.stage.getEditingAreaLayout()})))),e.createElement("div",{className:"fixed-editor-stage",style:{width:"calc(100% - "+a.uiUtils.getScrollbarWidth()+"px)"}},e.createElement("div",{className:"fixed-editor-stage-contents-wrapper "+(1!==this.props.siteScale?"no-pointer-events":"")},e.createElement("div",{className:"scalable",style:this.getScalableAreaStyle()},this.props.isPinMode?e.createElement(d,{ref:"pinMode",key:"pinMode",style:this.props.pinPreviewRectStyle}):null,this.props.viewTools.rulersEnabled&&1===this.props.siteScale?e.createElement(l,{key:"rulers",rulerDirection:"vertical",guidesInRuler:m.verticalGuides,selectedGuide:this.props.viewTools.rulers.selectedGuide,isHovered:this.props.viewTools.rulers.isHovered,toolsHidden:this.props.hideTools,isDragging:this.props.viewTools.rulers.isDragging,previewSize:this.props.previewPosition}):null),e.createElement("div",{className:"non-scalable"},g.isMobileEditor()?e.createElement("div",{key:"mobileOpacityLayer",className:"mobile-frame-opacity-layer"}):null,e.createElement(r.panelsAnimation,{},this.shouldDisplayMobileOptimizedTeaser()&!g.zoomMode.isInZoomMode()?u.apply(this,[m,g]):null)))))}return m.apply(this,[])}}),define("rEditor/rootComps/stage/editorStage",["reactDOM","lodash","create-react-class","prop-types","core","uiAnimations","constants","rEditor/rootComps/stage/editorStage.rt","experiment"],function(e,t,o,n,i,a,r,s,l){function c(e,t){if(!t)return!1;if(1!==t.length)return!1;var o=t[0],n=e.components.data.get(o);return"StyledText"===(n&&n.type)}function p(e,t){if(t&&1===t.length){var o=t[0];if("Image"===e.components.data.get(o).type)return o}return null}var d=[r.MOUSE_ACTION_TYPES.RESIZE,r.MOUSE_ACTION_TYPES.RESIZE_PUSH,r.MOUSE_ACTION_TYPES.RESIZE_CROP,r.MOUSE_ACTION_TYPES.RESIZE_PAGE],u=[r.MOUSE_ACTION_TYPES.DRAG,r.MOUSE_ACTION_TYPES.DRAG_PUSH];return o({displayName:"EditorStage",mixins:[i.mixins.editorAPIMixin],propTypes:{editorIsInit:n.bool.isRequired,guidesState:n.object,onStageScroll:n.func,previewPosition:n.object,viewTools:n.object.isRequired,focusedContainer:n.object,imageCrop:n.object.isRequired,hideTools:n.bool.isRequired,previewMode:n.bool.isRequired,pinPreviewRectStyle:n.object.isRequired,isOpenTextEditor:n.bool.isRequired,selectedComponents:n.array,isPinMode:n.bool,attachCandidate:n.object,siteScale:n.number.isRequired,snapData:n.array,applyModeFromClipboardSuggestion:n.object,tabIndicationState:n.object.isRequired,lastSelectionClickPos:n.object,lassoCandidates:n.array,lassoLayout:n.object,constraintArea:n.object,hoveredComp:n.object,hoverBoxOverlay:n.bool,setHoverBox:n.func.isRequired,clearHoverBox:n.func.isRequired,scrollTo:n.shape({scrollTop:n.number,scrollLeft:n.number}),animateScrollTo:n.shape({position:n.shape({y:n.number,x:n.number}).isRequired,duration:n.number,onComplete:n.func}),openPanels:n.array.isRequired},componentWillReceiveProps:function(){this.props.hoveredComp&&!this.getEditorAPI().components.is.exist(this.props.hoveredComp)&&this.props.clearHoverBox()},componentDidUpdate:function(){if(this.props.scrollTo)this.setScroll(this.props.scrollTo);else if(this.props.animateScrollTo){var e=this.props.animateScrollTo,t=e.position,o=e.duration,n=e.onComplete;this.animateScroll(t,o,n)}},shouldDisplayMobileOptimizedTeaser:function(){var e=this.getEditorAPI();return e.isMobileEditor()&&!e.getPreviewMode()&&!e.isMobileOptimizedSite()},openEditorModePanel:function(){this.getEditorAPI().panelHelpers.openMobileElementsPanel()},getStageHeight:function(){return this.getEditorAPI().isPreviewReady()?this.props.siteHeight*this.props.siteScale:"100%"},isLandingPage:function(){return this.getEditorAPI().isCurrentPageLandingPage()},isPopupPage:function(){return Boolean(this.getEditorAPI().documentServices.pages.popupPages.getCurrentPopupId())},isSectionDragging:function(){return this.props.registeredMouseMoveAction&&this.props.registeredMouseMoveAction.type===r.MOUSE_ACTION_TYPES.SECTION_DRAG&&this.props.performingMouseMoveAction||!1},isDragging:function(){return this.props.registeredMouseMoveAction&&t.includes(u,this.props.registeredMouseMoveAction.type)&&this.props.performingMouseMoveAction},isResizing:function(){return this.props.registeredMouseMoveAction&&t.includes(d,this.props.registeredMouseMoveAction.type)},isRotating:function(){return this.props.registeredMouseMoveAction&&this.props.registeredMouseMoveAction.type===r.MOUSE_ACTION_TYPES.ROTATE},getScalableAreaStyle:function(){var e=this.props.siteScale;if(1!==e)return{height:this.props.siteHeight,transform:"scale("+e+")",transformOrigin:"center 0"}},getSideBlockLayerStyle:function(){return this.getEditorAPI().isMobileEditor()?{width:"calc((100% - 320px * "+this.props.siteScale+") / 2)"}:{width:100*(1-this.props.siteScale)/2+"%"}},getSideBlockLayerHeight:function(){return Math.max(0,this.props.siteHeight*this.props.siteScale)},getBlockShadowStyle:function(){var e=100*(1-this.props.siteScale)/2;return{left:e+"%",right:e+"%",height:this.getSideBlockLayerHeight()+"px"}},getImageComponent:function(){return p(this.getEditorAPI(),this.props.selectedComponents)},getScroll:function(){return t(this.refs.scrollableEditorStage).thru(e.findDOMNode).pick("scrollTop","scrollLeft").value()},setScroll:function(o){var n=e.findDOMNode(this.refs.scrollableEditorStage);t.isUndefined(o.scrollTop)||(n.scrollTop=o.scrollTop),t.isUndefined(o.scrollLeft)||(n.scrollLeft=o.scrollLeft),this.getEditorAPI().scroll.clearScrollTo()},animateScroll:function(t,o,n){var i=e.findDOMNode(this.refs.scrollableEditorStage);a.scrollTo(t,o,0,i,n),this.getEditorAPI().scroll.clearScrollTo()},getGuides:function(){var e=this.getEditorAPI().isMobileEditor()?"mobile":"desktop",o=t.get(this.props.viewTools.rulers.guidesState,e);return o?{verticalGuides:o.verticalGuides,horizontalGuides:o.horizontalGuides}:{verticalGuides:[],horizontalGuides:[]}},_handleScroll:function(e){this.getEditorAPI().scroll.registerNewScrollPosition(this.getScroll()),this.props.onStageScroll&&this.props.onStageScroll(e)},isSiteScrollingEnabled:function(){var e=t.get(this.getEditorAPI().documentServices,["site","isScrollingEnabled"],!0);return!t.isFunction(e)||e()},getSiteCoverSizes:function(){var t=e.findDOMNode(this.refs.siteCover);return{width:t.clientWidth,height:t.clientHeight}},getPageGridLines:function(){var e=this.getEditorAPI(),t=this.isLandingPage()||this.isPopupPage();return i.utils.gridLinesUtil.getPageGridLines(e,t)},getContainerGridLines:function(){var e=this.getEditorAPI(),t=this.props.focusedContainer;return i.utils.gridLinesUtil.getContainerGridLines(e,t)},shouldFadeGridLines:function(){var e=this.getEditorAPI(),t=this.props.focusedContainer,o=e.selection.getSelectedComponents();return!!(e.components.is.showMarginsIndicator(t)||"wysiwyg.viewer.components.StripColumnsContainer"===e.components.getType(o)&&e.components.getChildren(o).length>1)},isGridLinesVisible:function(){var e=this.getEditorAPI(),t=!0;return e.isPreviewReady()&&e.documentServices.pages.popupPages.isPopupOpened()&&(t=e.components.is.gridLinesVisible(e.pages.popupPages.getPopupContainer())),e.isDesktopEditor()&&this.props.viewTools.guidelinesEnabled&&!this.props.isPinMode&&t},isPageGridLinesVisible:function(){if(l.isOpen("us_hide_gridlines")){var e=this.getEditorAPI(),t=this.props.selectedComponents&&this.props.selectedComponents[0];if(t){var o=e.components.layout.isCompNearPageBounds(t);return this.isDragging()&&o||o}return!1}return!0},getSelectedTextComp:function(){return c(this.getEditorAPI(),this.props.selectedComponents)?this.props.selectedComponents[0]:null},getTextEditorPosition:function(){var e={},t=this.getSelectedTextComp();if(t){var o=this.getEditorAPI(),n=o.components.layout.getRelativeToScreen(t),i=o.components.layout.isShowOnFixedPosition(t);if(e={top:n.y,left:n.x,width:n.width,height:n.height,position:i?"fixed":"absolute"},i){var a=o.getPreviewPosition();e.top+=a.top,e.left+=a.left}}return this.props.isOpenTextEditor||(e.visibility="hidden"),e},render:s})}),define("rEditor/rootComps/prefetch/prefetch.rt",["react","lodash"],function(e,t){return function(){return e.createElement("link",{rel:"prefetch prerender",href:this.getHref()})}}),define("rEditor/rootComps/prefetch/prefetch",["create-react-class","rEditor/rootComps/prefetch/prefetch.rt"],function(e,t){return e({displayName:"prefetch",render:t,getHref:function(){return this.props.base?this.props.base.replace(/\/$/,"")+"/"+this.props.href.replace(/^\//,""):this.props.href}})}),define("rEditor/rootComps/editorView.rt",["react","lodash","rEditor/rootComps/topBar/topBar","rEditor/rootComps/topBar/zoomModeBar","rEditor/rootComps/topBar/dynamicPagesComboBox","rEditor/rootComps/rightClickMenu/rightClickMenu","rEditor/rootComps/panels/openedPanels","rEditor/rootComps/portal/portal","baseUI","core","uiAnimations","rEditor/rootComps/stage/editorStage","rEditor/rootComps/mobileFrame/mobileFrame","textControls","rEditor/rootComps/prefetch/prefetch","experiment"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m,g,f){return function(){function h(o,n,i,a){var r=this.props.devModeContext.type===c.constants.DEVELOPER_MODE.CONTEXT_TYPES.COLLECTION;return e.createElement(l.splitter.Pane,{className:t({"wix-code-ide-pane":!0,"above-editor":!r&&a.replace("%","")<50}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"wix-code-ide-pane",minSize:o.developerMode.ui.topbarHeight,onClick:this.onIdeClick},this.props.previewMode?null:e.createElement(c.lazyComponent,{moduleName:"wixCode.components.IDE",key:"wix-code-ide",id:"wix-code-ide",currentPageId:o.documentServices.pages.getFocusedPageId(),context:o.developerMode.getContext(),containerState:o.developerMode.ui.idePane.getState(),isTreePaneOpen:o.developerMode.ui.treePane.isOpen()}),this.props.previewMode?e.createElement(c.lazyComponent,{moduleName:"wixCode.components.console",key:"wix-code-console",containerState:o.developerMode.ui.consolePane.getState(),id:"wix-code-console"}):null)}function b(o,n){var i=o.getPreviewMode()?"consolePane":"idePane",a=o.developerMode.ui[i].getSplitPosition();return e.createElement(l.splitter,{className:"ide-splitter",layout:"horizontal",splitPosition:a,onDividerClick:o.getPreviewMode()?null:o.developerMode.ui.idePane.toggleMinimize,statefulResize:!0,onResize:o.developerMode.ui[i].setSplitPosition},e.createElement(l.splitter.Pane,{maxSize:this.props.shouldShowDevModePanels?"calc(100% - "+o.developerMode.ui.topbarHeight+")":""},e.createElement("div",{ref:"editingArea",id:"editingArea",className:t({"editing-area":!0,"mobile-editor":o.isMobileEditor(),"preview-mode":o.getPreviewMode()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("div",{className:"preview-frame-cover"},o.isMobileEditor()&&o.getPreviewMode()?e.createElement(u,{key:"mobileFrame",previewMode:o.getPreviewMode(),refreshMobileFramePosition:o.refreshMobileFramePosition,siteX:o.site.getXPos()}):null,e.createElement("div",{className:"preview-container"},e.createElement("iframe",{ref:"preview",id:"preview",src:this.getPreviewSource(),allowFullScreen:"true"})),this.props.previewMode?null:e.createElement(d,{id:"stageContainer",ref:"editorStage",key:"editorStage",siteHeight:this.props.config.previewHeight,config:this.props.config,viewTools:this.props.viewTools,imageCrop:this.props.imageCrop,focusedContainer:this.props.focusedContainer,hideTools:this.props.hideTools,previewMode:this.props.previewMode,pinPreviewRectStyle:this.props.pinPreviewRectStyle,isOpenTextEditor:this.props.isOpenTextEditor,attachCandidate:this.props.attachCandidate,editorIsInit:this.props.editorIsInit,onContextMenu:this.onContextMenu,registeredMouseMoveAction:this.props.registeredMouseMoveAction,performingMouseMoveAction:this.props.performingMouseMoveAction,selectedComponents:this.props.selectedComponents,panel:this.getCompPanel(),previewPosition:this.props.previewPosition,siteScale:this.props.siteScale,portalComps:this.props.portalComps,pageSections:this.props.pageSections,halfOpacityTools:this.props.halfOpacityTools,isReorganizeHidden:this.props.isReorganizeHidden,isPopupMode:o.isPopUpMode(),isPinMode:this.props.isPinMode,onStageScroll:o.scroll.handleStageScroll,snapData:this.props.snapData,applyModeFromClipboardSuggestion:this.props.applyModeFromClipboardSuggestion,tabIndicationState:this.props.tabIndicationState,lastSelectionClickPos:this.props.lastSelectionClickPos,lassoCandidates:this.props.lassoCandidates,lassoLayout:this.props.lassoLayout,constraintArea:this.props.constraintArea,hoveredComp:this.state.hoverBox.hoveredComp,hoverBoxOverlay:this.state.hoverBox.hoverBoxOverlay,setHoverBox:this.setHoverBox,clearHoverBox:this.clearHoverBox,scrollTo:this.props.scrollTo,openPanels:n,animateScrollTo:this.props.animateScrollTo})),e.createElement(r,{openPanels:n,helpPanelProps:this.props.helpPanelProps,selectedComponents:this.props.selectedComponents,isMobileEditor:this.props.isMobileEditor}),e.createElement(p.leftBarAnimation,{},this.props.previewMode||this.props.isPinMode||this.props.imageCrop.isOn?null:e.createElement(this.LeftBar,{key:"leftBar"})),t.isEmpty(this.props.portalComps)?null:e.createElement(s,{key:"portalComps",comps:this.props.portalComps}))),this.props.shouldShowDevModePanels?h.apply(this,[o,n,i,a]):null)}function y(){var s=this.getEditorAPI(),d=this.getNonCompPanels();return e.createElement("div",{className:"editor-animation-manager-wrapper",id:"editor",tabIndex:"0"},e.createElement("div",{className:"editor-wrapper "+(1!==this.props.siteScale?"zoom-mode":""),onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onMouseDownCapture:this.onMouseDownCapture},this.props.isPreloaderVisible?e.createElement("div",{key:"init",className:"preloader"}):null,s.developerMode.isEnabled()?e.createElement(c.lazyComponent,{moduleName:"wixCode.components.wixCodeLoader",key:"wix-code-loader",id:"wix-code-loader",wixCodeLoaded:this.props.wixCodeLoaded}):null,e.createElement("div",{className:t({"editor-content-wrapper":!0,"tools-hidden":this.props.hideTools&&!this.props.hideToolsAndMaintainStagePosition}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(l.splitter,{className:"file-pane-splitter",layout:"vertical",splitPosition:s.developerMode.ui.treePane.getSplitPosition(),statefulResize:!0,onResize:s.developerMode.ui.treePane.setSplitPosition},this.props.shouldShowDevModePanels&&!this.props.previewMode?e.createElement(l.splitter.Pane,{key:"left-panel-pane",maxSize:"296px"},this.props.wixCodeLoaded?e.createElement(c.lazyComponent,{moduleName:"wixCode.components.Tree",key:"wix-code-tree",id:"wix-code-tree",context:s.developerMode.getContext()}):null):null,e.createElement(l.splitter.Pane,{},b.apply(this,[s,d]),e.createElement(r,{openPanels:t.compact([f.isOpen("se_platform1")&&this.props.fullStagePanel]),helpPanelProps:this.props.helpPanelProps,isMobileEditor:this.props.isMobileEditor,selectedComponents:this.props.selectedComponents,withHelpPanel:!1})))),e.createElement("div",{className:"editor-controls"},f.isOpen("newTopBar")?null:e.createElement(o,{ref:"topbar",key:"topbar",previewMode:this.props.previewMode,devModeContext:this.props.devModeContext,editorIsInit:this.props.editorIsInit,isMobileEditor:this.props.isMobileEditor,isMobileOptimized:s.isMobileOptimizedSite(),viewTools:this.props.viewTools,previewingStatus:this.props.previewingStatus,savingStatus:this.props.savingStatus,publishingStatus:this.props.publishingStatus,performingMouseMoveAction:this.props.performingMouseMoveAction,isEnabled:this.props.editorIsInit,height:this.props.config.topBarHeight,onTopBarClicked:s.onTopBarClicked,onContextMenu:this.onContextMenuPreventDefault,isHidden:this.props.hideTools,shouldHideToolsBtnBlink:this.props.shouldHideToolsBtnBlink,topBarCustomization:this.props.topBarCustomization}),f.isOpen("newTopBar")?e.createElement(c.lazyComponent,{moduleName:"topBar.topBar.Connected",key:"topbar",ref:"topbar",onContextMenu:this.onContextMenuPreventDefault,savingStatus:this.props.savingStatus,publishingStatus:this.props.publishingStatus,shouldHideToolsBtnBlink:this.props.shouldHideToolsBtnBlink,isHidden:this.props.hideTools}):null,f.isOpen("newTopBar")?e.createElement(n,{key:"zoomModeBar"}):null,f.isOpen("newTopBar")&&f.isOpen("dpages")?e.createElement(i,{key:"dynamicPagesComboBox",previewMode:this.props.previewMode,devModeContext:this.props.devModeContext,editorIsInit:this.props.editorIsInit}):null,e.createElement("div",{className:t({"file-context":"FILE"===t.get(s.developerMode.getContext(),"type")?"hidden":""}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},this.props.viewTools.toolbarEnabled&&!this.props.previewMode?e.createElement(this.Toolbar,{key:"toolBar"}):null,this.props.isLayoutTractorOpen&&!this.props.previewMode?e.createElement(c.lazyComponent,{moduleName:"compPanels.dynamicPanels.layoutTractor",key:"layoutTractorOpen",selectedComponents:this.props.selectedComponents}):null,this.props.viewTools.developerToolBarEnabled&&!this.props.previewMode?e.createElement(c.lazyComponent,{moduleName:"wixCode.components.developerToolBar",key:"developerToolbar",toolsHidden:this.props.hideTools,editedComponents:this.props.selectedComponents,isEnabled:this.props.editorIsInit,isReadOnly:this.props.isMobileEditor,onContextMenu:this.onContextMenuPreventDefault,wixCodeLoaded:this.props.wixCodeLoaded}):null,this.props.viewTools.platformToolBarEnabled&&!this.props.previewMode?e.createElement(c.lazyComponent,{moduleName:"platformPanels.platformToolBarPanel",panelProps:this.props.platformToolBarPanelProps,key:"platformToolBarPanel"}):null),e.createElement(l.tooltipsRenderer,{key:"tooltipsRenderer",shouldDisplayTooltips:!f.isMultiValueExperimentOpen("editorHintsConfigs")||!this.props.isTooltipsDisabled}),e.createElement(l.floatingBubble,{ref:"floatingBubble",value:this.props.floatingBubble.value,targetLayout:this.props.floatingBubble.targetLayout,bubbleProps:this.props.floatingBubble.bubbleProps,shouldNotHideOnMouseLeaveTarget:this.props.floatingBubble.shouldNotHideOnMouseLeaveTarget,pinMode:this.props.isPinMode}),e.createElement(l.dropDown.options,{}),this.shouldShowHints()?e.createElement(c.lazyComponent,{moduleName:"editorHints.hintPresenter",key:"hintPresenterLayer"}):null),this.props.editorIsInit?null:e.createElement("div",{className:"preloader-overlap",key:"preloader-overlap"}),e.createElement(p.rightClickAppearance,{direction:"top",key:"rightClick"},this.props.contextMenu?e.createElement(a,{key:this.props.contextMenu.editorMousePosition.x+""+this.props.contextMenu.editorMousePosition.y,clipboard:this.props.clipboard,editorMousePosition:this.props.contextMenu.editorMousePosition,viewerMousePosition:this.props.contextMenu.viewerPosition,previewPosition:this.props.previewPosition,selectedComponents:this.props.selectedComponents,setHoverBox:this.setHoverBox,clearHoverBox:this.clearHoverBox}):null),this.props.languages?e.createElement(m.themeFontsLoader,{key:"theme-font-loader",themeFonts:this.props.themeFonts,documentType:this.props.documentType,languages:this.props.languages}):null,e.createElement(g,{href:"app/external/OrganizeImagesV2/index.html",base:this.props.editorBase})))}return y.apply(this,[])}}),define("rEditor/rootComps/editorView",["create-react-class","prop-types","reactDOM","lodash","util","core","constants","higherOrderComponents","rEditor/rootComps/leftBar/leftBar","rEditor/rootComps/toolBar/toolBar","coreUtilsLib","rEditor/utils/openPanelByURL","rEditor/utils/isRightClickWithCtrlInDebugMode","experiment","rEditor/rootComps/editorView.rt"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m,g){function f(e){var t=e.match(C);return t&&t.length&&t[1]}function h(e){var t=b(e.href)?S:E,o=i.url.parseUrl(e.href).query;n.isUndefined(o.editorSessionId)&&(o.editorSessionId=i.editorModel.editorSessionId);var a=n(o).keys().find(function(e){return"showmobileview"===e.toLowerCase()}),r=["metaSiteId","ReactSource","SantaVersions","baseVersion","isqa","debug","editorSessionId","experiments","experimentsoff","viewerexp","suppressbi","WixCodeRuntimeSource","sampleratio","sdkSource","hot","dsQTrace","autosaveRestore","debugApp"],s=n.pickBy(o,function(e,t){return n.endsWith(t,"-override")});return m.isOpen("se_platform1")&&(r=r.concat(["editorSdkSource","editorPlatformAppSources","viewerPlatformAppSources","PlatformContainerSource"])),new i.UrlBuilder(t+(o.siteId||f(e.href))).param("isEdited","true").param("isSantaEditor","true").param("dsOrigin","Editor1.4").ifParam(o.petri_ovr,"petri_ovr",o.petri_ovr).ifParam(m.isOpen("wixstaff"),"iswixsite","true").ifParam(a||d.shouldLoadMobileEditor(o),"showMobileView","true").param("lang",i.editorModel.languageCode).paramsObj(n.pick(o,r)).paramsObj(s).url()}function b(e){return 0===e.indexOf(T)}var y,P=i.serviceTopology.editorServerRoot||"http://editor.wix.com/html/editor/web",v=P+"/renderer/render/",E=v+"document/",S=v+"template/",T=P+"/renderer/new?",C=/\/([a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12})/;return e({displayName:"editorView",propTypes:{viewTools:t.object.isRequired,focusedContainer:t.object,languages:t.array,editorIsInit:t.bool.isRequired,previewMode:t.bool.isRequired,contextMenu:t.object,halfOpacityTools:t.bool.isRequired,hideTools:t.bool.isRequired,hideToolsAndMaintainStagePosition:t.bool.isRequired,isPinMode:t.bool.isRequired,performingMouseMoveAction:t.bool.isRequired,isMobileEditor:t.bool.isRequired,selectedComponents:t.array,siteScale:t.number.isRequired,portalComps:t.object.isRequired,savingStatus:t.string.isRequired,publishingStatus:t.string.isRequired,previewingStatus:t.string.isRequired,imageCrop:t.object.isRequired,config:t.object.isRequired,previewPosition:t.object.isRequired,pageSections:t.object.isRequired,platformToolBarPanelProps:t.object,wixCodeLoaded:t.bool.isRequired,isTooltipsDisabled:t.bool.isRequired,clipboard:t.object.isRequired,shouldHideToolsBtnBlink:t.bool.isRequired,isLayoutTractorOpen:t.bool.isRequired,devModeContext:t.object.isRequired,registeredMouseMoveAction:t.object,isUsingWindowMouseEvents:t.bool,isPreloaderVisible:t.bool.isRequired,shouldShowDevModePanels:t.bool.isRequired,fullStagePanel:t.object,documentType:t.string,editorBase:t.string.isRequired,themeFonts:t.object,isReorganizeHidden:t.bool.isRequired,pinPreviewRectStyle:t.object.isRequired,isOpenTextEditor:t.bool.isRequired,attachCandidate:t.object,snapData:t.array,applyModeFromClipboardSuggestion:t.object,tabIndicationState:t.object.isRequired,lastSelectionClickPos:t.object,lassoCandidates:t.array,lassoLayout:t.object,constraintArea:t.object,notifyPreviewReady:t.func.isRequired,helpPanelProps:t.object,floatingBubble:t.object.isRequired,scrollTo:t.shape({scrollTop:t.number,scrollLeft:t.number}),focusEventCounter:t.number.isRequired,clearTextSelectionEventCounter:t.number.isRequired,animateScrollTo:t.shape({position:t.shape({y:t.number,x:t.number}).isRequired,duration:t.number,onComplete:t.func}),renderCounter:t.number.isRequired},mixins:[a.mixins.editorAPIMixin],getPreviewRect:function(){return n.pick(this.refs.preview.getBoundingClientRect(),["top","left","height","width"])},getEditingAreaRect:function(){return n.pick(this.refs.editingArea.getBoundingClientRect(),["top","left","height","width","right","bottom"])},updatePositionsInState:function(){var e=this.getEditorAPI();e.refreshPreviewPosition(this.getPreviewRect()),e.refreshEditingAreaPosition(this.getEditingAreaRect())},getInitialState:function(){return{hoverBox:{hoveredComp:null,hoverBoxOverlay:!1}}},receiveFocusEvent:function(e){e>this.props.focusEventCounter&&o.findDOMNode(this).focus()},receiveClerTextSelectionEvent:function(e){if(e>this.props.clearTextSelectionEventCounter){var t=o.findDOMNode(this.refs.preview),i=n.get(t,"contentWindow",{});i.selection?i.selection.empty():i.getSelection&&i.getSelection().removeAllRanges()}},componentWillReceiveProps:function(e){this.receiveFocusEvent(e.focusEventCounter),this.receiveClerTextSelectionEvent(e.clearTextSelectionEventCounter)},componentWillMount:function(){var e=this.getEditorAPI();this.LeftBar=s.overlappedCompTooltip(l),this.Toolbar=s.overlappedCompTooltip(c),e.scroll.resetScrollListeners()},componentDidMount:function(){var e=this.getEditorAPI();this.updatePositionsInState(),e.topBarMenuBar.registerAPI(this.getMenuBarAPI());var t=o.findDOMNode(this.refs.preview);try{t.contentWindow&&t.contentWindow.documentServices&&this.props.notifyPreviewReady(t.contentWindow.documentServices)}catch(e){p.log.error("can not access preview iframe")}window.addEventListener("message",this.previewMessageHandler)},componentDidUpdate:function(){this.reportRenderDone(),this.updatePositionsInState()},componentWillUnmount:function(){this.getEditorAPI().scroll.resetScrollListeners()},reportRenderDone:function(){this.getEditorAPI().onRenderDone(this.props.renderCounter)},getMenuBarAPI:function(){return{openDropDown:this.refs.topbar.openDropDown,enableClose:this.refs.topbar.enableClose,disableDropDown:this.refs.topbar.disableDropDown,enableDropDown:this.refs.topbar.enableDropDown,shouldBeVisible:this.refs.topbar.shouldBeVisible}},setHoverBox:function(e,t){var o=this.getEditorAPI().utils.getParentIfCompCanBeSelected(e)||e;n.isEqual(this.state.hoverBox.hoveredComp,o)||this.setState({hoverBox:{hoveredComp:o,hoverBoxOverlay:!!t}})},clearHoverBox:function(){this.state.hoverBox.hoveredComp&&this.setState({hoverBox:{hoveredComp:null,hoverBoxOverlay:!1}})},previewMessageHandler:function(e){if(0===this.getPreviewSource().indexOf(e.origin)&&"documentServicesLoaded"===e.data){var t=o.findDOMNode(this.refs.preview);this.props.notifyPreviewReady(t.contentWindow.documentServices)}},getPreviewSource:function(){return y=y||h(window.document.location)},onContextMenu:function(e){if(!u(e)){e.preventDefault();var t=this.getEditorAPI();t.panelManager.closeAllPanels(),t.selection.selectComponentByClick(e);var o=a.utils.mouseCoordinatesHandler.fitMouseCoordinatesToViewer(t,e);t.openRightClickMenu(e.clientX,e.clientY,o.clientX,o.clientY)}},getNonCompPanels:function(){var e=this.getEditorAPI(),t=[r.PANEL_TYPES.COMP,r.PANEL_TYPES.FULL_STAGE];return n.reject(e.store.getState().openPanels,function(e){return n.includes(t,e.frameType)})},getCompPanel:function(){var e=this.getEditorAPI();return n.find(e.store.getState().openPanels,{frameType:r.PANEL_TYPES.COMP})},onContextMenuPreventDefault:function(e){u(e)||e.preventDefault()},onIdeClick:function(){this.getEditorAPI().panelManager.closeAllPanels()},onMouseDownCapture:function(e){2===e.button&&e.stopPropagation()},onMouseMove:function(e){this.getEditorAPI().mouseActions.onEditorViewMouseMove(e)},onMouseUp:function(e){this.getEditorAPI().mouseActions.onEditorViewMouseUp(e)},shouldShowHints:function(){var e="true"!==i.url.getParameterByName("isqa")||"true"===i.url.getParameterByName("enableEditorHints");return m.isMultiValueExperimentOpen("editorHintsConfigs")&&e&&this.props.editorIsInit},getSiteId:function(){return this.getEditorAPI().documentServices.generalInfo.getSiteId()},render:g})}),define("rEditor/rootComps/editor.rt",["react","lodash","rEditor/rootComps/editorView","stateManagement"],function(e,t,o,n){return function(){function t(){var t=this.props.editorAPI.store.getState();return e.createElement(o,{ref:"editorView",viewTools:t.viewTools,focusedContainer:t.focusedContainer,languages:this.getLanguages(),editorIsInit:t.editorIsInit,contextMenu:t.contextMenu,halfOpacityTools:t.halfOpacityTools,hideTools:t.hideTools,hideToolsAndMaintainStagePosition:t.hideToolsAndMaintainStagePosition,previewMode:t.previewMode,selectedComponents:n.selection.selectors.selectSelectedCompsRefs(t),siteScale:t.siteScale,portalComps:t.portalComps,isPinMode:Boolean(t.pinnedCompType),performingMouseMoveAction:t.performingMouseMoveAction,savingStatus:t.savingStatus,publishingStatus:t.publishingStatus,previewingStatus:t.previewingStatus,isMobileEditor:t.isMobileEditor,topBarCustomization:t.topBarCustomization,imageCrop:t.imageCrop,config:t.config,previewPosition:t.previewPosition,pageSections:t.pageSections,wixCodeLoaded:t.wixCodeLoaded,platformToolBarPanelProps:t.platformToolBarPanelProps,isTooltipsDisabled:t.isTooltipsDisabled,clipboard:t.clipboard,shouldHideToolsBtnBlink:t.shouldHideToolsBtnBlink,isLayoutTractorOpen:t.isLayoutTractorOpen,devModeContext:t.devModeContext,registeredMouseMoveAction:t.registeredMouseMoveAction,isUsingWindowMouseEvents:t.isUsingWindowMouseEvents,isPreloaderVisible:this.isPreloaderVisible(),shouldShowDevModePanels:this.shouldShowDevModePanels(),fullStagePanel:this.getFullStagePanel(),documentType:this.getDocumentType(),editorBase:this.getEditorBase(),themeFonts:this.getThemeFonts(),isReorganizeHidden:this.isReorganizeHidden(),pinPreviewRectStyle:t.pinPreviewRectStyle,isOpenTextEditor:t.isOpenTextEditor,attachCandidate:t.attachCandidate,snapData:t.snapData,applyModeFromClipboardSuggestion:n.applyModeFromClipboard.selectors.selectApplyModeFromClipboardSuggestion(t),tabIndicationState:t.tabIndicationState,lastSelectionClickPos:t.lastSelectionClickPos,lassoCandidates:t.lassoCandidates,lassoLayout:t.lassoLayout,constraintArea:t.constraintArea,notifyPreviewReady:this.notifyPreviewReady,helpPanelProps:t.helpProps,floatingBubble:t.floatingBubble,hoverBox:t.hoverBox,scrollTo:t.scrollTo,animateScrollTo:t.animateScrollTo,focusEventCounter:t.eventCounters.focus,clearTextSelectionEventCounter:t.eventCounters.clearTextSelection,renderCounter:t.__renderCounter})}return t.apply(this,[])}}),define("rEditor/rootComps/editor",["lodash","core","constants","create-react-class","jquery","util","baseUI","rEditor/rootComps/keyboard/config/shortcutsConfig","uiAnimations","tpa","prop-types","experiment","rEditor/rootComps/editor.rt"],function(e,t,o,n,i,a,r,s,l,c,p,d,u){function m(){(new window.Image).src="https://fast.fonts.com/t/1.css?apiType=css&projectid=33bd0973-5b82-45be-bb77-837225874dfe"}function g(e){var t=a.translate("GENERAL_Close_Warning_Message");return(e||window.event).returnValue=t,t}function f(){return e(a.editorModel.runningExperiments).pickBy(function(e){return"new"===e}).keys().sortBy().join(",")}function h(){var e=i(window);a.fedopsLogger.appLoaded(),this.props.editorAPI.bi.event(t.bi.events.editor.EDITOR_READY,{is_premium:this.props.editorAPI.site.isPremium(),is_template:this.props.editorAPI.documentServices.generalInfo.isFirstSave(),window_width:e.width(),window_height:e.height(),screen_width:window.screen.width,screen_height:window.screen.height,avail_width:window.screen.availWidth,avail_height:window.screen.availHeight,prefetch:window.afterEditorPrefetch,request_from_adi:this.props.editorAPI.documentServices.generalInfo.isSiteFromOnBoarding(),experiments:f()})}window.bi&&window.bi.event(t.bi.events.editor.EDITOR_LOADED.evid,{prefetch:window.afterEditorPrefetch}),a.newrelic.addPageAction("editor loaded"),a.performance.mark("editor loaded"),a.performance.measure("main-r started","domLoading","main-r loaded"),a.performance.measure("addPanelData loaded","main-r loaded","addPanelData loaded"),a.performance.measure("editor loaded","addPanelData loaded","editor loaded");var b=!0;return n({displayName:"editor",mixins:[l.animationManager,a.componentUpdatesMixin],propTypes:{isLeavePagePopUpDisabled:p.bool,editorAPI:p.object.isRequired},childContextTypes:{dsRead:p.object,editorAPI:p.object,mediaServices:p.object,bi:p.object,translateFromContext:p.func},getChildContext:function(){return{dsRead:this.props.editorAPI.documentServices,editorAPI:this.props.editorAPI,mediaServices:this.props.editorAPI.mediaServices,bi:window.bi,translateFromContext:a.translate}},notifyEditorInit:function(){c.initEditor(this.props.editorAPI),s.init(this.props.editorAPI)},notifyPreviewReady:function(e){d.isOpen("loadAddPanelAfterEditorReady")?this.startPreviewReadyFlow(e):require(["addPanelInfra"],function(){this.startPreviewReadyFlow(e)}.bind(this))},startPreviewReadyFlow:function(e){this.props.editorAPI.onPreviewReady(e),a.translate.init(this.props.editorAPI);var t=e.viewMode.get()===e.viewMode.VIEW_MODES.MOBILE;this.props.editorAPI.setEditorMode(t,!0),this.props.editorAPI.updateState({editorIsInit:!0}),b&&(b=!1,h.call(this),a.newrelic.finished()),m(),this.props.editorAPI.concurrentUsers.checkForConcurrentUsers(!0),a.performance.mark("editor ready"),a.performance.measure("editor ready","editor loaded","editor ready")},componentWillMount:function(){this.notifyEditorInit()},componentWillUnmount:function(){},componentDidMount:function(){window.testApi&&window.testApi.domSelectors&&window.testApi.domSelectors.setSearchRoot(this),this.updateKeyboardShortcutContext(),this.props.isLeavePagePopUpDisabled||(window.onbeforeunload=g),window.history&&(window.history.replaceState({preview:!1},"edit mode"),window.onpopstate=this.onHistoryPopState)},componentDidUpdate:function(t){if(!t.editorIsInit&&this.props.editorIsInit){var o=window.document.getElementById("video-preloader");o&&o.parentNode.removeChild(o)}t.previewMode!==this.props.previewMode&&(window.history.state&&this.props.previewMode&&!window.history.state.preview?this.onEnterPreview():window.history.state&&!this.props.previewMode&&window.history.state.preview&&this.onExitPreview(),this.updateKeyboardShortcutContext(),i(window.document.body).toggleClass("previewMode",this.props.previewMode)),e(this.renderCallbacks).filter(e.isFunction).forEach(function(e){e()})},onExitPreview:function(){window.history.replaceState({preview:!1},"edit mode")},onEnterPreview:function(){window.history.pushState({preview:!0},"site preview")},onHistoryPopState:function(e){if(e.state){var t=e.state.preview&&!this.props.previewMode,o=!e.state.preview&&this.props.previewMode;(t||o)&&this.props.editorAPI.preview.togglePreview()}},updateKeyboardShortcutContext:function(){var e=a.keyboardShortcuts.CONTEXTS;a.keyboardShortcuts.setContext(this.props.previewMode?e.PREVIEW:e.EDITOR)},getFullStagePanel:function(){return e.find(this.props.editorAPI.store.getState().openPanels,{frameType:o.PANEL_TYPES.FULL_STAGE})},getDocumentType:function(){return this.props.editorAPI.documentServices&&this.props.editorAPI.documentServices.generalInfo.getDocumentType()},getLanguages:function(){return e.invoke(this.props.editorAPI,"documentServices.theme.fonts.getCharacterSet")},getThemeFonts:function(){return e.invoke(this.props.editorAPI,"documentServices.theme.fonts.getAll")},getEditorBase:function(){return a.editorModel.editorBase},isPreloaderVisible:function(){return!window.document.getElementById("video-preloader")&&!this.props.editorIsInit},shouldShowDevModePanels:function(){return this.props.editorAPI.store.getState().wixCodeLoaded&&this.props.editorAPI.developerMode.isEnabled()&&!this.props.editorAPI.store.getState().hideTools},isReorganizeHidden:function(){return this.props.editorAPI.store.getState().hideTools||this.props.editorAPI.isPopUpMode()},render:u})}),define("rEditor/app/panelHelpers",["lodash","util","core","platform","experiment"],function(e,t,o,n,i){function a(a){function r(){return(P++).toString()}function s(o){return e.map(o.items,function(e){var o=e.link;return{id:r(),data:e,linkText:o?t.link.getLinkValueAsString(a,o,!0):""}})}function l(e,t){e&&e(t)}function c(e,t){var o=a.selection.getSelectedComponentData();return{imageDatas:s(o),isPreset:o.metaData.isPreset,imagesChanged:l.bind(a,t),createImageDataItem:a.data.createItem.bind(null,"Image"),galleryType:e}}function p(e,t){d(e)?t&&a.panelManager.updatePanelProps(e,t):a.panelManager.openPanel(e,t)}function d(t){var o=a.panelManager.getOpenPanels();return e.some(o,{name:t})}function u(t,o){var n=a.userPreferences.site.get(t.DONT_SHOW_AGAIN_KEY),i=e.includes(b.FORBIDDEN_COMP_TYPES,o),r=a.documentServices.pages.popupPages.isPopupOpened()&&!a.components.is.gridLinesVisible(a.pages.popupPages.getPopupContainer());return n||i||r}function m(e,t){var o=y[t].DONT_SHOW_AGAIN_KEY;return!0!==e.get(o)}function g(e,t){var o=y[t].SHOW_COUNT_KEY,n=e.get(o)||0;return n++,e.set(o,n),n}function f(e,t){var o=!1,n=y[t].SHOW_COUNT_KEY;if((e.get(n)||0)>y[t].SHOW_RATE_THRESHOLD){o=!0;var i=y[t].DONT_SHOW_AGAIN_KEY;e.set(i,o)}return o}function h(){var e=t.url.isQA();return"true"===t.url.getParameterByName("qa_1stTimeMobileOn")||!e}var b={FORBIDDEN_COMP_TYPES:["wysiwyg.common.components.anchor.viewer.Anchor","mobile.core.components.Page","platform.components.AppController"],DESKTOP:{NOTIFICATION_RATE:10,DONT_SHOW_AGAIN_KEY:o.constants.USER_PREFS.OUT_OF_GRID.DESKTOP.OUT_OF_GRID_DONT_SHOW_AGAIN,OUT_OF_GRID_COUNT_KEY:o.constants.USER_PREFS.OUT_OF_GRID.DESKTOP.OUT_OF_GRID_COUNT,PANEL_NAME:"panels.focusPanels.outOfGridDesktopPanel"},MOBILE:{NOTIFICATION_RATE:10,DONT_SHOW_AGAIN_KEY:o.constants.USER_PREFS.OUT_OF_GRID.MOBILE.OUT_OF_GRID_DONT_SHOW_AGAIN,OUT_OF_GRID_COUNT_KEY:o.constants.USER_PREFS.OUT_OF_GRID.MOBILE.OUT_OF_GRID_COUNT,PANEL_NAME:"panels.focusPanels.outOfGridMobilePanel"},CONTAINER:{NOTIFICATION_RATE:2,DONT_SHOW_AGAIN_KEY:o.constants.USER_PREFS.OUT_OF_GRID.CONTAINER.OUT_OF_GRID_DONT_SHOW_AGAIN,OUT_OF_GRID_COUNT_KEY:o.constants.USER_PREFS.OUT_OF_GRID.CONTAINER.OUT_OF_GRID_COUNT,PANEL_NAME:"panels.focusPanels.outOfContainerGridPanel"}},y={"panels.focusPanels.mobileEditorFirstTimePanel":{SHOW_RATE_THRESHOLD:1,DONT_SHOW_AGAIN_KEY:o.constants.USER_PREFS.MOBILE_EDITOR.FIRST_TIME_PANEL.DONT_SHOW_AGAIN,SHOW_COUNT_KEY:o.constants.USER_PREFS.MOBILE_EDITOR.FIRST_TIME_PANEL.SHOW_COUNT}},P=0;return{openOrganizeImagesPanel:function(e){a.panelManager.openPanel("panels.focusPanels.organizeImagesPanel",c("images",e),!0)},openOrganizeSocialIconsPanel:function(e){a.panelManager.openPanel("panels.focusPanels.organizeImagesPanel",c("socialIcons",e))},openAviaryPanel:function(e){a.panelManager.openPanel("panels.focusPanels.aviaryPanel",{imageLink:e,editorAPI:a,onDialogResult:function(){a.panelManager.closePanelByName("panels.focusPanels.aviaryPanel")}},!0)},isPagesPanelOpen:function(){return d("rEditor.panels.pagesAndPopupsPanel")},openPagesPanel:function(t){p("rEditor.panels.pagesAndPopupsPanel",t=e.assign(t,{token:n.tokenService.generateStaticGlobalPanelToken("pagesPanel")}))},closePagesPanel:function(){a.panelManager.closePanelByName("rEditor.panels.pagesAndPopupsPanel")},openMobileElementsPanel:function(){if(a.isMobileEditor()){var e={mobileElementId:"mobileView"},t="mobileEditor.mobileElementsPanel",n=(new Date).getTime();e.key=o.lazyComponent.isLoaded(t)?t+n:t+"loading",p(t,e)}},openMobileEditorFirstTimePanelIfNeeded:function(){var e="panels.focusPanels.mobileEditorFirstTimePanel",t=a.getUserPreferences().site;m(t,e)&&h()&&!a.getPreviewMode()&&(g(t,e),i.isOpen("se_1stTimeMobileManualMode")||f(t,e),a.panelManager.openPanel(e,{},!0))},openCompOutOfGridPanel:function(e,t){var o;if(!u(o=t?b.CONTAINER:a.isMobileEditor()?b.MOBILE:b.DESKTOP,a.components.getType(a.selection.getSelectedComponents()))){var n=a.userPreferences.session.get(o.OUT_OF_GRID_COUNT_KEY)||0;n%o.NOTIFICATION_RATE==0&&a.panelManager.openPanel(o.PANEL_NAME,e,!0),n+=1,a.userPreferences.session.set(o.OUT_OF_GRID_COUNT_KEY,n)}},openDragToHeaderPanel:function(e){if(!a.userPreferences.site.get(o.constants.USER_PREFS.DRAG_TO_HEADER.DONT_SHOW_AGAIN)){var t=a.userPreferences.session.get(o.constants.USER_PREFS.DRAG_TO_HEADER.DRAG_COUNT)||0;t%10==0&&a.panelManager.openPanel("panels.focusPanels.dragToHeaderPanel",e),t+=1,a.userPreferences.session.set(o.constants.USER_PREFS.DRAG_TO_HEADER.DRAG_COUNT,t)}},openPinModeSizeRestrictionPanel:function(e){a.userPreferences.site.get(o.constants.PANELS.PIN_TOO_BIG.PIN_TOO_BIG_DONT_SHOW_AGAIN)||a.panelManager.openPanel(o.constants.PANELS.PIN_TOO_BIG.PANEL_NAME,e,!0)},openLinkPanel:function(e,o){a.panelManager.openPanel("panels.toolPanels.linkPanel",t.link.getLinkPanelProps(a,e),!o)}}}return{create:a}}),define("rEditor/app/updateOperationsPlugins",["lodash"],function(e){function t(){var t=arguments;e.forEach(this.list,function(e){e.apply(null,t)})}return{setHomePagePlugins:{list:[],run:t},updatePagePlugins:{list:[],run:t}}}),define("rEditor/app/componentsPlugins",["lodash","util","core","constants","gfppData"],function(e,t,o,n,i){function a(n){function a(t,a){if(!n.isMobileEditor()){var r=i.getComponentMainActionClick(n,a.comp);e.isFunction(r)&&r(n,a.comp,o.constants.USER_ACTIONS.ORIGIN.DOUBLE_CLICK)}}function s(t,o){e.forEach(o,function(o){e(o).thru(e.bind(t.get,t)).filter({behavior:{type:"widget",name:"runCode"}}).forEach(function(e){t.remove(o,e.action,{id:e.behavior.targetId},e.behavior)})})}function l(t,o,n){e.forEach(n,function(n){e(n).thru(e.bind(t.get,t)).filter(function(t){return e.includes(r,t.action)}).forEach(function(e){o.behaviors.remove(n,e)})})}function c(t,o,n,i){var a=i.getPage(o);s(n,e(t).reject(function(t){return e.isEqual(t.root,a)}).map("ref").value())}function p(t,o,n,i){var a=i.modes.getFirstAncestorOrSelfWithModeDefinitions(o);l(n,i,e(t).reject(function(t){return e.isEqual(t.ancestor,a)}).map("ref").value())}function d(t,o){return e(o).thru(function(){return t.getChildren(o.ref,!0).concat(o.ref)}).map(function(e){return{ref:e,root:o.root}}).value()}function u(t,o){return e(o).thru(function(){return t.getChildren(o.ref,!0).concat(o.ref)}).map(function(e){return{ref:e,ancestor:o.ancestor}}).value()}function m(t,o){return e.flatMap(o,e.partial(d,t))}function g(t,o){return e.flatMap(o,e.partial(u,t))}function f(e,t,o,n,i){var a=m(n,t),r=g(n,o);c(a,e,i,n),p(r,e,i,n)}function h(t,o,i){return i=i||{},e.filter(t,function(t){var a=i[t.id]||n.components.properties.get(t);return e.get(a,o)})}function b(t,o){var n=h(t,"isHidden",o);return e.map(n,"id")}function y(t,o){var n=h(t,"isCollapsed",o);return e.map(n,"id")}function P(e,t){var o=b(e,t);n.documentServices.documentMode.ignoreComponentsHiddenProperty(o)}function v(e,t){var o=y(e,t);n.documentServices.documentMode.ignoreComponentsCollapsedProperty(o)}function E(e){P(e),v(e),T(e)}function S(e,t){var o=n.selection.getSelectedComponents(),i={};i[e.id]=t,P(o,i),v(o,i)}function T(e){e&&1===e.length&&n.documentServices.pages.popupPages.isPopup(e[0].id)&&n.bi.event(o.bi.events.popups.pop_up_overlay_clicked)}var C=n.pluginService;C.registerPlugin(C.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.WRichText",function(){n.isMobileEditor()?n.openComponentPanel(o.constants.componentPanels.settings):(n.bi.event(o.bi.events.textControls.Text_Panel_opened,{origin:o.constants.USER_ACTIONS.ORIGIN.DOUBLE_CLICK}),n.text.startEditing())}),C.registerPlugin(C.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.SiteButton",a),C.registerPlugin(C.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.inputs.DatePicker",a),C.registerPlugin(C.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.inputs.FileUploader",a),C.registerPlugin(C.pluginConstants.DOUBLE_CLICK,o.constants.MULTISELECT.TYPE,e.noop),C.registerPlugin(C.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.Group",e.noop),C.registerPlugin(C.pluginConstants.DOUBLE_CLICK,"wysiwyg.viewer.components.inputs.TextInput",function(){n.isMobileEditor()||n.openComponentPanel(o.constants.componentPanels.settings)}),C.registerPlugin(C.pluginConstants.DOUBLE_CLICK,"mobile.core.components.Page",function(t,a){var r=n.siteSegments.getPagesContainerAbsLayout(),s=a.evt.pageX<r.x||a.evt.pageX>r.x+r.width,l=a.comp[0];if(n.documentServices.pages.popupPages.isPopup(l.id)){var c=i.getComponentMainActionClick(n,a.comp);return void(e.isFunction(c)&&c(n,a.comp,o.constants.USER_ACTIONS.ORIGIN.DOUBLE_CLICK))}s?n.panelManager.openPanel("rEditor.panels.backgroundPanel"):n.openComponentPanel(o.constants.componentPanels.design)}),n.registerCompNamePlugin("wysiwyg.viewer.components.HoverBox",function(o){for(var i=n.components.modes.getTypes(),a=e.filter(n.components.modes.getModes(o),["type",i.HOVER]),r=n.components.modes.getComponentActiveModeIds(o),s=0;s<a.length;s++)if(r[a[s].modeId])return t.translate("component_label_hover_box_onhover");return t.translate("component_label_hover_box")}),n.registerCompNamePlugin("wysiwyg.viewer.components.Column",function(o){var i=e(o).thru(n.components.getType).thru(function(e){return e.split(".")}).last(),a=e(o).thru(n.components.getContainer).thru(n.components.getChildren).findIndex(o)+1;return t.translate("component_label_"+i)+" "+a}),n.registerCompNamePlugin("mobile.core.components.Page",function(e){return n.documentServices.pages.popupPages.isPopup(e.id)?t.translate("component_label_Overlay"):t.translate("component_label_Page")}),n.registerCompNamePlugin("platform.components.AppController",function(t){return e.get(n.platform.controllers.getStageData(t),"controllerTypeDisplayName")}),n.registerRemovePlugin("wysiwyg.viewer.components.Column",function(e,t,o,i){n.columns.removeColumn(e,t,o,i)}),n.registerHidePlugin("wysiwyg.viewer.components.QuickActionBar",function(e){n.mobile.mobileOnlyComponents.removeQuickActionBar(e)}),n.registerDuplicatePlugin("wysiwyg.viewer.components.Column",function(t){var o=n.components.getContainer(t);if(!n.components.is.duplicatable(t,o))return[];var i=n.columns.duplicateColumn(e.head(t));return n.documentServices.waitForChangesApplied(function(){n.selection.selectComponentByCompRef(i),n.openFirstTimePanel(i)}),i}),C.registerPlugin("selection","*",E),C.registerPlugin("propertiesChange","*",S),C.registerPlugin("setContainer","*",f)}var r=[n.ACTIONS.SCREEN_IN,n.ACTIONS.EXIT,n.ACTIONS.MODE_IN,n.ACTIONS.MODE_EXIT,n.ACTIONS.MODE_CHANGE];return{register:a}}),define("rEditor/app/APISectionsPlugins/historyPlugins",["constants"],function(e){function t(t){t.pluginService.registerPlugin(e.HISTORY.REDO,e.DS_ACTIONS.ADD_PAGE,function(e,o){e.nextPage&&e.nextPage!==t.documentServices.pages.getFocusedPageId()?t.pages.navigateTo(e.nextPage,o):o()})}return{register:t}}),define("rEditor/app/updateOperationsPlugins/siteSeoUpdateOperationPlugin",["rEditor/app/updateOperationsPlugins"],function(e){function t(e,t){t=t&&t.replace(/^#/,"")||e.homePage.get();var o=e.documentServices.pages.data.get(t);return{name:o.pageTitleSEO,description:o.descriptionSEO,keywords:o.metaKeywordsSEO}}function o(e,t){e.site.setSEOSiteName(t.name),e.site.setSEOSiteDescription(t.description),e.site.setSEOSiteKeywords(t.keywords)}return{register:function(){e.setHomePagePlugins.list.push(function(e,n){o(e,t(e,n))}),e.updatePagePlugins.list.push(function(e,n){n===e.homePage.get()&&o(e,t(e,n))})}}}),define("rEditor/app/pluginsRegistrar",["rEditor/app/componentsPlugins","rEditor/app/APISectionsPlugins/historyPlugins","rEditor/app/updateOperationsPlugins/siteSeoUpdateOperationPlugin"],function(e,t,o){return{register:function(n){e.register(n),t.register(n),o.register()}}}),define("rEditor/app/APISections/concurrentUsersWrapper",["lodash","jquery","util"],function(e,t,o){function n(n){function i(t){a()?P=r()?window.setTimeout(function(){i(t)},b):window.setTimeout(function(){p(e.partial(s,t))},t?0:b):m()}function a(){var t=n.documentServices.generalInfo.getUserInfo(),i=o.cookie.getCookie("wixClient");return t&&t.name&&e.includes(i,t.name)}function r(){return n.documentServices.generalInfo.isFirstSave()}function s(t,o){if(t&&null===E&&(E=e.isEmpty(o)),!e.isEmpty(o)&&!c(y,o)){var a=l(y,o);y=o;var r={isFirstUser:E,concurrentUsers:o,concurrentUserToDisplay:a};n.panelManager.openPanel(g,r)}i(!1)}function l(t,o){var n={};e.forEach(t,function(e){n[e]=n});var i=null;return e.forEach(o,function(e){if(!n[e])return i=e,!1}),i}function c(t,o){if(t===o)return!0;if(t&&!o||!t&&o||e.size(t)<e.size(o))return!1;var n={},i=t.length;return e.forEach(t,function(e){n[e]=e}),e.forEach(o,function(e){n[e]=e}),i===e.size(n)}function p(e){e&&d(n.documentServices.generalInfo.getMetaSiteId(),o.editorModel.editorSessionId,e)}function d(e,o,n){var i=null,a=h({msid:e,esi:o});t.get(a).done(function(e){e&&(i=e.otherUsersOnSite||null),n(i)}).fail(function(){n(i)})}function u(){v||(v=!0,i(!0))}function m(){P&&(window.clearTimeout(P),P=null),y=null,v=!1}var g="panels.messagePanels.concurrentUserPanel",f=window.location.protocol+"//editor."+o.serviceTopology.baseDomain+"/concurrent-editing-session-watcher/watcher/report",h=e.template(f+"?msid=<%= msid %>&esi=<%= esi %>"),b=6e4,y=null,P=null,v=!1,E=null;return{checkForConcurrentUsers:u,stopCheckForConcurrentUsers:m}}return{create:n}}),define("rEditor/app/APISections/themeWrapper",["lodash"],function(e){function t(t){function o(o){return e.includes(o,"color")?t.documentServices.theme.colors.get(o):o}function n(){return t.theme.styles.excludedList||[]}function i(e){var o=t.theme.styles;o.excludedList||(o.excludedList=[]),o.excludedList.push(e)}function a(o,n,i){t.updateHooks&&e.forEach(t.updateHooks,function(e){e(o,n)}),t.documentServices.theme.styles.update(o,n),i||t.history.debouncedAdd("Update component style")}function r(){var o=t.documentServices.theme.styles;return e.difference(o.getAllIds(),t.theme.styles.getExcludedList())}function s(e){t.updateHooks=t.updateHooks||[],t.updateHooks.push(e)}return{colors:{get:o},styles:{getExcludedList:n,setExcluded:i,update:a,getAllIds:r,registerHook:s}}}return{create:t}}),define("rEditor/app/APISections/historyWrapper",["lodash","constants","core"],function(e,t,o){function n(n){function i(){e.forEach(f,n.panelManager.closePanelByName)}function a(t,o){e.assign(o,{isSameEditorMode:o.isMobileEditor===n.isMobileEditor(),selectedComps:n.selection.getSelectedComponents()}),i(),n.selection.deselectComponents(),n.setEditorMode(o.isMobileEditor,!0),t.call(n.documentServices.history),n.documentServices.waitForChangesApplied(function(){o.postAction?o.postAction(o,e.partial(r,o)):r(o)})}function r(t){var o=e.filter(t.selectedComps,n.components.is.exist.bind(n));if(!e.isEmpty(o)){var i=[n.documentServices.pages.getFocusedPageId()];n.documentServices.pages.popupPages.isPopupOpened()||i.push(n.pages.getMasterPageId());var a=e.get(n.components.getPage(o),"id");t.isSameEditorMode&&e.includes(i,a)&&n.selection.selectComponentByCompRef(o)}}function s(e,o){var i=n.pluginService.getPlugin(o,e.actionType);if(o===t.HISTORY.REDO)switch(e.actionType){case t.DS_ACTIONS.ADD_PAGE:e.postAction=i}return e}function l(t,o){n.rulers.resetRulersHistory();var i=n.isMobileEditor();o=e.defaults(o||{},{label:t,currentPage:n.documentServices.pages.getFocusedPageId(),isMobileEditor:i}),n.documentServices.history.add(t,o),g()}function c(t){n.history._debouncedAdd||(n.history._debouncedAdd=e.debounce(n.history.add,500)),n.history._debouncedAdd(t)}function p(){n.rulers.canUndo()?n.rulers.undo():n.documentServices.waitForChangesApplied(function(){if(n.text.isEditingText())return n.text.canUndo()&&n.rulers.resetRulersHistory(),void n.text.undo();var t=n.documentServices.history;t.canUndo()&&(n.rulers.resetRulersHistory(),d(t.undo.bind(t),t.getUndoLastSnapshotParams.bind(t),e.noop))})}function d(t,o,i){var r=o();(r=i(r)||r).currentPage===n.documentServices.pages.getFocusedPageId()?a(t,r):n.pages.isPageExist(r.currentPage)?n.pages.navigateTo(r.currentPage,e.partial(a,t,r)):(a(t,r),n.documentServices.waitForChangesApplied(function(){n.pages.navigateTo(r.currentPage)})),g()}function u(){n.rulers.canRedo()?n.rulers.redo():n.documentServices.waitForChangesApplied(function(){if(n.text.isEditingText())n.text.redo();else{var o=n.documentServices.history;o.canRedo()&&d(o.redo.bind(o),o.getRedoLastSnapshotParams.bind(o),e.partialRight(s,t.HISTORY.REDO))}})}function m(){n.documentServices.history.clear()}function g(){n.store.getState().savingStatus===o.constants.PROGRESS_STATUS.IDLE_SAVED&&n.updateState({savingStatus:o.constants.PROGRESS_STATUS.IDLE})}var f=["panels.toolPanels.colorPicker.colorPickerPanel","rEditor.panels.backgroundApplyPanel","compPanels.dynamicPanels.pinnedDockPanel","rEditor.panels.slideShowBgApplyPanel"];return{add:l,debouncedAdd:c,undo:p,redo:u,clear:m}}return{create:n}}),define("rEditor/app/APISections/imageCrop",["lodash","core","util","baseUI","constants","stateManagement"],function(e,t,o,n,i,a){function r(r){function s(e,t){var o=F.getMiddlePoint(e);return F.getPointRatioFromRect(o,t)}function l(e,t,o){var n=s(e,t);return{x:o.width*n.x,y:o.height*n.y}}function c(t,o,n){var i=e.clone(o),a=e.clone(n),r=F.getMiddlePoint(n),s=l(n,t,i),c={x:s.x-r.x,y:s.y-r.y};return a.x+=c.x,a.y+=c.y,i.x-=c.x,i.y-=c.y,{originArea:i,area:a}}function p(e,t,o){var n=e/F.getAreaRatioPercentage(t,o);return F.getResizedByRatio(t,n)}function d(t){return{cropOriginArea:t,cropArea:e(t).pick(["height","width"]).assign({x:0,y:0}).value()}}function u(e,t,o){var n=H.reverseAutoCrop(e,o),i=H.reverseManualCrop(n,o,t),a=H.reverseAutoCrop(i,t),r=H.manualCrop(a,o,t);return r=H.autoCrop(r,e),{cropOriginArea:a,cropArea:r}}function m(e,t,o){var n=H.reverseManualCrop(e,o,t);return{cropOriginArea:n,cropArea:H.manualCrop(n,o,t)}}function g(t,o){var n=H.reverseAutoCrop(t,o),i=e.assign({},n,{x:0,y:0});return i=H.autoCrop(i,e.pick(t,["height","width"])),{cropOriginArea:n,cropArea:i}}function f(t){var o=r.ui.stage.getEditingAreaLayout();if(t){var n=r.ui.stage.getMobileFrameLayout();return e({left:n.left-o.left,top:n.top-o.top}).defaults(n).thru(F.getRectByBoundingRect).value()}return{x:0,y:0,width:r.site.getSiteWidth(),height:r.site.getHeight()}}function h(e){var t=f(r.isMobileEditor());return{cropArea:H.ensure.areaWithinViewport(t,e),cropOriginArea:e.cropOriginArea}}function b(t){var o=r.components.data.get(t),n=r.components.properties.get(t),i=n.displayMode,a=r.components.layout.get(t).rotationInDegrees,s=i===U.fittingTypes.SCALE_TO_FILL,l=e.pick(r.components.layout.getRelativeToScreen(t),["height","width","x","y"]),c={},p=n.overrideCrop||o.crop,f=y((c=p||s?!p&&s?g(l,o):p&&!s?m(l,o,p):u(l,o,p):d(l)).cropArea,c.cropOriginArea,a);return e.assign(c.cropOriginArea,f),c=h(c)}function y(t,n,i){var a=e.clone(t);a.x+=n.x,a.y+=n.y;var r=o.math.getPointAsIfRectWasNotRotated(a,F.getMiddlePoint(n),-i);return{x:r.x-n.width/2,y:r.y-n.height/2}}function P(){return r.store.getState().imageCrop.isOn}function v(t){var n=o.imageTransform.fittingTypes,i=n.SCALE_TO_FILL,a=n.STRETCH,s=r.components.properties.get(t).displayMode;e.includes([i,a],s)||r.components.properties.update(t,{displayMode:i})}function E(s,l){var c,p,d=r.store.getState(),u=d.imageCrop,m=a.selection.selectors.selectSelectedCompsRefs(d);e.isEmpty(m)||(u.isOn=void 0===s?!u.isOn:s,u.isOn?(n.tooltipManager.hide(i.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE),v(m),c=b(m),r.bi.event(t.bi.events.imageCrop.Open_crop_mode,{fixed_layout:!1}),p=o.keyboardShortcuts.CONTEXTS.IMAGE_CROP):(c={cropArea:null,cropOriginArea:null},p=o.keyboardShortcuts.CONTEXTS.EDITOR),e.assign(u,c),l=l||e.noop,o.keyboardShortcuts.setContext(p),u.isOn?R(u,l):r.updateState({imageCrop:u},l))}function S(){return e.clone(r.store.getState().imageCrop.cropArea)}function T(){return e.clone(r.store.getState().imageCrop.cropOriginArea)}function C(e){var t=r.components.getContainer(e),o=r.components.layout.getRelativeToScreen(t);if(r.isMobileEditor())return o;var n=r.components.get.byId("PAGES_CONTAINER"),i=r.components.layout.getRelativeToScreen(n);return(r.components.is.fullWidth(t)||r.components.isShowOnAllPages(e))&&(o.x+=i.x),o}function I(t,n,i){var a=F.getMiddlePoint(t),r=e.assign({},n,{x:0,y:0}),s=o.math.getPointAsIfRectWasNotRotated(r,a,-i);return{x:s.x-t.width/2,y:s.y-t.height/2}}function _(t,o){var n=r.store.getState(),i=a.selection.selectors.selectSelectedCompsRefs(n),s=n.imageCrop,l=s.cropOriginArea,c=s.cropArea,p=r.components.layout.get(i).rotationInDegrees,d=t?{x:0,y:0}:C(i);if(!s)return null;var u=o?c:I(c,l,p);return e(c).pick(["height","width"]).assign({x:u.x+l.x-d.x,y:u.y+l.y-d.y}).value()}function O(t){return e(t).pick(["x","y","width","height"]).mapValues(Math.round).value()}function M(t,o){var n=e.cloneDeep(t);n.cropArea=O(t.cropArea),n.cropOriginArea=O(t.cropOriginArea),o=o||e.noop,r.updateState({imageCrop:n},o)}function A(t,o){M(e.assign({},r.store.getState().imageCrop,{cropOriginArea:t}),o)}function w(t,o){M(e.assign({},r.store.getState().imageCrop,{cropArea:t}),o)}function R(t,o){M(e.assign({},r.store.getState().imageCrop,t),o)}function D(){var t=r.store.getState(),o=a.selection.selectors.selectSelectedCompsRefs(t),n=r.components.data.get(o),i=r.components.layout.get(o).fixedPosition,s=r.imageCrop.getCropArea(),l=r.imageCrop.getCropOriginArea(),c=r.imageCrop.getCropAreaFinalPosition(i),p={width:l.width/n.width,height:l.height/n.height},d=e.mapValues({x:s.x/p.width,y:s.y/p.height,height:s.height/p.height,width:s.width/p.width},Math.round);F.areRectsTheSameSize(n,d)&&0===d.x&&0===d.y&&!r.isMobileEditor()&&(d=null),r.isMobileEditor()?r.components.properties.update(o,{overrideCrop:d}):r.components.data.update(o,{crop:d}),r.components.layout.update(o,c)}function k(e,t,n){var i=F.getMiddlePoint(e),a=F.getMiddlePoint(t),r={x:a.x-i.x,y:a.y-i.y},s=o.math.degToRad(n),l=o.math.rotateVectorAround(r,s);return{x:o.math.roundToNearestHalf(l.x-r.x),y:o.math.roundToNearestHalf(l.y-r.y)}}function B(t,o){var n=r.components.data.get(t),i=r.components.layout.get(t),a=i.rotationInDegrees,s=r.components.properties.get(t).displayMode,l=r.imageCrop.getCropOriginArea(),d=r.imageCrop.getCropArea(),u=F.getAspectRatio(i),m=e.assign({},n,{height:n.width*u}),g=s===U.fittingTypes.STRETCH?m:n,f=F.getRectMinDimensionsByContainedInnerRect(g,d),h=p(o,l,n),b=c(l,h=H.ensure.scaleWithinDimensions(h,d,f),d),y=H.ensure.areaIsFullyContained(b.originArea,b.area),P=k(l,y.originArea,a);return y.originArea.x+=P.x,y.originArea.y+=P.y,y}function N(e){return B(e,100)}function L(){var e=r.imageCrop.getCropOriginArea(),t=r.imageCrop.getCropArea(),o=Math.min(t.width,t.height);return t.height=o,t.width=o,{area:t,originArea:e}}function x(){var t=T(),o=F.getAspectRatio(t),n=S(),i=r.imageCrop.getCropAreaFinalPosition(!0),a=F.getRectMinDimensionsByContainedInnerRect(t,i),s=n.height>n.width?{height:a.height,width:a.height/o}:{width:a.width,height:a.width*o},l=f(r.isMobileEditor());if(i.x+s.width>F.getRight(l)){var c=F.getRight(l)-i.x;s={width:c,height:c*o}}return{area:e.assign({},s,{x:0,y:0}),originArea:e.assign({},i,s)}}var F=o.math.rect,H=o.imageCrop,U=o.imageTransform;return{isCropMode:P,toggleCropMode:E,getCropArea:S,getCropOriginArea:T,getCropAreaFinalPosition:_,setCropOriginArea:A,setCropArea:w,setCropData:R,updateCrop:D,getNewCropStateByPercentageFromOriginalImage:B,quickActions:{getNewCropStateForHundredPercent:N,getNewCropStateForSquare:L,getNewCropStateResetCrop:x}}}return{create:r}}),define("rEditor/app/APISections/siteWrapper",["core","util","lodash"],function(e,t,o){function n(n){function i(e){var t=o(e).split(";").filter(function(e){return o.startsWith(e,"viewer")}).map(function(e){return e.split("viewer:")[1]}).join(",");return t?"viewer:"+t:""}function a(e,n){var a=t.url;return n.forEach(function(t){var n=a.getParameterByName(t);n&&("experiments"===t||"experimentsoff"===t)&&o.includes(n,":")&&(n=i(n)),e=n?a.setUrlParam(e,t,n):e}),e}function r(){var e=window.location.hostname.match(/editor\.(.*)/);return e?"www."+e[1]:"www.wix.com"}function s(){return n.documentServices.seo.title.get()}function l(e){return n.documentServices.seo.title.set(e)}function c(){return n.documentServices.seo.description.get()}function p(e){return n.documentServices.seo.description.set(e)}function d(){return n.documentServices.seo.keywords.get()}function u(e){return n.documentServices.seo.keywords.set(e)}function m(){return n.documentServices.generalInfo.getMetaSiteId()}function g(){return n.documentServices&&n.documentServices.premiumFeatures&&n.documentServices.premiumFeatures.get().length>0}function f(){return n.components.layout.getRelativeToScreen(n.documentServices.siteSegments.getPagesContainer()).x}function h(t,o){var i=n.documentServices.generalInfo.getMetaSiteId();e.premiumServicesAPI.getSiteDomainInfo(i,t,o)}function b(){return n.store.getState().site.premiumPackage||-1}function y(){if(!n.documentServices)return null;var e=n.documentServices.generalInfo.getPublicUrl()||n.domain.getFreeDomainPrefix()+n.siteName.get();return e=e.replace(/^https?/i,n.domain.getSiteProtocol()),a(e,["ReactSource","experiments","experimentsoff","viewerexp"])}function P(){return window.document.getElementById("preview").getBoundingClientRect().width}return{getCurrentSiteDomain:r,getSEOSiteName:s,setSEOSiteName:l,getSEOSiteDescription:c,setSEOSiteDescription:p,getSEOSiteKeywords:d,setSEOSiteKeywords:u,getMetaSiteId:m,isPremium:g,getXPos:f,getSiteDomainInfo:h,getSitePremiumPackage:b,getSitePublicUrl:y,getSiteWidth:P}}return{create:n}}),define("rEditor/app/APISections/domainWrapper",["lodash","util"],function(e,t){function o(o){function n(){return o.documentServices.generalInfo.urlFormat.isSlash()?"wixsite.com":"wix.com"}function i(){return o.documentServices.generalInfo.isHttpsEnabled()?"https":"http"}function a(){var t=o.documentServices.generalInfo.getPublicUrl();return!e.isNil(t)&&!e.includes(t,n())}function r(){return i()+"://"+o.documentServices.generalInfo.getUserInfo().name+"."+n()+"/"}function s(){var e=t.cookie.getCookie("wixClient");return e.indexOf("GOOGLE_DOMAIN")>0||e.indexOf("REGRU")>0}return{getSiteProtocol:i,isDomainConnected:a,getFreeDomainPrefix:r,doesUserOwnGoogleDomain:s}}return{create:o}}),define("rEditor/bi/events.json",[],function(){return{QUALAROO_DUMMY_EVENT:{evid:9,fields:{testField:"testValue"}},UPGRADE_EVENT:{evid:519,fields:{origin:"string"}},AUTOSAVE_TEST:{src:42,endpoint:"ugc-viewer",evid:362,fields:{type:"string",uuid:"guid"}},IDE_TOPBAR_RESIZE:{endpoint:"platform",src:79,evid:20,fields:{old_hight:"string",new_hight:"string",site_id:"guid"}},LEFT_TREE_TOGGLE:{endpoint:"platform",src:79,evid:21,fields:{state:"string",site_id:"guid"}},PROPERTIES_PANEL_TOGGLE:{endpoint:"code",src:39,evid:141,fields:{state:"string",site_id:"guid"}},BG_IMAGE_SETTINGS_PANEL_SCROLL_EFFECT:{endpoint:"editor",src:38,evid:685,fields:{scroll_type:"string"}}}}),define("rEditor/bi/errors.json",[],function(){return{QUALAROO_SURVEY_TIMEOUT_NOT_SENT:{errorCode:8,errorName:"QUALAROO_SURVEY_TIMEOUT_NOT_SENT",desc:"qualaroo component was added without a timeout prop",severity:"error"}}}),define("rEditor/bi/bi",["rEditor/bi/events.json","rEditor/bi/errors.json"],function(e,t){return{events:e,errors:t,registerEvents:function(t){t.documentServices.bi.register("rEditor","event",e)}}}),define("rEditor/app/APISections/developerMode",["core","lodash","util","experiment","uiConstants","rEditor/bi/bi","rEditor/rootComps/gfpp/gfppModel","gfppData","constants"],function(e,t,o,n,i,a,r,s,l){function c(c){function p(){var t=!d(),o={developerModeEnabled:t,developerToolBarEnabled:t};c.userPreferences.site.set(e.constants.USER_PREFS.VIEW_TOOLS.DEVELOPER_MODE_ENABLED,t),c.userPreferences.site.set(e.constants.USER_PREFS.VIEW_TOOLS.DEVELOPER_TOOLBAR_ENABLED,t),t&&c.store.getState().viewTools.toolbarEnabled&&(o.toolbarEnabled=!1),t&&!c.userPreferences.site.get(e.constants.USER_PREFS.DEVELOPER_MODE.FIRST_TIME)&&u(),n.isOpen("se_platform1")&&t&&!require.specified("platform")&&require(["platform"],function(e){e.init(c,r.registerGfppActions,s.registerComponent,s.mergeComponentGfppData,l.ROOT_COMPS.GFPP.ACTIONS)}),o.showHiddenComponents=m(t),t||(c.selection.deselectComponents(),c.panelManager.closeAllPanelsOfType(l.PANEL_TYPES.FULL_STAGE)),f(g(e.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE)),c.documentServices.documentMode.showHiddenComponents(o.showHiddenComponents),c.documentServices.documentMode.showControllers(t),c.updateEditorViewTools(o)}function d(){var e=c.getViewTools();return!!e&&(n.isOpen("se_platform1")&&!!e.developerModeEnabled)}function u(){c.selection.deselectComponents(),c.panelManager.openPanel("wixCode.panels.developerWelcomePanel"),c.userPreferences.site.set(e.constants.USER_PREFS.DEVELOPER_MODE.FIRST_TIME,!0),c.userPreferences.site.set(e.constants.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS,!0)}function m(t){return t&&c.userPreferences.site.get(e.constants.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS)}function g(e,t){return{type:e,data:t}}function f(e){c.updateState({devModeContext:e})}function h(){if(!c.isPreviewReady())return g(e.constants.DEVELOPER_MODE.CONTEXT_TYPES.UNKNOWN);var t=c.store.getState().devModeContext;if(t.type===e.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE){var o=c.documentServices.pages.getFocusedPageId(),n={id:c.documentServices.pages.getFocusedPageId(),displayName:c.pages.getPageTitle(o),isPopup:c.documentServices.pages.popupPages.isPopup(o)};t=g(e.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE,n)}return t}function b(o){switch(o){case"ideSplitter_"+e.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE:return B.getInitialState("calc(100% - 234px)","bottom");case"ideSplitter_"+e.constants.DEVELOPER_MODE.CONTEXT_TYPES.FILE:case"ideSplitter_"+e.constants.DEVELOPER_MODE.CONTEXT_TYPES.COLLECTION:return B.getInitialState("0","top");case"consoleSplitter":return B.getInitialState("calc(100% - 234px)","bottom");case"fileTreeSplitter":var n=c.userPreferences.site.get(e.constants.USER_PREFS.DEVELOPER_MODE.FILE_PANE_SPLITTER);return t.isUndefined(n)?B.getInitialState("296px",!1):n}}function y(e){return c.store.getState()[e]||b(e)}function P(e,o){var n=t.drop(arguments,2),i=y(e);return o.apply(null,[i].concat(n))}function v(e,t,o,n){var i=P.apply(null,arguments),a={};return a[e]=i,c.updateState(a,n),a}function E(e,t,o,n){var i=o<=k;return o+D>=n?v(e,B.collapse,"bottom"):i?v(e,B.collapse,"top"):v(e,B.setSplitPosition,t)}function S(){var t=v.apply(null,arguments);c.userPreferences.site.set(e.constants.USER_PREFS.DEVELOPER_MODE.FILE_PANE_SPLITTER,t.fileTreeSplitter)}function T(t){var o=y(t);return B.isCollapsed(o,"top")?e.constants.DEVELOPER_MODE.CONTAINER_STATES.MAXIMIZED:B.isCollapsed(o,"bottom")?e.constants.DEVELOPER_MODE.CONTAINER_STATES.MINIMIZED:e.constants.DEVELOPER_MODE.CONTAINER_STATES.CUSTOM}function C(){return"ideSplitter_"+c.store.getState().devModeContext.type}function I(e){var o=t.tail(arguments);return e.apply(null,[C()].concat(o))}function _(){return"consoleSplitter"}function O(){var t=_(),o=T(t);return c.store.getState()[t]&&o===e.constants.DEVELOPER_MODE.CONTAINER_STATES.MINIMIZED}function M(e,t){c.bi.event(a.events.IDE_TOPBAR_RESIZE,{old_hight:c.developerMode.ui.idePane.getSplitPosition(),new_hight:(100*e/t).toPrecision(4)+"%",site_id:c.documentServices.generalInfo.getSiteId()})}function A(e,t,o){M(t,o),I(E,e,t,o)}function w(){var e=c.developerMode.ui.treePane.isOpen?"close":"open";c.bi.event(a.events.LEFT_TREE_TOGGLE,{state:e,site_id:c.documentServices.generalInfo.getSiteId()})}function R(e){w(),S("fileTreeSplitter",B.toggleCollapse,"left",e)}var D=i.WIX_CODE_TOPBAR_HEIGHT,k=54,B=o.splitterAPI;return{createContext:g,setContext:f,getContext:h,isEnabled:d,toggle:p,ui:{idePane:{getSplitPosition:t.partial(I,P,B.getSplitPosition),setSplitPosition:A,maximize:t.partial(I,v,B.collapse,"top"),unMaximize:t.partial(I,v,B.unCollapse,"top"),toggleMaximize:t.partial(I,v,B.toggleCollapse,"top"),minimize:t.partial(I,v,B.collapse,"bottom"),unMinimize:t.partial(I,v,B.unCollapse,"bottom"),toggleMinimize:t.partial(I,v,B.toggleCollapse,"bottom"),revertSize:t.partial(I,v,B.unCollapse),getState:t.partial(I,T)},consolePane:{getSplitPosition:t.partial(P,_(),B.getSplitPosition),setSplitPosition:t.partial(E,_()),minimize:t.partial(v,_(),B.collapse,"bottom"),unMinimize:t.partial(v,_(),B.unCollapse,"bottom"),minimizedByUser:t.partial(O),getState:t.partial(T,_())},treePane:{getSplitPosition:t.partial(P,"fileTreeSplitter",B.getSplitPosition),setSplitPosition:t.partial(S,"fileTreeSplitter",B.setSplitPosition),toggle:R,isOpen:t.negate(t.partial(P,"fileTreeSplitter",B.isCollapsed,"left"))},topbarHeight:D+"px"}}}return{create:c}}),define("rEditor/app/APISections/selectedComponent",["lodash"],function(e){function t(t){function o(e){var o=!t.components.layout.get(e).fixedPosition;return t.components.layout.setFixed(e,o),o}return{sendSelectedComponentBI:function(o,n){var i=t.selection.getSelectedComponents();if(o&&i){var a=t.getComponentType(i),r={component_id:e.head(i).id,component_type:a};n&&e.merge(r,n),t.bi.event(o,r)}},copy:function(){return t.copyPaste.copy(t.selection.getSelectedComponents())},duplicate:function(){return t.copyPaste.duplicate(t.selection.getSelectedComponents())},cut:function(){var e=t.selection.getSelectedComponents();return t.selection.isComponentSelected()&&t.components.cut(e),e},remove:function(){var e=t.selection.getSelectedComponents();return t.selection.isComponentSelected()&&t.components.remove(e),e},toggleFixedPosition:function(){var e=t.selection.getSelectedComponents();return!(!e||!t.components.layout.canBeFixedPosition(e))&&o(e)}}}return{create:t}}),define("rEditor/app/APISections/savePublishWrapper",["lodash","core","util","coreUtilsLib"],function(e,t,o,n){function i(e){return e()}function a(a){function r(e){P({isSaveInProgress:e})}function s(e){P({isPublishInProgress:e})}function l(e){P({isDiffSaveInProgress:e})}function c(){return a.store.getState().savePublish.isPublishInProgress}function p(){return a.store.getState().savePublish.isSaveInProgress}function d(){var e=a.store.getState().savePublish;return!e.isPublishInProgress&&!e.isSaveInProgress&&!A}function u(){var e=a.store.getState().savePublish;return!(e.isDiffSaveInProgress||e.isSaveInProgress||e.isPublishInProgress||A)}function m(){A=!0}function g(){A=!1}function f(){return A}function h(){var t=a.domain.isDomainConnected();return e.merge({isFirstSave:a.documentServices.generalInfo.isFirstSave(),isSitePublished:a.documentServices.generalInfo.isSitePublished(),isDomainConnected:t,domain:t?a.documentServices.generalInfo.getPublicUrl():y(),isSitePremium:a.site.isPremium()},a.store.getState().sitePremiumState)}function b(e){a.updateState({sitePremiumState:e})}function y(){return a.domain.getFreeDomainPrefix()+a.siteName.get()}function P(t){a.updateState({savePublish:e.merge({},a.store.getState().savePublish,t)})}function v(){a.userPreferences.loadSitePreferences(a.documentServices.generalInfo.getSiteId(),!0),a.leftBar.collapseMenu()}function E(e){try{return JSON.stringify(e)}catch(e){return"Failed to stringify save error info"}}function S(o,n,i){var r=e.keys(o),s=e.compact(e.map(o,"errorCode")),l={p1:r,p2:e.compact(e.map(o,"errorType")),p3:s};n?a.documentServices.bi.error(t.bi.errors.FIRST_SAVE_ERROR,l):i?a.documentServices.bi.error(t.bi.errors.FULL_SAVE_ERROR,l):a.documentServices.bi.error(t.bi.errors.SAVE_ERROR,l)}function T(e,t){return e?"first":t?"full":"partial"}function C(n,r,s,l){function c(){g.duration=e.now()-d,a.bi.event(t.bi.events.save.saveProcess.SUCCESS_SAVE_PROCESS,g),f=e.assign(f,g,{result:"success"}),R.addPageAction("save finish",f),u&&e.forEach(w,i),o.fedopsLogger.interactionEnded(o.fedopsLogger.INTERACTIONS.SAVE_FROM_TOPBAR),n&&(a.isSavedInCurrentSession=!0,n()),a.updateState({savingStatus:B.DONE_SUCCESS}),window.setTimeout(function(){var e=a.autosaveManager.shouldShowAutosaveUI()?B.IDLE_SAVED:B.IDLE;a.updateState({savingStatus:e})},t.constants.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)}function p(o){S(o,u,s),f=e.assign(f,{result:"failure",error:E(o)}),R.addPageAction("save finish",f),r&&r(o),a.updateState({savingStatus:B.DONE_FAILED}),window.setTimeout(function(){a.updateState({savingStatus:B.IDLE})},t.constants.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)}var d=e.now();a.updateState({savingStatus:B.IN_PROGRESS});var u=a.documentServices.generalInfo.isFirstSave(),m=T(u,s);a.bi.event(t.bi.events.save.saveProcess.SAVE_CLICK,{origin:l});var g={save_type:m};a.bi.event(t.bi.events.save.saveProcess.START_SAVE_PROCESS,g);var f=e.assign({is_first_save:u,save_count:++D},g);R.addPageAction("save start",e.clone(f)),e.defer(function(){a.documentServices.save(c,p,s),R.addPageAction("save computed",e.assign(e.clone(f),{duration:e.now()-d}))})}function I(e,t){function o(e){t&&t(e),n.log.info("Failed saving as template ",e)}function i(){e&&e()}a.documentServices.saveAsTemplate(i,o)}function _(n,i){function r(){l.result="success",R.addPageAction("publish finish",l),a.bi.event(t.bi.events.publish.SUCCESS_PUBLISH,c),e.forEach(a.sitePublishedCallbacks,function(e){e()}),o.fedopsLogger.interactionEnded(o.fedopsLogger.INTERACTIONS.PUBLISH_FROM_TOPBAR),n&&n(),a.updateState({publishingStatus:B.DONE_SUCCESS}),window.setTimeout(function(){a.updateState({publishingStatus:B.IDLE})},t.constants.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)}function s(e){l.result="failure",R.addPageAction("publish finish",l),i&&i(e),a.updateState({publishingStatus:B.DONE_FAILED}),window.setTimeout(function(){a.updateState({publishingStatus:B.IDLE})},t.constants.SAVE_PUBLISH.DURATION_TO_SHOW_RESULT)}a.updateState({publishingStatus:B.IN_PROGRESS});var l={publish_count:++k};R.addPageAction("publish start",e.clone(l));var c={publish_type:a.documentServices.generalInfo.isSitePublished()?"publish":"first_publish"};a.bi.event(t.bi.events.publish.START_PUBLISH,c),a.documentServices.publish(r,s)}function O(e){w.push(e)}function M(){var t=a.documentServices&&a.documentServices.canUserPublish();return!e.isBoolean(t)||t}var A=!1,w=[v],R=o.newrelic,D=0,k=0,B=t.constants.PROGRESS_STATUS;return{save:C,saveAsTemplate:I,publish:_,registerFirstSaveCallback:O,getSiteState:h,setSitePremiumState:b,lockSavePublish:m,unlockSavePublish:g,isSavePublishLocked:f,canDiffSave:u,canUserPublish:M,canSaveOrPublish:d,setSaveProgress:r,setPublishProgress:s,setDiffSaveProgress:l,isSaveInProgress:p,isPublishInProgress:c}}return{create:a}}),define("rEditor/utils/removeUtil",["lodash","util","core","experiment"],function(e,t,o,n){function i(e,t){var o=e.siteSegments.getFooter(),n=e.siteSegments.getHeader();return e.components.isDescendantOfComp(t,n)?n.id:e.components.isDescendantOfComp(t,o)?o.id:""}function a(t,o){var n=t.documentServices.components.getType(o),a={component_id:o.id,component_type:n,current_page_name:t.documentServices.pages.getFocusedPageId(),site_segment:i(t,o),origin:"",hide_method:""};if(t.isTpa(n)){var r=e.head(t.bi.getComponentsBIParams(o));r=e.omit(r,["is_last_tpa","widget_id"]),a=e.assign(a,r)}return a}function r(t,o){return e(t).flatMap(function(e){return o.components.is.container(e)?[e].concat(o.components.get.byAncestor(e)):e})}function s(o,n,i,a,r,s,l,c){var p=a[0];o.panelManager.openPanel("tpaPanels.confirmation.deleteContainerContainsPremiumTpa",{appName:p.appDefinitionName,appDefId:p.appDefinitionId,appCount:a.length,onConfirm:function(){P(n,i,r,!1,l,c),o.bi.reportBI(t.bi.events.COMPONENT_REMOVED,s),e.forEach(s,function(e){o.bi.event(t.bi.events.REMOVE_COMPONENT_SECOND_STEP_CLICK,e)})}},!0)}var l=function(e){return!!e.tpaApplicationId},c=function(e,t,o){var n=e.app.isPremium(t);return!!(n&&o>1)||!n&&o>0},p=function(o,n,i,a,r,s,p){var d=n.pages.getReference(a),m=n.pages.data.get(a),g=n.tpa.getPremiumTpaChildrenOnPage(d,m.tpaApplicationId,!0),f=n.wixapps.classics.isBlogPage(a),h=n.components.getTpaChildren(d),b=e.clone(h);f&&(b=b.concat(n.components.getBlogChildren(d)));var y=o.bi.getComponentsBIParams(b);e.forEach(y,function(e){e.removal_method="delete_page"});var P=l(m)&&n.tpa.app.isMultiSectionInstalled(m.tpaApplicationId);if(g.length>0&&!P||P&&c(n.tpa,m.tpaApplicationId,g.length)){var v=m&&m.title||"",E=g[0];o.panelManager.openPanel("tpaPanels.confirmation.deletePageContainsPremiumTpa",{appName:E.appDefinitionName,appDefId:E.appDefinitionId,appCount:g.length,pageTitle:v,onConfirm:function(){u(o,n,a,m,i,!1,y,r),e.forEach(g,function(e,i){var a={app_id:e.appDefinitionId,app_site_id:e.instanceId,instance_id:b[i].id,is_last_tpa:n.tpa.app.isLastAppComp(e.applicationId)?1:0,component_type:"tpa"};o.bi.event(t.bi.events.REMOVE_COMPONENT_SECOND_STEP_CLICK,a)})},onCancel:function(){s&&s()}},!0)}else f?o.panelManager.openPanel("blog.blogDeleteConfirmation",{onConfirm:function(){u(o,n,a,m,i,!1,y,r)},onCancel:function(){s&&s()}},!0):u(o,n,a,m,i,"boolean"!=typeof p||p,y,r)},d=function(e,o){e.bi.reportBI(t.bi.events.COMPONENT_REMOVED,o)},u=function(t,o,i,a,r,s,l,c){var p=o.tpa.section.getPageData(i),u=p.hasSection&&r[o.tpa.constants.COMP_TYPES.TPA_SECTION],g=o.wixapps.classics.isBlogPage(i);if(n.isOpen("dpages")){var f=o.pages.getReference(i),h=o.routers.getRouterRef.byPage(f);h&&t.documentServices.routers.pages.removePageFromRouter(h,i)}if(g)r.blog&&r.blog(),t.pages.beforePageRemoveHook(i,function(){e.forEach(o.pages.getPagesData(),function(e){o.wixapps.classics.isBlogPage(e.id)&&(o.pages.remove(e.id),d(t,l))}),c&&c()});else if(u)r[o.tpa.constants.COMP_TYPES.TPA_SECTION](i,p.title,p.appData,s,c,l);else if(s){var b={pageTitle:a.title,onConfirm:m.bind(this,t,o,i,c,l),isPopup:a.isPopup};t.panelManager.openPanel("panels.messagePanels.deletePageMessage",b,!0)}else m(t,o,i,c,l)},m=function(e,t,o,n,i){e.pages.beforePageRemoveHook(o,function(){t.pages.remove(o),n&&n(),d(e,i)})},g=function(t,n,i){var r=n.hidePlugins;e.forEach(i,function(e){var i=t.components.getType(e);r[i]?r[i](e):t.mobile.hiddenComponents.hide(e),!n.zoomMode.isInZoomMode()&&n.components.is.hiddenable(e)&&n.panelManager.openPanel("mobileEditor.hiddenItemsPanel");var s=a(n,e);n.bi.event(o.bi.events.mobileEditor.hiddenElements.HIDDEN_ELEMENTS_HIDE,s)})},f=function(t,o){var n=r(o,t),i=n.filter(function(e){return"platform.components.AppController"===t.components.getType(e)});if(i.isEmpty())return!1;var a=n.map("id").value();return i.map(function(e){return t.platform.controllers.connections.getConnectedComponents(e)}).some(function(t){return!e(t).map("id").difference(a).isEmpty()})},h=function(o,i,a,l,c,p){var d=e.some(a,o.components.is.container),u=a.length>1;if(o.viewMode.get()===o.viewMode.VIEW_MODES.MOBILE)g(o,l,a),c&&c();else{var m=function(){var e=y(a.length,function(){l.bi.reportBI(t.bi.events.COMPONENT_REMOVED,E)});P(o,i,a,!0,function(){return e(),c?c(arguments):null},p)},h=o.tpa.getPremiumTpaChildren(a),v=e.reject(h,o.tpa.app.hasSections),E=b(o,l,a);if((d||u)&&v.length>0)s(l,o,i,h,a,E,c,p);else if(n.isOpen("se_platform1")&&f(o,a)){var S=r(a,o).filter(function(e){return"platform.components.AppController"===o.components.getType(e)}).value(),T=1===S.length;l.panelManager.openPanel("platform.panels.appControllerDeleteConfirmationPanel",{onConfirm:m,isSingleController:T,controllerDisplayName:T?l.documentServices.platform.controllers.getName(S[0]):""})}else m()}},b=function(t,o,n){var i=t.tpa.getTpaPointersRecursive(n),a=n.concat(i);return a=e.uniqBy(a,"id"),o.bi.getComponentsBIParams(a)},y=function(e,t){var o=e;return function(){0===--o&&t()}},P=function(t,o,n,i,a,r){e.forEach(n,function(e){var n=t.components.getType(e),s=function(){t.components.remove(e,a,r)};o[n]?o[n](e,i,a,s):s()})};return{removePage:p,removeComponent:h,cutComponent:function(e,t,o){var n=e.components.getType(t);o[n]?o[n](t):e.components.remove(t)}}}),define("rEditor/utils/multiSelectHandler",["lodash"],function(e){return function(){var t=e.toArray(arguments),o=t.shift(),n=t.pop(),i=this.components.asArray(o);return this.multiselect.isMultiselect(i)?n.multiCompHandler.apply(this,[i].concat(t)):n.singleCompHandler.apply(this,[i[0]].concat(t))}}),define("rEditor/app/APISections/componentsFacade/layoutWrapper",["lodash","experiment","core","util","rEditor/utils/multiSelectHandler"],function(e,t,o,n,i){function a(a){function r(e,t,o,i){var r=m(e,t);i(e,n.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(a,e,r)),o||a.history.debouncedAdd("component - update layout")}function s(e,t,o){return r(e,t,o,a.documentServices.components.layout.update)}function l(e,t,o){var i=n.layoutUtils.getLayoutRelativeToParentFromRelativeToStructure(a,e,t);a.components.layout.update(e,i,o)}function c(e,t,o){var i=n.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(a,e,t);a.components.layout.updateAndPreserveProportions(e,i,o)}function p(e,t,o){var i=n.layoutUtils.getLayoutRelativeToParentFromRelativeToStructure(a,e,t);a.components.layout.updateAndPreserveProportions(e,i,o)}function d(e,t,o){a.documentServices.components.layout.updateAndPreserveProportions(t,o,!0)}function u(e,t){var n=a.components.layout.get(e);return o.utils.updateLayoutUtil.getLayoutAfterConstraints(a,e,t,n)}function m(e,t){var n=a.components.layout.getRelativeToScreen(e);return o.utils.updateLayoutUtil.getLayoutRelativeToScreenAfterConstraints(a,e,t,n)}function g(o,n,i){if(t.isOpen("se_screenWidthEditBox")&&a.components.layout.isHorizontallyStretchedToScreen(o))return n;var r={left:a.documentServices.components.layout.RESIZE_SIDES.LEFT,right:a.documentServices.components.layout.RESIZE_SIDES.RIGHT,top:a.documentServices.components.layout.RESIZE_SIDES.TOP,bottom:a.documentServices.components.layout.RESIZE_SIDES.BOTTOM},s=e.map(i,function(e,t){return r[t]});return e.difference(n,s)}function f(e){return a.documentServices.components.layout.canBeStretched(e)&&!a.components.layout.isPinned(e)}function h(e,t){var o=n.math.getSquaresIntersection(e,t);return o&&n.math.rect.getAreaRatioPercentage(o,t)}function b(e){return i.call(a,e,{multiCompHandler:a.multiselect.layout.get,singleCompHandler:a.documentServices.components.layout.get})}function y(t){var o=a.components.asArray(t);return e.every(o,function(e){return a.documentServices.components.layout.isRenderedInFixedPosition(e)})}function P(t){var o=a.components.asArray(t);return e.every(o,function(e){return a.documentServices.components.layout.isAncestorRenderedInFixedPosition(e)})}function v(t){var o=a.components.asArray(t);return e.every(o,function(e){return a.documentServices.components.layout.isShowOnFixedPosition(e)})}function E(t){var o=a.components.asArray(t);return e.every(o,function(e){return a.documentServices.components.layout.isHorizontallyStretchedToScreen(e)})}function S(t){var o=a.components.asArray(t);return e.every(o,function(e){return a.documentServices.components.layout.isDocked(e)})}function T(t){var o=a.components.asArray(t);return e.every(o,function(e){return a.documentServices.components.layout.isDockedToScreen(e)})}function C(e){return i.call(a,e,{multiCompHandler:a.multiselect.layout.unDock,singleCompHandler:a.documentServices.components.layout.unDock})}function I(t){var o=a.components.asArray(t);return e.every(o,function(e){return a.documentServices.components.layout.isRotated(e)})}function _(t){var o=e.isArray(t)?t:[t];return!e.isEmpty(o)&&e.every(o,function(t){return!e.isUndefined(t.docked)&&t.fixedPosition})}function O(t){var o=a.components.asArray(t);return!e.isEmpty(o)&&e.every(o,function(e){var t=a.documentServices.components.layout.get(e);return t.docked=a.documentServices.components.layout.getDock(e),a.components.is.pinnable(e)&&a.components.layout.isPinnedBySerializedLayout(t)})}function M(e){return i.call(a,e,{multiCompHandler:a.multiselect.layout.canBeStretched,singleCompHandler:f})}function A(e){return i.call(a,e,{multiCompHandler:a.multiselect.layout.canBeFixedPosition,singleCompHandler:a.documentServices.components.layout.canBeFixedPosition})}function w(e,t){return i.call(a,e,t,{multiCompHandler:a.multiselect.layout.getRelativeToScreen,singleCompHandler:a.documentServices.components.layout.getRelativeToScreen})}function R(e){return i.call(a,e,{multiCompHandler:a.multiselect.layout.getRelativeToScreenConsideringScroll,singleCompHandler:a.documentServices.components.layout.getRelativeToScreenConsideringScroll})}function D(e){return i.call(a,e,{multiCompHandler:a.multiselect.layout.getRelativeToStructure,singleCompHandler:a.documentServices.components.layout.getRelativeToStructure})}function k(t){return i.call(a,t,{multiCompHandler:a.multiselect.layout.getResizableSides,singleCompHandler:function(o){if(a.pinMode.isOpened())return{};if(a.components.is.group(o))return e.toArray(a.documentServices.components.layout.RESIZE_SIDES);var n=a.documentServices.components.layout.getResizableSides(o),i=a.components.layout.getDock(o);return i&&(n=g(t,n,i)),n}})}function B(t,o){var n=a.components.asArray(o);return!e.isEmpty(n)&&e.every(n,function(e){return t(e)})}function N(e){return B(a.components.is.resizableWithAnchors,e)}function L(e){return B(a.components.is.resizableDiagonally,e)}function x(e,t){return i.call(a,e,t,{multiCompHandler:a.multiselect.layout.getProportionStructure,singleCompHandler:a.documentServices.components.layout.getProportionStructure})}function F(e,t,o){if(t){var n=u(e,t);i.call(a,e,n,{multiCompHandler:a.multiselect.layout.update,singleCompHandler:a.documentServices.components.layout.update}),o||a.history.debouncedAdd("component - update layout")}}function H(e,t,o){i.call(a,e,t,o,{multiCompHandler:a.multiselect.layout.updateRelativeToStructure,singleCompHandler:l})}function U(e,t,o){i.call(a,e,t,o,{multiCompHandler:a.multiselect.layout.updateRelativeToScreen,singleCompHandler:s})}function G(e,t,o){i.call(a,e,t,o,{multiCompHandler:a.multiselect.layout.updateRelativeToStructureAndPreserveProportions,singleCompHandler:p})}function V(e,t,o,n){i.call(a,e,t,o,n,{multiCompHandler:a.multiselect.layout.updateRelativeToScreenAndPreserveProportions,singleCompHandler:c})}function W(e,t,o){i.call(a,e,t,o,{multiCompHandler:a.multiselect.layout.updateAndPreserveProportions,singleCompHandler:d})}function z(e,t,o,n){var r=u(e,t),s=i.call(a,e,r,{multiCompHandler:a.multiselect.layout.updateAndAdjustLayout,singleCompHandler:n});return o||a.history.debouncedAdd("component - update layout"),s}function q(e,t,o){return z(e,t,o,a.documentServices.components.layout.updateAndAdjustLayout)}function j(e,t,o){var i=n.layoutUtils.getLayoutRelativeToParentFromRelativeToStructure(a,e,t);return a.components.layout.updateAndAdjustLayout(e,i,o)}function Y(e,t,o){var i=n.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(a,e,t);return a.components.layout.updateAndAdjustLayout(e,i,o)}function K(e,t){return i.call(a,a,e,t,{multiCompHandler:a.multiselect.layout.setFixed,singleCompHandler:o.utils.fixedPositionUtils.setFixedPosition})}function X(e){return i.call(a,e,{multiCompHandler:a.multiselect.layout.isStretchedToScreen,singleCompHandler:a.documentServices.components.layout.isHorizontallyStretchedToScreen})}function Z(e,t){return i.call(a,e,t,{multiCompHandler:a.multiselect.layout.setDock,singleCompHandler:a.documentServices.components.layout.setDock})}function Q(e){return i.call(a,e,{multiCompHandler:a.multiselect.layout.getDock,singleCompHandler:a.documentServices.components.layout.getDock})}function J(e,t){return i.call(a,e,t,{multiCompHandler:a.multiselect.layout.updateDock,singleCompHandler:a.documentServices.components.layout.updateDock})}function $(e){return i.call(a,e,{multiCompHandler:a.multiselect.layout.updateAspectRatio,singleCompHandler:a.documentServices.components.layout.updateAspectRatio})}function ee(e){return i.call(a,e,{multiCompHandler:a.multiselect.layout.removeAspectRatio,singleCompHandler:a.documentServices.components.layout.removeAspectRatio})}function te(t){var o=a.components.asArray(t);return e.every(o,function(e){return a.documentServices.components.layout.isAspectRatioOn(e)})}function oe(e){var t=a.components.layout.getRelativeToScreen(e),n=a.components.layout.getRelativeToScreen(a.documentServices.siteSegments.getPagesContainer()),i=a.isMobileEditor()?o.constants.SIZE_LIMITS.MOBILE_DRAG_CONSTRAINT_MARGINS:0,r=n.x+i,s=n.x+n.width-i;return t.x+t.width<=r||t.x>=s}function ne(e){var t=a.components.layout.getRelativeToScreen(e),o=a.components.layout.getRelativeToStructure(e),n=t.width-o.width,i=a.site.getSiteX(),r=o.x+i-t.x;return{left:r,right:n-r}}function ie(e){if(!a.getCompRestrictions(e).container){var t=a.components.layout.getRelativeToStructure(e),o=a.components.layout.getRelativeToScreen(a.documentServices.siteSegments.getPagesContainer()),n=a.components.layout.getRelativeToScreen(a.documentServices.siteSegments.getHeader()),i=t.x<=30,r=t.x>=o.width-t.width-30,s=t.y<=n.height+30,l=t.y>=o.height-30;return i||r||s||l}}function ae(t,o){var n=a.components.layout.getRelativeToScreen(o),i=a.components.layout.getCompMargin(o),r=a.components.layout.getRelativeToScreen(t),s=e.assign({},n,{width:i.left}),l=e.assign({},n,{x:n.x+n.width-i.right,width:i.right});return(h(s,r)||0)>10||(h(l,r)||0)>10}function re(e,t,o){return r(e,t,o,a.documentServices.components.layout.continuousUpdate.on)}function se(){a.documentServices.components.layout.continuousUpdate.start()}function le(){a.documentServices.components.layout.continuousUpdate.end()}function ce(e,t,o){i.call(a,e,t,o,{multiCompHandler:a.multiselect.layout.continuousUpdateRelativeToScreen,singleCompHandler:re})}function pe(){a.documentServices.components.layout.continuousUpdateAndAdjustLayout.start()}function de(){a.documentServices.components.layout.continuousUpdateAndAdjustLayout.end()}function ue(e,t,o){return z(e,n.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(a,e,t),o,a.documentServices.components.layout.continuousUpdateAndAdjustLayout.on)}function me(e,t,o){a.documentServices.components.layout.continuousUpdateAndPreserveProportions.on(t,o,!0)}function ge(e,t,o){i.call(a,e,t,o,{multiCompHandler:a.multiselect.layout.continuousUpdateAndPreserveProportions,singleCompHandler:me})}function fe(e,t,o){ge(e,n.layoutUtils.getLayoutRelativeToParentFromRelativeToScreen(a,e,t),o)}function he(e,t,o,n){i.call(a,e,t,o,n,{multiCompHandler:a.multiselect.layout.continuousUpdateRelativeToScreenAndPreserveProportions,singleCompHandler:fe})}function be(){a.documentServices.components.layout.continuousUpdateAndPreserveProportions.start()}function ye(){a.documentServices.components.layout.continuousUpdateAndPreserveProportions.end()}return{get:b,isRenderedInFixedPosition:y,isAncestorRenderedInFixedPosition:P,isShowOnFixedPosition:v,isHorizontallyStretchedToScreen:E,isDocked:S,isDockedToScreen:T,unDock:C,isRotated:I,isPinnedBySerializedLayout:_,isPinned:O,canBeStretched:M,canBeFixedPosition:A,getRelativeToScreen:w,getRelativeToScreenConsideringScroll:R,getRelativeToStructure:D,getResizableSides:k,getResizableWithAnchors:N,getResizableDiagonally:L,getProportionStructure:x,update:F,updateRelativeToStructure:H,updateRelativeToScreen:U,updateRelativeToStructureAndPreserveProportions:G,updateRelativeToScreenAndPreserveProportions:V,updateAndPreserveProportions:W,updateAndAdjustLayout:q,updateRelativeToStructureAndAdjustLayout:j,updateRelativeToScreenAndAdjustLayout:Y,continuousUpdate:{start:se,on:ce,end:le},continuousUpdateAndPreserveProportions:{start:be,on:he,end:ye},continuousUpdateAndAdjustLayout:{start:pe,on:ue,end:de},setFixed:K,isStretchedToScreen:X,setDock:Z,getDock:Q,updateDock:J,updateAspectRatio:$,removeAspectRatio:ee,isAspectRatioOn:te,isCompOutOfPageBounds:oe,getCompMargin:ne,isCompExceedingContainerMargin:ae,isCompNearPageBounds:ie}}return{create:a}}),define("rEditor/app/APISections/componentsFacade/arrangementFacade",["core"],function(e){function t(t){function o(e){var o=t.components.asArray(e);if(!t.components.arrangement.canMoveForward(o))return null;t.documentServices.components.arrangement.moveForward(o[0]),t.history.add("component - move forward")}function n(e){var o=t.components.asArray(e);if(!t.components.arrangement.canMoveBackward(o))return null;t.documentServices.components.arrangement.moveBackward(o[0]),t.history.add("component - move backward")}function i(e){var o=t.components.asArray(e);if(!t.components.arrangement.canMoveForward(o))return null;t.documentServices.components.arrangement.moveToFront(o[0]),t.history.add("component - move to front")}function a(e){var o=t.components.asArray(e);if(!t.components.arrangement.canMoveBackward(o))return null;t.documentServices.components.arrangement.moveToBack(o[0]),t.history.add("component - move to back")}function r(e,o,n){var i=t.components.asArray(e);t.documentServices.components.arrangement.moveToIndex(i[0],o),n||t.history.add("component - move to index")}function s(o){var n=t.components.asArray(o);return t.multiselect.isMultiselect(n)?t.multiselect.arrangement.canMoveBackward(n):!(t.components.getType(n)===e.constants.COMP_TYPES.ANCHOR)&&t.documentServices.components.arrangement.canMoveBackward(n[0])}function l(o){var n=t.components.asArray(o);return t.multiselect.isMultiselect(n)?t.multiselect.arrangement.canMoveForward(n):!(t.components.getType(n)===e.constants.COMP_TYPES.ANCHOR)&&t.documentServices.components.arrangement.canMoveForward(n[0])}return{moveForward:o,moveBackward:n,moveToFront:i,moveToBack:a,moveToIndex:r,canMoveBackward:s,canMoveForward:l}}return{create:t}}),define("rEditor/app/APISections/componentsFacade/behaviorsFacade",["rEditor/utils/multiSelectHandler"],function(e){function t(t){function o(o,n,i){return e.call(t,o,n,i,{multiCompHandler:t.multiselect.behaviors.update,singleCompHandler:t.documentServices.components.behaviors.update})}function n(o){return e.call(t,o,{multiCompHandler:t.multiselect.behaviors.get,singleCompHandler:t.documentServices.components.behaviors.get})}function i(o,n,i){return e.call(t,o,n,i,{multiCompHandler:t.multiselect.behaviors.remove,singleCompHandler:t.documentServices.components.behaviors.remove})}function a(o){return e.call(t,o,{multiCompHandler:t.multiselect.behaviors.removeAll,singleCompHandler:t.documentServices.components.behaviors.removeAll})}function r(o,n,i){return e.call(t,o,n,i,{multiCompHandler:t.multiselect.behaviors.previewAnimation,singleCompHandler:t.documentServices.components.behaviors.previewAnimation})}function s(o){return e.call(t,o,{multiCompHandler:t.multiselect.behaviors.stopPreviewAnimation,singleCompHandler:t.documentServices.components.behaviors.stopPreviewAnimation})}function l(o,n,i,a){return e.call(t,o,n,i,a,{multiCompHandler:t.multiselect.behaviors.execute,singleCompHandler:t.documentServices.components.behaviors.execute})}function c(o){return e.call(t,o,{multiCompHandler:t.multiselect.behaviors.getRuntimeState,singleCompHandler:t.documentServices.components.behaviors.getRuntimeState})}return{update:o,get:n,remove:i,removeAll:a,previewAnimation:r,stopPreviewAnimation:s,execute:l,getRuntimeState:c}}return{create:t}}),define("rEditor/componentsMetaData/components/bgImageStrip",[],function(){return{pinnable:!1}}),define("rEditor/componentsMetaData/components/fiveGridLine",[],function(){return{pinnable:!1}}),define("rEditor/componentsMetaData/components/footer",[],function(){return{pinnable:!1,showLegacyFixedPosition:!0}}),define("rEditor/componentsMetaData/components/header",[],function(){return{pinnable:!1,showLegacyFixedPosition:!0}}),define("rEditor/componentsMetaData/components/screenWidthContainer",[],function(){return{pinnable:!1}}),define("rEditor/componentsMetaData/components/stripShowcase",[],function(){return{pinnable:!1}}),define("rEditor/componentsMetaData/components/stripSlideshowGallery",[],function(){return{pinnable:!1}}),define("rEditor/componentsMetaData/components/blogComponents",["coreUtilsLib","lodash","experiment"],function(e,t,o){var n=e.blogAppPartNames;return{pinnable:!1,selectable:function(e,i){if(o.isOpen("se_blogHeroImage")&&e.components.data.get(i).appPartName===n.HERO_IMAGE){var a=e.documentServices.wixapps.classics.getAppPartExtraData(i);if(a)return t.head(a.items).coverImageData.isHeroImage}return!0},containable:function(e,o){var i=[n.FEED,n.SINGLE_POST,n.RELATED_POSTS],a=e.components.data.get(o);return!t.includes(i,a.appPartName)}}}),define("rEditor/componentsMetaData/components/rssButton",[],function(){return{pinnable:!1}}),define("rEditor/componentsMetaData/components/tpaGluedWidget",["lodash"],function(e){var t=["14517e1a-3ff0-af98-408e-2bd6953c36a2"];return{pinnable:!1,selectable:function(o,n){var i=o.isMobileEditor(),a=(o.components.data.get(n)||{}).applicationId,r=o.documentServices.tpa.app.getData(a)||{},s=e.includes(t,r.appDefinitionId);return!i||i&&!s}}}),define("rEditor/rootComps/overlay/overlayWithHole.rt",["react","lodash"],function(e,t){return function(){return e.createElement("div",{style:{position:"absolute",height:"100%",width:"100%"}},e.createElement("div",{style:this.getStyles()}))}}),define("rEditor/rootComps/overlay/overlayWithHole",["create-react-class","lodash","core","rEditor/rootComps/overlay/overlayWithHole.rt"],function(e,t,o,n){return e({displayName:"overlayWithHole",mixins:[o.mixins.editorAPIMixin],getHoleLayout:function(){return this.getEditorAPI().components.layout.getRelativeToScreen(this.props.hole)},getStyles:function(){var e=this.getHoleLayout(),t={width:e.width,height:e.height,top:e.y,left:e.x,position:"absolute",boxShadow:"0 0 0 9999px "+this.props.background};return e.rotationInDegrees&&(t.transform="rotate("+e.rotationInDegrees+"deg)"),t},render:n})}),define("rEditor/rootComps/overlay/overlayWithQuickTip",["react","create-react-class","lodash","core","baseUI"],function(e,t,o,n,i){function a(e){var t=e.cursor.get();return{height:0,width:0,top:t.y||0,left:t.x||0}}function r(e,t,o){e.userPreferences.session.set(t,!0),window.setTimeout(function(){e.userPreferences.session.set(t,!1)},o)}return t({displayName:"overlayWithQuickTip",mixins:[n.mixins.editorAPIMixin],componentWillMount:function(){this.quickTipShowTimeoutId=this.showQuickTip()},showQuickTip:function(){var t=this.getEditorAPI(),n=t.userPreferences.session,r=this.props.quickTipSession.id+this.props.hoveredComp.id,s=t.userPreferences.session.get(r)||0;return this.sessionDisabledId=r+"-disabled",s>=this.props.quickTipSession.maxNum||n.get(this.sessionDisabledId)?null:window.setTimeout(function(){var l=a(t),c=e.createElement(i.popoverTemplates.quickTip,o.assign(this.props.templateInfo,{closeAction:this.closeQuickTip}));this.quickTipShowTimeoutId=null,this.isQuickTipShown=!0,n.set(r,s+1),t.showFloatingBubble(c,l,this.props.propsForBubble,this.props.shouldNotHideOnMouseLeaveTarget)}.bind(this),this.props.delayBeforeShow)},closeQuickTip:function(){this.getEditorAPI().hideFloatingBubble(),this.getEditorAPI().overlay.enableUpdate(),this.isQuickTipShown=!1},componentWillUnmount:function(){this.isQuickTipShown&&(this.props.delayBeforeNext&&r(this.getEditorAPI(),this.sessionDisabledId,this.props.delayBeforeNext),this.closeQuickTip()),this.quickTipShowTimeoutId&&window.clearTimeout(this.quickTipShowTimeoutId)},render:function(){return this.props.children}})}),define("rEditor/componentsMetaData/components/popupOverlay",["lodash","react","baseUI","rEditor/rootComps/overlay/overlayWithHole","rEditor/rootComps/overlay/overlayWithQuickTip"],function(e,t,o,n,i){function a(e){return{delayBeforeShow:500,delayBeforeNext:1500,quickTipSession:{id:"popupOverlayQuickTipShownFor-",maxNum:4},shouldNotHideOnMouseLeaveTarget:!1,templateInfo:{text:"POPUPS_OVERLAY_HOVER_TOOLTIP",symbol:"idea-bulb"},propsForBubble:{noArrow:!0,shake:!1,behindPopUps:!0,alignment:o.uiConstants.TOOLTIP.ALIGNMENT.RIGHT,closeTriggers:[o.uiConstants.TOOLTIP.TRIGGERS.CLICK],onMouseLeave:e.overlay.enableUpdate,onMouseEnter:e.overlay.disableUpdate}}}return{pinnable:!1,shouldBeOverlayed:function(e,t){return!e.isMobileEditor()&&e.documentServices.pages.popupPages.isPopup(t.id)},getOverlay:function(o,r){var s=t.createElement(n,{hole:o.pages.popupPages.getPopupContainer(),background:"rgba(127, 204, 247, 0.4)"});return t.createElement(i,e.assign({hoveredComp:r},a(o)),s)},getOverlayProperties:function(){return{enter:{duration:300,delay:500},leave:{duration:300}}}}}),define("rEditor/componentsMetaData/components/page",["lodash","rEditor/componentsMetaData/components/popupOverlay"],function(e,t){return e.assign({},{pinnable:!1},t)}),define("rEditor/componentsMetaData/components/boxSlideShow",["baseUI","boxSlideshow","gfppData"],function(e,t,o){function n(e,t){if(o.utils.isPanelOpen(e,r)){var n={selectedComponent:[a.findCurrentSlide(e,t)]};e.panelManager.updatePanelProps(r,n)}}function i(e,t){e.selection.selectComponentByCompRef(t)}var a=t.utils.boxSlideShowUtils,r="compPanels.panels.BoxSlideShow.backgroundPanel";return{slidesContainer:!0,focusable:!0,focusBoxNavType:e.uiConstants.NAVIGATION_TYPES.PAGINATION,canContain:!1,canContainByStructure:!1,focusBoxNavContent:function(e,t){return{label:"gfpp_action_navigation_label",labelParams:{curr_slide:a.getCurrentSlideIndex(e,t)+1,total_slides:a.getTotalSlidesLength(e,t)},onNext:a.moveNextSlide.bind(null,e,t,n),onPrev:a.movePrevSlide.bind(null,e,t,n),onLabelClick:i.bind(null,e,t)}}}}),define("rEditor/componentsMetaData/components/stripSlideShowMetaData",["baseUI","boxSlideshow","gfppData"],function(e,t,o){function n(e,t){if(o.utils.isPanelOpen(e,r)){var n={selectedComponent:[a.findCurrentSlide(e,t)]};e.panelManager.updatePanelProps(r,n)}}function i(e,t){e.selection.selectComponentByCompRef(t)}var a=t.utils.boxSlideShowUtils,r="compPanels.panels.StripContainerSlideShow.backgroundPanel";return{slidesContainer:!0,focusable:!0,focusBoxNavType:e.uiConstants.NAVIGATION_TYPES.PAGINATION,canContain:!1,canContainByStructure:!1,pinnable:!1,focusBoxNavContent:function(e,t){return{label:"gfpp_action_navigation_label",labelParams:{curr_slide:a.getCurrentSlideIndex(e,t)+1,total_slides:a.getTotalSlidesLength(e,t)},onNext:a.moveNextSlide.bind(null,e,t,n),onPrev:a.movePrevSlide.bind(null,e,t,n),onLabelClick:i.bind(null,e,t)}}}}),define("rEditor/componentsMetaData/components/boxSlideShowSlide",[],function(){return{selectable:!1,slideContainer:!0}}),define("rEditor/componentsMetaData/components/stripSlideShowSlide",[],function(){return{selectable:!1,slideContainer:!0}}),define("rEditor/componentsMetaData/components/anchor",[],function(){return{pinnable:!1}}),define("rEditor/componentsMetaData/components/collage",[],function(){return{pinnable:!1}}),define("rEditor/componentsMetaData/components/wRichText",[],function(){return{pinnable:!1,resizableWithAnchors:!1,resizableDiagonally:!1}}),define("rEditor/componentsMetaData/components/group",[],function(){return{pinnable:!1,selectedBeforeDescendants:!0}}),define("rEditor/componentsMetaData/components/stripContainer",[],function(){return{pinnable:!1}}),define("rEditor/componentsMetaData/components/stripColumnsContainer",[],function(){return{selectedBeforeDescendants:function(e,t,o){return e.columns.isMultiColumnsStrip(t)&&e.columns.isColumn(o)},pinnable:!1}}),define("rEditor/componentsMetaData/components/tpaSection",[],function(){return{pinnable:!1}}),define("rEditor/componentsMetaData/components/column",["lodash","baseUI","util"],function(e,t,o){function n(e,t){return e.components.getSiblings(t).length}function i(e,t){return e.isDesktopEditor()&&n(e,t)}return{showMarginsIndicator:i,focusable:n,focusBoxNavType:t.uiConstants.NAVIGATION_TYPES.TABS,focusBoxNavContent:function(t,n){var i=e.template(o.translate("gfpp_column_navigation_slide_number")),a=t.components.getContainer(n),r=t.components.getChildren(a),s=e.findIndex(r,function(t){return e.isEqual(t,n)});return{tabs:[{id:"item_"+s,label:i({curr_column:s+1}),active:!0}],onTabClick:function(){t.selection.selectComponentByCompRef(n)},translate:!1}},selectable:n,movable:!1,canMoveUp:!1,verticallyMovable:!1,disabledKnobs:function(t){return t.isMobileEditor()?e.values(t.documentServices.components.layout.RESIZE_SIDES):e(t.documentServices.components.layout.RESIZE_SIDES).omit("BOTTOM").values().value()},controlledByParent:!0}}),define("rEditor/componentsMetaData/components/popupCloseIconButton",[],function(){return{duplicatable:!1}}),define("rEditor/componentsMetaData/components/popupCloseTextButton",[],function(){return{duplicatable:!1}}),define("rEditor/componentsMetaData/components/popupContainerMetaData",["baseUI"],function(e){var t={nineGrid:function(e){return"center"===e.horizontalAlignment},fullWidth:function(){return!0},fullHeight:function(){return!1}};return{pinnable:!1,gridLinesVisible:function(e,o){var n=e.components.properties.get(o),i=t[n.alignmentType];if(i)return i(n)},focusable:!0,focusBoxNavType:e.uiConstants.NAVIGATION_TYPES.TABS,focusBoxNavContent:function(e,t){return{tabs:[{id:"item",label:"component_label_PopupContainer_Popupmode",active:!0}],onTabClick:function(){e.selection.selectComponentByCompRef(t)},translate:!0}}}}),define("rEditor/componentsMetaData/components/mediaControlsContainer",["lodash"],function(e){function t(e){return!e.isMobileEditor()}return{disabledKnobs:function(t){return e.values(t.documentServices.components.layout.RESIZE_SIDES)},controlledByParent:!0,selectable:t}}),define("rEditor/componentsMetaData/components/mediaOverlayControls",[],function(){return{controlledByParent:!0}}),define("rEditor/componentsMetaData/components/mediaPlayer",[],function(){return{allowLassoOnContainer:!1}}),define("rEditor/componentsMetaData/components/quickActionBarItem",[],function(){return{selectable:!1}}),define("rEditor/componentsMetaData/components/quickActionBar",["experiment"],function(e){return{selectable:function(){return e.isOpen("se_qab")}}}),define("rEditor/componentsMetaData/components/tinyMenu",[],function(){return{pinnable:!1,showLegacyFixedPosition:!0}}),define("rEditor/componentsMetaData/metaDataMap",["rEditor/componentsMetaData/components/bgImageStrip","rEditor/componentsMetaData/components/fiveGridLine","rEditor/componentsMetaData/components/footer","rEditor/componentsMetaData/components/header","rEditor/componentsMetaData/components/screenWidthContainer","rEditor/componentsMetaData/components/stripShowcase","rEditor/componentsMetaData/components/stripSlideshowGallery","rEditor/componentsMetaData/components/blogComponents","rEditor/componentsMetaData/components/rssButton","rEditor/componentsMetaData/components/tpaGluedWidget","rEditor/componentsMetaData/components/page","rEditor/componentsMetaData/components/boxSlideShow","rEditor/componentsMetaData/components/stripSlideShowMetaData","rEditor/componentsMetaData/components/boxSlideShowSlide","rEditor/componentsMetaData/components/stripSlideShowSlide","rEditor/componentsMetaData/components/anchor","rEditor/componentsMetaData/components/collage","rEditor/componentsMetaData/components/wRichText","rEditor/componentsMetaData/components/group","rEditor/componentsMetaData/components/stripContainer","rEditor/componentsMetaData/components/stripColumnsContainer","rEditor/componentsMetaData/components/tpaSection","rEditor/componentsMetaData/components/column","rEditor/componentsMetaData/components/popupCloseIconButton","rEditor/componentsMetaData/components/popupCloseTextButton","rEditor/componentsMetaData/components/popupContainerMetaData","rEditor/componentsMetaData/components/mediaControlsContainer","rEditor/componentsMetaData/components/mediaOverlayControls","rEditor/componentsMetaData/components/mediaPlayer","rEditor/componentsMetaData/components/quickActionBarItem","rEditor/componentsMetaData/components/quickActionBar","rEditor/componentsMetaData/components/tinyMenu"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m,g,f,h,b,y,P,v,E,S,T,C,I,_,O,M,A,w,R){return{"wysiwyg.viewer.components.BgImageStrip":e,"wysiwyg.viewer.components.FiveGridLine":t,"wysiwyg.viewer.components.FooterContainer":o,"wysiwyg.viewer.components.HeaderContainer":n,"wysiwyg.viewer.components.ScreenWidthContainer":i,"tpa.viewer.components.StripSlideshow":r,"tpa.viewer.components.StripShowcase":a,"wixapps.integration.components.AppPart":s,"wysiwyg.common.components.rssbutton.viewer.RSSButton":l,"wysiwyg.viewer.components.tpapps.TPAGluedWidget":c,"mobile.core.components.Page":p,"wysiwyg.viewer.components.BoxSlideShow":d,"wysiwyg.viewer.components.StripContainerSlideShow":u,"wysiwyg.viewer.components.BoxSlideShowSlide":m,"wysiwyg.viewer.components.StripContainerSlideShowSlide":g,"wysiwyg.common.components.anchor.viewer.Anchor":f,"tpa.viewer.components.Collage":h,"wysiwyg.viewer.components.WRichText":b,"wysiwyg.viewer.components.Group":y,"wysiwyg.viewer.components.StripContainer":P,"wysiwyg.viewer.components.StripColumnsContainer":v,"wysiwyg.viewer.components.tpapps.TPASection":E,"wysiwyg.viewer.components.Column":S,"wysiwyg.viewer.components.PopupCloseIconButton":T,"wysiwyg.viewer.components.PopupCloseTextButton":C,"wysiwyg.viewer.components.PopupContainer":I,"wysiwyg.viewer.components.MediaControls":_,"wysiwyg.viewer.components.MediaOverlayControls":O,"wysiwyg.viewer.components.MediaPlayer":M,"wysiwyg.viewer.components.QuickActionBarItem":A,"wysiwyg.viewer.components.QuickActionBar":w,"wysiwyg.viewer.components.mobile.TinyMenu":R}}),define("rEditor/app/APISections/singleCompHandlers/componentsMetaData",["lodash","experiment","rEditor/componentsMetaData/metaDataMap"],function(e,t,o){function n(t,n){return!o[t]||e.isUndefined(o[t][n])?a[n]:o[t][n]}function i(t,o,i){var a=n(t.components.getType(i),o);if("function"==typeof a){var r=e.toArray(arguments);return r.splice(1,1),a.apply(this,r)}return a}var a={pinnable:!0,showLegacyFixedPosition:!1,duplicatable:!0,controlledByParent:!1,containable:!0,canContain:!0,containableByStructure:!0,canContainByStructure:!0,focusable:!1,movable:!0,verticallyMovable:!0,canMoveUp:!0,resizable:!0,rotatable:!0,selectable:!0,slidesContainer:!1,slideContainer:!1,showMarginsIndicator:!1,selectedBeforeDescendants:!1,disabledKnobs:[],resizeOnlyProportionally:!1,resizableWithAnchors:!0,resizableDiagonally:!0,shouldBeOverlayed:!1,allowLassoOnContainer:!0},r={getRestrictions:function(t,o){var n=this;return e.reduce(o,function(e,o){return e[o]=r.is[o].call(n,t),e},{})},is:{controlledByParent:function(e){return i(this,"controlledByParent",e)},fixed:function(e){return this.documentServices.components.layout.get(e).fixedPosition},exist:function(e){return this.documentServices.components.is.exist(e)},container:function(e){return this.documentServices.components.is.container(e)},selectable:function(e){return i(this,"selectable",e)},siteSegment:function(t){var o=this.siteSegments.getRefs();return e.find(o,t)},removable:function(e){return this.documentServices.components.is.removable(e)},anchorableFrom:function(e){return this.documentServices.components.is.anchorableFrom(e)},anchorableTo:function(e){return this.documentServices.components.is.anchorableTo(e)},duplicatable:function(e,t){return i(this,"duplicatable",e,t)&&this.documentServices.components.is.duplicatable(e,t)},containable:function(e,t){return i(this,"containable",e,t)&&i(this,"canContain",t,e)&&this.documentServices.components.is.containable(e,t)},containableByStructure:function(t,o){var a=n(t.componentType,"containableByStructure");return(e.isFunction(a)?a(t,o):a)&&i(this,"canContainByStructure",o,t)&&this.documentServices.components.is.containableByStructure(t,o)},styleCanBeApplied:function(e,t){return this.documentServices.components.is.styleCanBeApplied(e,t)},movable:function(e){return i(this,"movable",e)&&this.documentServices.components.is.movable(e)},horizontallyMovable:function(e){return t.isOpen("layoutTractor")?this.documentServices.components.is.horizontallyMovable(e)&&!this.components.layout.isPinned(e)&&!this.components.layout.isHorizontallyStretched(e):this.documentServices.components.is.horizontallyMovable(e)&&!this.components.layout.isPinned(e)&&!this.components.layout.isHorizontallyStretchedToScreen(e)},verticallyMovable:function(e){return t.isOpen("layoutTractor")?i(this,"verticallyMovable",e)&&this.documentServices.components.is.verticallyMovable(e)&&!this.components.layout.isPinned(e)&&!this.components.layout.isVerticallyStretched(e):i(this,"verticallyMovable",e)&&this.documentServices.components.is.verticallyMovable(e)&&!this.components.layout.isPinned(e)},canMoveUp:function(e){return i(this,"canMoveUp",e)&&this.documentServices.components.is.canMoveUp(e)},focusable:function(e){return i(this,"focusable",e)},fullWidth:function(e){return this.documentServices.components.is.fullWidth(e)},rotatable:function(e){return i(this,"rotatable",e)&&this.documentServices.components.is.rotatable(e)},slidesContainer:function(e){return i(this,"slidesContainer",e)},slideContainer:function(e){return i(this,"slideContainer",e)},hoverBox:function(e){return i(this,"hoverBox",e)},resizable:function(e){return i(this,"resizable",e)&&this.documentServices.components.is.resizable(e)},horizontallyResizable:function(e){return!this.components.layout.isHorizontallyStretchedToScreen(e)&&(this.documentServices.components.is.horizontallyResizable(e)||this.components.is.group(e))},verticallyResizable:function(e){return this.documentServices.components.is.verticallyResizable(e)||this.components.is.group(e)},proportionallyResizable:function(e){return!this.components.is.fullWidth(e)&&!this.components.layout.isPinned(e)&&!this.components.is.controlledByParent(e)&&this.components.is.horizontallyResizable(e)&&this.components.is.verticallyResizable(e)},resizeOnlyProportionally:function(e){return this.documentServices.components.is.resizeOnlyProportionally(e)},group:function(e){return this.documentServices.components.is.group(e)},groupable:function(e){return this.documentServices.components.is.groupable(e)&&!i(this,"controlledByParent",e)},topMost:function(e,t){return this.documentServices.components.is.topMost(e,t)},leftMost:function(e,t){return this.documentServices.components.is.leftMost(e,t)},groupedComponent:function(e){return this.documentServices.components.is.groupedComponent(e)},animatable:function(e,t){return this.documentServices.components.is.animatable(e,t)},pinnable:function(e){return i(this,"pinnable",e)&&this.components.layout.canBeFixedPosition(e)&&!this.components.is.fullWidth(e)&&!this.components.layout.isRotated(e)&&!this.components.layout.isHorizontallyStretchedToScreen(e)&&!this.components.is.controlledByParent(e)},showLegacyFixedPosition:function(e){return i(this,"showLegacyFixedPosition",e)},alignable:function(e){return this.documentServices.components.is.alignable(e)&&this.components.is.movable(e)},draggable:function(e){return this.components.is.movable(e)&&!this.components.layout.isPinned(e)&&!this.components.is.page(e)},allowLassoOnContainer:function(e){return i(this,"allowLassoOnContainer",e)},showMarginsIndicator:function(e){return i(this,"showMarginsIndicator",e)},focusBoxNavType:function(e){return i(this,"focusBoxNavType",e)},focusBoxNavContent:function(e){return i(this,"focusBoxNavContent",e)},selectedBeforeDescendants:function(e,t){return i(this,"selectedBeforeDescendants",e,t)},disabledKnobs:function(e){return i(this,"disabledKnobs",e)},shouldBeOverlayed:function(e){return i(this,"shouldBeOverlayed",e)},getOverlay:function(e,t){return i(this,"getOverlay",e,t)},getOverlayProperties:function(e){return i(this,"getOverlayProperties",e)},gridLinesVisible:function(e){return i(this,"gridLinesVisible",e)},resizableWithAnchors:function(e){return i(this,"resizableWithAnchors",e)},resizableDiagonally:function(e){return i(this,"resizableDiagonally",e)}}};return r}),define("rEditor/app/APISections/componentsFacade/componentsMetaDataFacade",["lodash","rEditor/utils/multiSelectHandler","rEditor/app/APISections/singleCompHandlers/componentsMetaData"],function(e,t,o){function n(n){function i(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.controlledByParent,singleCompHandler:o.is.controlledByParent})}function a(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.fixed,singleCompHandler:o.is.fixed})}function r(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.exist,singleCompHandler:o.is.exist})}function s(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.container,singleCompHandler:o.is.container})}function l(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.selectable,singleCompHandler:o.is.selectable})}function c(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.siteSegment,singleCompHandler:o.is.siteSegment})}function p(t){if(e.includes(t,void 0))return!1;var o=t.pop(),i=n.components.getSiblings(o);return e.every(t,function(t){return e.find(i,t)})}function d(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.removable,singleCompHandler:o.is.removable})}function u(e,i){return t.call(n,e,i,{multiCompHandler:n.multiselect.is.duplicatable,singleCompHandler:o.is.duplicatable})}function m(e,i){return t.call(n,e,i,{multiCompHandler:n.multiselect.is.showMarginsIndicator,singleCompHandler:o.is.showMarginsIndicator})}function g(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.showLegacyFixedPosition,singleCompHandler:o.is.showLegacyFixedPosition})}function f(e,i){return t.call(n,e,i,{multiCompHandler:n.multiselect.is.containable,singleCompHandler:o.is.containable})}function h(e,i){return t.call(n,e,i,{multiCompHandler:n.multiselect.is.containableByStructure,singleCompHandler:o.is.containableByStructure})}function b(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.styleCanBeApplied,singleCompHandler:o.is.styleCanBeApplied})}function y(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.movable,singleCompHandler:o.is.movable})}function P(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.horizontallyMovable,singleCompHandler:o.is.horizontallyMovable})}function v(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.verticallyMovable,singleCompHandler:o.is.verticallyMovable})}function E(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.canMoveUp,singleCompHandler:o.is.canMoveUp})}function S(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.fullWidth,singleCompHandler:o.is.fullWidth})}function T(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.resizable,singleCompHandler:o.is.resizable})}function C(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.horizontallyResizable,singleCompHandler:o.is.horizontallyResizable})}function I(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.verticallyResizable,singleCompHandler:o.is.verticallyResizable})}function _(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.proportionallyResizable,singleCompHandler:o.is.proportionallyResizable})}function O(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.resizeOnlyProportionally,singleCompHandler:o.is.resizeOnlyProportionally})}function M(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.group,singleCompHandler:o.is.group})}function A(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.groupable,singleCompHandler:o.is.groupable})}function w(e){var t=n.components.asArray(e);return n.pages.isPageExist(t[0].id)}function R(e,i){return t.call(n,e,i,{multiCompHandler:n.multiselect.is.topMost,singleCompHandler:o.is.topMost})}function D(e,i){return t.call(n,e,i,{multiCompHandler:n.multiselect.is.leftMost,singleCompHandler:o.is.leftMost})}function k(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.groupedComponent,singleCompHandler:o.is.groupedComponent})}function B(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.rotatable,singleCompHandler:o.is.rotatable})}function N(e,i){return t.call(n,e,i,{multiCompHandler:n.multiselect.is.animatable,singleCompHandler:o.is.animatable})}function L(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.pinnable,singleCompHandler:o.is.pinnable})}function x(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.focusable,singleCompHandler:o.is.focusable})}function F(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.slidesContainer,singleCompHandler:o.is.slidesContainer})}function H(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.slideContainer,singleCompHandler:o.is.slideContainer})}function U(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.hoverBox,singleCompHandler:o.is.hoverBox})}function G(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.alignable,singleCompHandler:o.is.alignable})}function V(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.draggable,singleCompHandler:o.is.draggable})}function W(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.allowLassoOnContainer,singleCompHandler:o.is.allowLassoOnContainer})}function z(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.anchorableFrom,singleCompHandler:o.is.anchorableFrom})}function q(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.anchorableTo,singleCompHandler:o.is.anchorableTo})}function j(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.focusBoxNavType,singleCompHandler:o.is.focusBoxNavType})}function Y(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.focusBoxNavContent,singleCompHandler:o.is.focusBoxNavContent})}function K(e){var t=n.components.asArray(e);return 1===t.length&&n.documentServices.components.is.potentialContainerForScreenWidthComp(t[0])}function X(e,i){return t.call(n,e,i,{multiCompHandler:n.multiselect.is.selectedBeforeDescendants,singleCompHandler:o.is.selectedBeforeDescendants})}function Z(e){return t.call(n,e,{multiCompHandler:n.multiselect.is.disabledKnobs,singleCompHandler:o.is.disabledKnobs})}function Q(e){return o.is.shouldBeOverlayed.call(n,e)}function J(e){return o.is.getOverlay.call(n,e)}function $(e){return o.is.getOverlayProperties.call(n,e)}function ee(e){return o.is.gridLinesVisible.call(n,e)}function te(e){return o.is.resizableWithAnchors.call(n,e)}function oe(e){return o.is.resizableDiagonally.call(n,e)}return{controlledByParent:i,fixed:a,exist:r,container:s,selectable:l,siteSegment:c,siblings:p,removable:d,duplicatable:u,showMarginsIndicator:m,showLegacyFixedPosition:g,containable:f,containableByStructure:h,styleCanBeApplied:b,movable:y,horizontallyMovable:P,verticallyMovable:v,canMoveUp:E,fullWidth:S,resizable:T,horizontallyResizable:C,verticallyResizable:I,proportionallyResizable:_,resizeOnlyProportionally:O,group:M,groupable:A,page:w,topMost:R,leftMost:D,groupedComponent:k,rotatable:B,animatable:N,pinnable:L,focusable:x,slidesContainer:F,slideContainer:H,hoverBox:U,alignable:G,draggable:V,allowLassoOnContainer:W,anchorableFrom:z,anchorableTo:q,focusBoxNavType:j,focusBoxNavContent:Y,potentialContainerForScreenWidthComp:K,selectedBeforeDescendants:X,disabledKnobs:Z,shouldBeOverlayed:Q,getOverlay:J,getOverlayProperties:$,gridLinesVisible:ee,resizableWithAnchors:te,resizableDiagonally:oe}}return{create:n}}),define("rEditor/app/serializedComponentPlugins",["lodash"],function(e){function t(e,t){return[].concat(e[t]||[],e["*"]||[])}function o(n,i,a){var r=t(a[n],i.componentType);return"Container"===(i=e.reduce(r,function(e,t){return t(a,e)},i)).type&&(i.components=e.map(i.components,function(e){return o(n,e,a)})),i}function n(e,t,o){var n=e.componentType;return o.copyComponentPlugins[n]&&(e=o.copyComponentPlugins[n](t,e)),e}return{runCopyPluginOnSerializedComponent:n,runPastePluginOnSerializedComponent:o.bind(null,"pasteComponentPlugins"),runSerializeComponentPlugin:o.bind(null,"serializeComponentPlugins")}}),define("rEditor/app/APISections/componentsWrapper",["lodash","core","util","rEditor/utils/removeUtil","rEditor/utils/multiSelectHandler","rEditor/app/APISections/componentsFacade/layoutWrapper","rEditor/app/APISections/componentsFacade/arrangementFacade","rEditor/app/APISections/componentsFacade/behaviorsFacade","rEditor/app/APISections/componentsFacade/componentsMetaDataFacade","rEditor/app/APISections/singleCompHandlers/componentsMetaData","rEditor/app/serializedComponentPlugins","experiment"],function(e,t,o,n,i,a,r,s,l,c,p,d){function u(u){function m(t){return e.compact(e.isArray(t)?t:[t])}function g(t,o){return e.every(o,function(o,n){return e.isEqual(t[n],o)})}function f(o,n,i){var a=u.documentServices.components.properties,r=a.get(o),s=!r||!g(r,n),l=a.mobile.isForked(o);s&&(n.type=e.get(n,"type")||e.get(r,"type"),n=t.utils.updatePropertiesUtil.fixProperties(n,o,u.documentServices,u.isMobileEditor()),u.isMobileEditor()&&r&&!l&&a.mobile.fork(o),a.update(o,n),i||u.history.debouncedAdd("comp properties changed"),u.pluginService.getPlugin("propertiesChange","*")(o,n))}function h(e,o,n){o.type=o.type||u.components.data.get(e).type,o=t.utils.updateDataUtil.fixData(o);var i=u.components.data.get(e);(!i||!g(i,o))&&(u.documentServices.components.data.update(e,o),n||u.history.debouncedAdd("comp data changed"))}function b(e,o,n,i){o.type=o.type||u.components.design.get(e).type,o=t.utils.updateDataUtil.fixData(o);var a=u.components.design.get(e);(!a||!g(a,o))&&(u.documentServices.components.design.update(e,o,n),i||u.history.debouncedAdd("comp design changed"))}function y(t,o,n){var i=u.selection.getSelectedComponents(),a=u.selection.getFocusedContainer(i);i&&!u.documentServices.components.modes.isComponentDisplayedInModes(e.head(i),[o])&&u.selection.selectComponentByCompRef(a),o?u.documentServices.components.modes.activateComponentMode(t,o):n&&u.documentServices.components.modes.deactivateComponentMode(t,n)}function P(e){return i.call(u,e,{multiCompHandler:u.multiselect.componentModes.addDefaultSingleModeAnimations,singleCompHandler:He})}function v(){return{defaultInAnimtaion:{action:"modeIn",name:"FadeIn",delay:0,duration:.35},defaultOutAnimtaion:{action:"modeOut",name:"FadeOut",delay:0,duration:.35}}}function E(t,o){return e.zipWith(t,o,function(e,t){return{ref:e,root:t}})}function S(t,o){return e.zipWith(t,o,function(e,t){return{ref:e,ancestor:t}})}function T(e){var t=m(e)[0];if(u.components.modes.getFirstAncestorWithActiveModes(t)){u.documentServices.waitForChangesApplied(function(){u.tabIndicationState.activateAddAnimation(!0)})}}function C(t){if("masterPage"!==u.components.getPage(t).id)return!1;var o=u.documentServices.siteSegments.getSiteStructure(),n=u.utils.findAncestorMatchesCondition(t,function(e){return u.utils.isSameRef(o,u.components.getContainer(e))}),i=u.documentServices.siteSegments.getPagesContainer(),a=u.components.getChildren(o);return e.findIndex(a,function(e){return u.utils.isSameRef(e,n)})>e.findIndex(a,function(e){return u.utils.isSameRef(e,i)})}function I(e,t){var o={multiCompHandler:u.multiselect.canBeMasterChild,singleCompHandler:u.documentServices.layouters.canBeMasterChild};return t?i.call(u,e,t,o):i.call(u,e,ze,o)||i.call(u,e,qe,o)}function _(t){return e.filter(t,u.documentServices.components.is.visible)}function O(e,t,o,n){return _(u.documentServices.components.get.byXYRelativeToStructure(e,t,o,n))}function M(e,t,o,n){return _(u.documentServices.components.get.byXYRelativeToScreen(e,t,o,n))}function A(e,t){return _(u.documentServices.components.get.byType(e,t))}function w(e,t){return _(u.documentServices.components.getAllComponents(e,t))}function R(){var o=t.utils.componentPreviewReadyPlugins;e.forEach(o,function(e){e(u)})}function D(e){return i.call(u,e,{multiCompHandler:u.multiselect.getPage,singleCompHandler:u.documentServices.components.getPage})}function k(){u.clipboard.setItem(t.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT,void 0)}function B(e){return i.call(u,e,{multiCompHandler:u.multiselect.isShowOnAllPages,singleCompHandler:u.documentServices.components.isShowOnAllPages})}function N(t){var o=u.selection.getSelectedComponents();o=u.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(o),t=u.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(t),e.isEqual(o,t)&&u.selection.deselectComponents(),u.isMobileEditor()?u.openCantCopyPastePanel():u.components.is.duplicatable(t)&&(u.copyPaste.copy(t,!0),e.forEach(t,function(e){n.cutComponent(u.documentServices,e,u.cutComponentPlugins)}))}function L(o,n,i,a,r){u.mouseActions.turnOffMouseEvents();var s=t.utils.addUtil.addComponent(u,u.documentServices.components.add,o,n,i,a,r),l=!e.isEmpty(u.components.modes.getModes(o));return u.utils.isSameRef(o,u.documentServices.siteSegments.getHeader())&&u.panelHelpers.openDragToHeaderPanel(),d.isOpen("dontCloseAddPanelOnAdd")||u.panelManager.closePanelByName("addPanelInfra.addPanel"),u.documentServices.waitForChangesApplied(function(){if(l&&s.id){var t=u.components.modes.getComponentActiveModeIds(o);u.components.modes.showComponentOnlyInModesCombination(s,e.keys(t)),u.tabIndicationState.activateAddAnimation(!0),P(s)}}),s}function x(e,o,n,i){return t.utils.addUtil.addComponent(u,u.documentServices.components.addAndAdjustLayout,e,o,n,i)}function F(t){return e.find(t,function(e){var t=u.components.getType(e);return"wysiwyg.viewer.components.tpapps.TPASection"===t||"wysiwyg.viewer.components.tpapps.TPAMultiSection"===t})}function H(t,o){var i=e.noop,a=u.selection.getFocusedContainer(),r=u.components.asArray(t);if(d.isOpen("us_groupRightClick")&&F(r,u)){var s=u.documentServices.pages.getFocusedPageId();return void u.documentServices.waitForChangesApplied(u.pages.remove(s,e.noop()))}if(u.components.is.removable(r)){if(a&&!e.find(r,a)?u.selection.selectComponentByCompRef(a):o&&o.isReplacingComp||u.selection.deselectComponents(r),P(t),u.components.is.controlledByParent(t)){var l=u.components.getContainer(t),c=u.selection.getSelectedComponents();i=e.isEqual(l,c&&c[0])?e.noop:function(){u.components.is.exist(l)?(u.panelManager.closeAllPanels(),u.selection.selectComponentByCompRef(l)):u.selection.deselectComponents()}}n.removeComponent(u.documentServices,u.removePlugins,r,u,i,o),u.components.modes.getFirstAncestorWithActiveModes(m(t)[0])&&u.documentServices.waitForChangesApplied(function(){u.tabIndicationState.activateDeleteAnimation()})}else e.forEach(r,function(e){var t=u.components.getType(e);u.cannotRemovePlugins[t]&&u.cannotRemovePlugins[t](e)})}function U(t,o){var n=u.components.isShowOnAllPages(t),i=u.components.isShowOnAllPages(o),a=!n&&i;return e.reduce(t,function(e,t){return"platform.components.AppController"===u.documentServices.components.getType(t)?a?e.unshift(t):e.push(t):a?e.push(t):e.unshift(t),e},[])}function G(t,o){var n=u.components.isShowOnAllPages(t),a=m(t),r=e.map(a,u.components.getPage),s=e.map(a,u.components.modes.getFirstAncestorWithActiveModes),l=e.isArray(t)?U(t,o):t,c=i.call(u,l,o,{multiCompHandler:u.multiselect.setContainer,singleCompHandler:u.documentServices.components.setContainer}),p=m(c),d=E(p,r),g=S(p,s);return u.pluginService.getPlugin("setContainer","*")(o,d,g,u.components,u.behaviors),!n&&u.utils.isSameRef(o,u.documentServices.siteSegments.getHeader())&&u.panelHelpers.openDragToHeaderPanel(),u.editorEventRegistry.dispatch(u.editorEventRegistry.constants.events.SET_CONTAINER,u,l,o),u.documentServices.waitForChangesApplied(function(){var e=u.selection.getSelectedComponents();u.updateState({focusedContainer:u.selection.getParentToFocus(e)}),T(l),P(l)}),c}function V(e,t){return i.call(u,e,t,{multiCompHandler:u.multiselect.reparentComponentToPage,singleCompHandler:u.documentServices.components.reparentComponentToPage})}function W(e){return i.call(u,e,{multiCompHandler:u.multiselect.getType,singleCompHandler:u.documentServices.components.getType})}function z(e){return i.call(u,e,{multiCompHandler:u.multiselect.getSiblings,singleCompHandler:u.documentServices.components.getSiblings})}function q(e,t){return i.call(u,e,t,{multiCompHandler:u.multiselect.getChildren,singleCompHandler:u.documentServices.components.getChildren})}function j(e){var t=u.documentServices.components.getType(e);return u.compNamePlugins[t]?u.compNamePlugins[t](e):o.translate("component_label_"+t.split(".").pop())}function Y(e){return u.documentServices.components.code.getNickname(e)}function K(e){var t=u.components.asArray(e);if(u.components.is.exist(t[0])){var o=u.documentServices.components.getChildren(t[0]);u.selection.selectComponentByCompRef(o),u.documentServices.components.ungroup(t[0]),u.history.add("ungroup")}}function X(e,t){var n=u.documentServices.components.getType(e);return u.compIconPlugins[n]?u.compIconPlugins[n](e):o.compIcon.getCompIconInfo(e,n,t,u)}function Z(e){var t=u.components.asArray(e);return u.documentServices.components.getContainer(t[0])}function Q(t){var o=e.negate(u.components.is.controlledByParent),n=o(t)?t:u.utils.findAncestorMatchesCondition(t,o),i=u.components.layout.getRelativeToStructure(n),a=u.documentServices.siteSegments.getFooter(),r=u.components.layout.get(a),s=u.components.setContainer(n,a);u.components.layout.update(s,{y:i.y-i.bounding.y+15}),r.height<i.bounding.height+15&&u.components.layout.update(a,{height:i.bounding.height+30})}function J(e,t){return i.call(u,e,t,{multiCompHandler:u.multiselect.isDescendantOfComp,singleCompHandler:u.documentServices.components.isDescendantOfComp})}function $(t,o){return e.some(t,function(e){return u.components.isDescendantOfComp(o,e)})}function ee(e){var t=u.components.asArray(e);return{componentType:u.components.getType(e),component_id:t[0].id}}function te(e,t,o){i.call(u,e,t,o,{multiCompHandler:u.multiselect.data.update,singleCompHandler:h})}function oe(e){return i.call(u,e,{multiCompHandler:u.multiselect.data.get,singleCompHandler:u.documentServices.components.data.get})}function ne(e,t){i.call(u,e,{multiCompHandler:u.multiselect.data.remove,singleCompHandler:u.documentServices.components.data.remove}),t||u.history.add("comp data removed")}function ie(e,t,o,n){return u.documentServices.components.design&&i.call(u,e,t,o,n,{multiCompHandler:u.multiselect.data.update,singleCompHandler:b}),null}function ae(e){return u.documentServices.components.design?i.call(u,e,{multiCompHandler:u.multiselect.data.get,singleCompHandler:u.documentServices.components.design.get}):null}function re(e,t){u.documentServices.components.design&&(i.call(u,e,{multiCompHandler:u.multiselect.design.remove,singleCompHandler:u.documentServices.components.design.remove}),t||u.history.add("comp design removed"))}function se(e,t,o){return i.call(u,e,t,o,{multiCompHandler:u.multiselect.properties.update,singleCompHandler:f})}function le(e){return i.call(u,e,{multiCompHandler:u.multiselect.properties.get,singleCompHandler:u.documentServices.components.properties.get})}function ce(e,t){i.call(u,e,t,{multiCompHandler:u.multiselect.alignment.align,singleCompHandler:u.documentServices.components.alignment.alignInContainer}),u.history.add("component - align - "+t)}function pe(e,t){return u.documentServices.components.alignment.canAlign(e,t)}function de(o){return o&&e.every(t.constants.COMP_ALIGNMENT_OPTIONS,e.partial(pe,o))}function ue(t,o){i.call(u,t,o,{multiCompHandler:u.multiselect.multiComponents.distribute,singleCompHandler:e.noop}),u.history.add("component - distribute - "+o)}function me(t,o){i.call(u,t,o,{multiCompHandler:u.multiselect.multiComponents.matchSize,singleCompHandler:e.noop}),u.history.add("component - matchSize - "+o)}function ge(e,t){return u.documentServices.components.multiComponents.canDistribute(e,t)}function fe(o){return o&&e.every(t.constants.COMP_ALIGNMENT_OPTIONS,e.partial(ge,o))}function he(e,t){return u.documentServices.components.multiComponents.canMatchSize(e,t)}function be(o){return o&&e.every(t.constants.COMP_MATCH_SIZE_OPTIONS,e.partial(he,o))}function ye(e){var t=u.components.asArray(e);if(u.multiselect.isMultiselect(t))throw"components.style.getId isn't supported for multi select";return u.documentServices.components.style.getId(t[0])}function Pe(e,t){var o=u.components.asArray(e);if(u.multiselect.isMultiselect(o))throw"components.style.setId isn't supported for multi select";return u.documentServices.components.style.setId(o[0],t)}function ve(e,t){var o=u.components.asArray(e);if(u.multiselect.isMultiselect(o))throw"components.style.update isn't supported for multi select";return u.documentServices.components.style.update(o[0],t)}function Ee(e,t){return i.call(u,e,t,{multiCompHandler:u.multiselect.getRestrictions,singleCompHandler:c.getRestrictions})}function Se(e){return i.call(u,e,{multiCompHandler:u.multiselect.skin.getComponentSkinExports,singleCompHandler:u.documentServices.components.skin.getComponentSkinExports})}function Te(e){return i.call(u,e,{multiCompHandler:u.multiselect.skin.get,singleCompHandler:u.documentServices.components.skin.get})}function Ce(e,t){u.documentServices.components.code.setNickname(e,t),u.history.debouncedAdd("comp nick name changed")}function Ie(e){return e&&u.components.canShowOnAllPages(e)&&u.components.canShowOnCurrentPage(e)}function _e(e){return!(!e||!u.components.isShowOnAllPages(e))&&(u.components.isDescendantOfFrozen(e,u.documentServices.siteSegments.getHeader())||u.components.isDescendantOfFrozen(e,u.documentServices.siteSegments.getFooter())||C(e))}function Oe(e,t){return u.components.isDescendantOfComp(e,t)&&u.components.layout.isFixedPosition(t)}function Me(e){var t=u.documentServices.pages.getFocusedPage();return u.components.is.containable(e,t)&&!u.components.isDescendantOfComp(e,u.documentServices.siteSegments.getFooter())}function Ae(t){t=u.components.asArray(t);var o=u.documentServices.siteSegments.getSiteStructure(),n=u.components.is.containable(t,o)&&!e.some(t,u.components.is.controlledByParent),i=e.some(t,u.documentServices.components.is.groupedComponent);return!u.isCurrentPageLandingPage()&&n&&!i&&!u.documentServices.pages.popupPages.isPopupOpened()}function we(e,t){var o;return e=u.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(e),o=t?u.documentServices.siteSegments.getSiteStructure():u.documentServices.pages.getReference(u.documentServices.pages.getPrimaryPageId()),u.components.setContainer(e,o)}function Re(e){var t=u.selection.getSelectedComponents(),o=!u.components.isShowOnAllPages(e),n=u.components.setShowOnAllPages(e,o);return t===e&&u.selection.selectComponentByCompRef(n),u.history.add(o?"Show component on all pages":"Show component on current page"),o}function De(e,t){y(e,t),u.panelManager.closePanelByName("compPanels.dynamicPanels.applyPanel")}function ke(e,t){y(e,null,t),u.panelManager.closePanelByName("compPanels.dynamicPanels.applyPanel")}function Be(e){return i.call(u,e,{multiCompHandler:u.multiselect.componentModes.applyCurrentToAllModes,singleCompHandler:u.documentServices.components.modes.applyCurrentToAllModes})}function Ne(t){if(!e.isEmpty(t)){var o=Be(t);return u.documentServices.waitForChangesApplied(function(){u.tabIndicationState.activateApplyAnimation(!1)}),u.history.add("comp applyCurrentToAllModes"),o}}function Le(e,t){u.documentServices.components.modes.applyComponentToMode(e,t)}function xe(e,t){return Le(e,t)}function Fe(t){var o=u.documentServices.components.modes.getTypes().DEFAULT,n=e.head(u.documentServices.components.modes.getModesByType(t,o));if(n){var i=u.documentServices.components.modes.getComponentActiveModeIds(t);return e.includes(e.keys(i),n.modeId)}return!1}function He(e){var t=v(),o=u.components.is.animatable(e,t.defaultInAnimtaion.action);u.documentServices.components.modes.getFirstAncestorWithActiveModes(e)&&o&&(u.documentServices.components.behaviors.update(e,t.defaultInAnimtaion),u.documentServices.components.behaviors.update(e,t.defaultOutAnimtaion))}function Ue(e){for(var t=e;t&&!u.components.modes.getModes(t);)t=u.components.getContainer(t);return t}function Ge(e){var t=u.components.getContainer(e);return u.components.modes.getFirstAncestorOrSelfWithModeDefinitions(u.components,t)}function Ve(e){return u.documentServices.components.modes.getModes(e)}function We(e,t,o,n,i,a){var r=u.documentServices.components.serialize(e,t,o,n,i,a);if(r)return p.runSerializeComponentPlugin(r,u)}var ze="wysiwyg.viewer.components.BoxSlideShow",qe="wysiwyg.viewer.components.StripContainerSlideShow";return{getAllComponents:w,get:{byXYRelativeToStructure:O,byXYRelativeToScreen:M,byType:A},canBeMasterChild:I,onPreviewReady:R,getPage:D,asArray:m,reset:k,isShowOnAllPages:B,serialize:We,cut:N,add:L,addAndAdjustLayout:x,remove:H,setContainer:G,reparentComponentToPage:V,getType:W,getSiblings:z,getChildren:q,getDisplayName:j,getNickname:Y,ungroup:K,getIconInfo:X,getContainer:Z,moveToFooter:Q,isDescendantOfComp:J,isAscendantOfComp:$,getDefaultBiParams:ee,data:{update:te,get:oe,remove:ne},design:{update:ie,get:ae,remove:re},properties:{update:se,get:le},alignment:{align:ce,canAlign:pe,canAlignAllDirections:de},multiComponents:{distribute:ue,matchSize:me,canDistribute:ge,canDistributeAllDirections:fe,canMatchSize:he,canMatchAllSizes:be},layout:a.create(u),style:{getId:ye,setId:Pe,update:ve},arrangement:r.create(u),getRestrictions:Ee,is:l.create(u),skin:{getComponentSkinExports:Se,get:Te},behaviors:s.create(u),code:{setNickname:Ce},canToggleShowOnAllPages:Ie,shouldDisableShowOnAllPages:_e,isDescendantOfFrozen:Oe,canShowOnCurrentPage:Me,canShowOnAllPages:Ae,setShowOnAllPages:we,toggleShowOnAllPages:Re,modes:{getModes:Ve,activateComponentMode:De,deactivateComponentMode:ke,applyCurrentToAllModes:Ne,applyComponentToMode:xe,isCompDefaultModeActive:Fe,addDefaultSingleModeAnimations:He,getFirstAncestorOrSelfWithModeDefinitions:Ue,getFirstAncestorWithModeDefinitions:Ge}}}return{create:u}}),define("rEditor/app/APISections/rulersAPI",["lodash","core","util"],function(e,t,o){function n(n){function i(){var e=u();F={stack:[e],currentIndex:0}}function a(){s()&&(I(),F.currentIndex-=1,S(F.stack[F.currentIndex]))}function r(){l()&&(I(),F.currentIndex+=1,S(F.stack[F.currentIndex]))}function s(){return F.currentIndex>0}function l(){return F.stack.length>F.currentIndex+1}function c(o){var i=o.guidesState;n.userPreferences.site.set(t.constants.USER_PREFS.VIEW_TOOLS.GUIDES_STATE,i),P(o),e.isEqual(F.stack[F.currentIndex],o.guidesState)||(F.stack=e.take(F.stack,F.currentIndex+1),F.stack.push(i),F.currentIndex+=1)}function p(){return n.store.getState().viewTools.rulersEnabled}function d(t,o){var i=e.cloneDeep(n.store.getState().viewTools.rulers);return i[t]=o,i}function u(){var t,o=n.store.getState();return e.get(o,"viewTools.rulers")&&(t=e.cloneDeep(o.viewTools.rulers.guidesState)),t=e.isEmpty(t)?{desktop:{verticalGuides:[],horizontalGuides:[]},mobile:{verticalGuides:[],horizontalGuides:[]}}:t}function m(){var e=u();return n.isMobileEditor()?e.mobile.horizontalGuides:e.desktop.horizontalGuides}function g(){var e=u();return n.isMobileEditor()?e.mobile.verticalGuides:e.desktop.verticalGuides}function f(t){var o,n=u();return e.some(n.mobile.verticalGuides,["guideId",t])?o="mobile.verticalGuides":e.some(n.mobile.horizontalGuides,["guideId",t])?o="mobile.horizontalGuides":e.some(n.desktop.verticalGuides,["guideId",t])?o="desktop.verticalGuides":e.some(n.desktop.horizontalGuides,["guideId",t])&&(o="desktop.horizontalGuides"),{guideId:t,guidePosition:e.find(e.get(n,o),{guideId:t}).guidePosition,guidePath:o}}function h(){return f(n.store.getState().viewTools.rulers.selectedGuide)}function b(){return{desktop:{verticalGuides:[],horizontalGuides:[]},mobile:{verticalGuides:[],horizontalGuides:[]}}}function y(e){return H++,{guideId:"GUIDE_"+Date.now().toString(36)+H.toString(36),guidePosition:e}}function P(e){n.updateEditorViewTools("rulers",e)}function v(e,o){var a=!p();n.updateEditorViewTools("rulersEnabled",a),n.userPreferences.site.set(t.constants.USER_PREFS.VIEW_TOOLS.RULERS_ENABLED,a,e,o),i()}function E(t,o){var i=e.clone(n.store.getState().viewTools.rulers);i[t]=o,P(i)}function S(e){n.userPreferences.site.set(t.constants.USER_PREFS.VIEW_TOOLS.GUIDES_STATE,e),E("guidesState",e)}function T(t){var o=e.clone(n.store.getState().viewTools.rulers);o.isDragging=!1,t||(o.isHovered=!1),P(o)}function C(e,t){t&&N("GUIDE_TOOLTIP_IN_EDIT_MODE",{origin:t}),e&&(n.selection.deselectComponents(),o.keyboardShortcuts.setContext(o.keyboardShortcuts.CONTEXTS.RULERS)),E("selectedGuide",e)}function I(){C(null),o.keyboardShortcuts.setContext(n.getPreviewMode()?o.keyboardShortcuts.CONTEXTS.PREVIEW:o.keyboardShortcuts.CONTEXTS.EDITOR)}function _(t,i){var a=u(),r=y(i);e.get(a,t).push(r);var s=d("guidesState",a);return n.selection.deselectComponents(),s.selectedGuide=r.guideId,o.keyboardShortcuts.setContext(o.keyboardShortcuts.CONTEXTS.RULERS),c(s),r.guideId}function O(e){return _(x("vertical",n.isMobileEditor()),e)}function M(e){return _(x("horizontal",n.isMobileEditor()),e)}function A(t,o,i){var a=x(t,n.isMobileEditor()),r=R(a,o),s={guidePosition:i,guideId:o};e.get(r,a).push(s),c(d("guidesState",r))}function w(t,o){var n=h();e.includes(n.guidePath,t)&&A(t,n.guideId,n.guidePosition+o)}function R(t,o){var n=u(),i=e.reject(e.get(n,t),{guideId:o});return e.set(n,t,i),n}function D(e){var t=f(e),i=d("guidesState",R(t.guidePath,t.guideId));i.selectedGuide=null,o.keyboardShortcuts.setContext(n.getPreviewMode()?o.keyboardShortcuts.CONTEXTS.PREVIEW:o.keyboardShortcuts.CONTEXTS.EDITOR),c(i)}function k(){D(n.store.getState().viewTools.rulers.selectedGuide)}function B(){N("GUIDE_DELETED",{origin:"delete_button"}),k()}function N(o,i){var a=t.bi.events.rulers[o],r={editor_view_mode:n.getDeviceType()};e.merge(r,i),n.bi.event(a,r)}function L(e){var t=n.siteSegments.getPagesContainerAbsLayout();return e+Math.round(t.x)}function x(e,t){return(t?"mobile.":"desktop.")+e+"Guides"}var F={stack:[],currentIndex:0},H=0;return{getGuidesState:u,getHorizontalGuides:m,getVerticalGuides:g,isRulersEnabled:p,toggleRulers:v,getGuidesInitialState:b,setVerticalGuide:O,setHorizontalGuide:M,removeSelectedGuide:k,removeGuideById:D,selectGuide:C,deselectGuide:I,changeGuidePosition:A,updateEditorRulersState:E,getVerticalGuideRealPosition:L,sendBIEvent:N,undo:a,redo:r,canUndo:s,canRedo:l,resetRulersHistory:i,updateStateOnDragEnd:T,getSelectedGuideData:h,removeGuideViaDelBtn:B,changeGuidePositionByPixels:w}}return{create:n}}),define("rEditor/app/APISections/tabIndicationState",[],function(){function e(e){function t(){e.updateState({tabIndicationState:{indication:"INACTIVE",activeMode:void 0}})}function o(){e.updateState({tabIndicationState:{indication:"DELETE",activeMode:void 0}},t)}function n(o){e.updateState({tabIndicationState:{indication:"ADD",activeMode:o}},t)}function i(o){e.updateState({tabIndicationState:{indication:"APPLY",activeMode:o}},t)}function a(){return e.store.getState().tabIndicationState}return{activateDeleteAnimation:o,activateAddAnimation:n,activateApplyAnimation:i,getState:a}}return{create:e}}),define("rEditor/app/APISections/feedback",["lodash","jquery","constants","util"],function(e,t,o,n){function i(e){function i(){var t=e.documentServices.generalInfo.getSiteId(),o=e.documentServices.generalInfo.getMetaSiteId();return d+t+"?metaSiteId="+o}function a(){return u+e.documentServices.generalInfo.getSiteId()+"?metaSiteId="+e.documentServices.generalInfo.getMetaSiteId()}function r(t){e.store.getState().unreadComments!==t&&e.updateState({unreadComments:t})}function s(){var e=i();t.ajax({url:e,type:"GET",success:function(e){r(e.count)}})}function l(){if(e.account.isUserOwner()){var n=a();t.ajax({url:n,type:"GET",success:function(t){t.shared?(r(t.count),s(),window.setInterval(s,o.FEEDBACK.CHECK_COMMENTS_INTERVAL)):window.setTimeout(e.feedback.init,o.FEEDBACK.CHECK_SITE_SHARED_INTERVAL)}})}}function c(){return e.store.getState().unreadComments}var p=n.serviceTopology.feedbackServiceUrl,d=p+"/getNewCommentsCount/",u=p+"/siteIsShared/";return{init:l,getNewCommentsCounter:c}}return{create:i}}),define("rEditor/app/APISections/mainMenuWrapper",["lodash","pagesMenu","experiment"],function(e,t,o){function n(n){function i(e){return e.replace("#","")}function a(t){var o;return e.some(t,function(e){return e.type.isPage&&!n.pages.isHomePage(e.pageData.id)?(o=e,!0):!!(e.items&&e.items.length&&(o=a(e.items)))||void 0}),o}function r(t,o){var n;return e.some(t,function(e){var t=e.link&&e.link.pageId;return(t&&t.substr(1))===o?(n=e,!0):!!(e.items&&e.items.length&&(n=r(e.items,o)))||void 0}),n}function s(e){var t=e.link&&e.link.type,o=e.link&&e.link.pageId,i="PageLink"===t,a=o&&n.documentServices.pages.popupPages.isPopup(o.replace("#",""));return{raw:t,isDropdown:!t,isLink:!i&&S.test(t)||a,isPage:i&&!a}}function l(e,t,o){return{id:e.id,type:s(e),label:e.label,parent:o,isVisible:e.isVisible,isVisibleMobile:e.isVisibleMobile,pageData:t,link:e.link}}function c(t,n,a,r){var p=[];return e.forEach(t,function(t){var d,u,m=s(t);u=o.isOpen("pagesPanelOpenCollapsed")?m.isPage?n.pagesDataMap[i(t.link.pageId)]:null:m.isPage?e.find(n.pagesDataList,["id",i(t.link.pageId)]):null,a&&!a(t,u)||(d=l(t,u,n.parent),t.items.length>0?d.items=c(t.items,e.defaults({parent:d},n),a,r):d.items=[],p.push(d),r&&r(d))}),p}function p(t){for(var o,n=e.slice(t),i=[];n.length;)(o=n.pop()).items&&o.items.length&&(i=i.concat(o.items)),i.push(o);return i}function d(t,o){function a(o){var n,c,p;e.forEach(o,function(o){(c=s(o)).isPage&&(p=e.findIndex(t,{id:i(o.link.pageId)}))>-1&&(n=t[p],r[p]=l(o,n)),o.items.length>0&&a(o.items)})}var r=[];return a(o||n.mainMenu.getMenu(!0)),e.compact(r)}function u(t,i,a,r){if(r=r||n.mainMenu.getMenu(!0),o.isOpen("pagesPanelOpenCollapsed")){var s=e.keyBy(t,"id");return c(r,{parent:null,homePageId:n.homePage.get(),pagesDataMap:s},i,a)}return c(r,{parent:null,homePageId:n.homePage.get(),pagesDataList:t},i,a)}function m(){var t=n.documentServices.pages.getPagesData();return 1===e.filter(t,function(e){return!E.isSpecialPage(n,e)}).length}function g(){return a(n.mainMenu.getMenuItemsTreeForMainMenu())}function f(){var e=r(n.documentServices.mainMenu.getMenu(),n.documentServices.pages.getCurrentUrlPageId());return e&&e.id}function h(){var e=n.documentServices.pages.getPagesData();return n.mainMenu.extendMenuItemsTreeWithPageData(e)}function b(){var t=n.mainMenu.getMenu(!0),o=n.documentServices.pages.getPagesData(),i=E.getSectionPagesIds(n,o),a=[],r=Array.prototype.push,s=function(e,t){return!(!t&&0===e.items.length)&&(!t||!E.isSpecialPage(n,t))},l=function(t){t.pageData&&e.includes(i,t.pageData.id)&&a.push(t)},c=n.mainMenu.extendMenuItemsTreeWithPageData(o,s,l,t);return e.forEach(a,function(e){var i=E.getSpecialPagesListBySectionPageOrBySibling(n,e.pageData,o),a=n.mainMenu.convertPagesDataListToMenuItemsList(i,t);r.apply(e.items,a)}),c}function y(e){if(!n.documentServices)return[];e=e||n.documentServices.pages.getPagesData();var t=function(e,t){return!t||!E.isSpecialPage(n,t)};return n.mainMenu.extendMenuItemsTreeWithPageData(e,t)}function P(e){return p(n.mainMenu.getMenuItemsTreeForMainMenu(e)||[])}function v(e,t){t&&e.label!==t&&(n.mainMenu.setItemLabel(e.id,t),n.history.debouncedAdd("Rename Menu Item"))}var E=t.specialPages.menuLogic,S=/Link$/;return{hasOnlyLastPageMenuItem:m,getFirstNonHomePageMenuItem:g,getMenuItemIdForCurrentPage:f,getMenuItemsTree:h,getMenuItemsTreeForPagesFixed:b,getMenuItemsTreeForMainMenu:y,getMenuItemsFlattened:P,extendMenuItemsTreeWithPageData:u,convertPagesDataListToMenuItemsList:d,renameMenuItem:v}}return{create:n}}),define("rEditor/app/APISections/menuWrapper",["lodash","core","util","coreUtilsLib"],function(e,t,o,n){function i(i){function a(e){return e.replace("#","")}function r(e){var t=e.link&&e.link.type,o=e.link&&e.link.pageId,n="PageLink"===t,a=o&&i.documentServices.pages.popupPages.isPopup(o.replace("#",""));return{raw:t,isDropdown:!t,isLink:!n&&O.test(t)||a,isPage:n&&!a}}function s(e,t,o,n){return{id:e.id,type:r(e),label:e.label,parent:o,isVisible:e.isVisible,isVisibleMobile:e.isVisibleMobile,pageData:t,link:e.link,position:n}}function l(t,o,n,i){var c=[];return e.forEach(t,function(e,t){var p=r(e).isPage?o[a(e.link.pageId)]:null;if(!n||n(e,p)){var d=s(e,p,i,t);e.items.length>0?d.items=l(e.items,o,n,d):d.items=[],c.push(d)}}),c}function c(t){return t=t||i.documentServices.pages.getPagesData(),l(i.documentServices.mainMenu.getMenu(!0),e.keyBy(t,"id"),function(e,t){return!t||!_.isSpecialPage(i,t)})}function p(e,t,o,n){i.documentServices.mainMenu.moveItem(e,t,o),i.history.add("moving a page"),i.documentServices.waitForChangesApplied(n)}function d(e,o){var n=o?i.pages.popupPages.duplicate(e.id):i.pages.duplicate(e.id),a=t.utils.pageTitleUtils.generateDuplicatedTitle(e.title),r=(i.documentServices.generalInfo.urlFormat.isSlash()?i.pages.data.pageUriSEO:t.utils.pageTitleUtils).convertPageNameToUrl(a);return i.pages.data.update(n.id,{title:a,pageUriSEO:r}),n.id}function u(t){var o=i.mainMenu.getMenu();return e.find(o,function(e){return e.link&&e.link.pageId===t})}function m(e,t,o){for(var n={itemIndex:null,parentId:o},i=0;i<e.length;i++){var a=e[i];if(a.id===t)return n.itemIndex=i,n;if(a.items&&a.items.length){var r=m(a.items,t,a.id);if(null!==r.itemIndex)return r}}return n}function g(e,t){var o=m(c(),t,null);i.mainMenu.moveItem(e,o.parentId,o.itemIndex+1)}function f(t,o,n){var a=i.documentServices.pages.getFocusedPageId(),r=d(t,!1);i.documentServices.waitForChangesApplied(function(){var t=u("#"+r);g(t.id,o),i.pages.navigateTo(r),i.history.add("duplicating a page",{currentPage:a}),i.documentServices.waitForChangesApplied(function(){e.isFunction(n)&&n(t.id,r)})})}function h(e,o){var n=t.utils.pageTitleUtils.generateDuplicatedTitle(e.label),a=i.mainMenu.addHeaderItem(n,null,!e.isVisible,!e.isVisibleMobile);g(a,e.id),i.history.add("duplicating a dropdown"),i.documentServices.waitForChangesApplied(function(){o(a)})}function b(e,o){var n=i.data.getById(e.id).link,a=t.utils.pageTitleUtils.generateDuplicatedTitle(e.label),r=i.mainMenu.addLinkItem(n,a,null,!e.isVisible,!e.isVisibleMobile);g(r,e.id),i.history.add("duplicating a link"),i.documentServices.waitForChangesApplied(function(){o(r)})}function y(e){return e.type.isPage&&e.pageData?i.pages.isDuplicable(e.pageData.id):e.type.isDropdown||e.type.isLink}function P(e,t){e.type.isPage?i.menu.duplicateMenuItemOfTypePage(e.pageData,e.id,t):e.type.isDropdown?i.menu.duplicateDropdown(e,t):e.type.isLink?i.menu.duplicateLink(e,t):n.log.error("not supported menu type")}function v(e){if(e.pageData)if(i.mainMenu.hasOnlyLastPageMenuItem())i.panelManager.openPanel("panels.messagePanels.deleteLastPageMessage",{isLastPage:!0},!0);else{var t=i.documentServices.pages.getFocusedPageId();i.pages.remove(e.pageData.id,function(){i.history.add("removing a page",{currentPage:t})})}else i.pages.navigateTo(i.homePage.get(),function(){i.mainMenu.removeItem(e.id),i.history.add("removing menu item")})}function E(t,o){i.openLinkPanel({visibleSections:{NoLink:!1},showAllPopups:!0,hidePageLinks:!0,link:o,pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"What do you want to link to?",callback:e.once(t)})}function S(t,o){E(function(o){var n=i.data.createItem(o.type);e.assign(n,e.omit(o,["type"])),i.mainMenu.updateLinkItem(t.id,n),i.history.add("updating menu link")},o)}function T(e,t){i.pages.data.update(e,t),i.history.debouncedAdd("Rename Page")}function C(e){return!i.documentServices.generalInfo.urlFormat.isSlash()||!i.documentServices.generalInfo.isSitePublished()||e===o.translate("Pages_Menu_Add_New_Page")}function I(n,a){var r={title:a};if(a&&n.title!==a)if(C(n.title)){var s=i.documentServices.generalInfo.urlFormat.isSlash()?i.pages.data.pageUriSEO:t.utils.pageTitleUtils,l=s.convertPageNameToUrl(a);l?(r.pageUriSEO=l,T(n.id,r)):o.googleTranslate(a,function(t){(l=s.convertPageNameToUrl(t))&&(r.pageUriSEO=l,r.translationData=e.assign({}||r.translationData,{uriSEOTranslated:!0})),T(n.id,r)})}else T(n.id,r)}var _=t.utils.menuLogic,O=/Link$/;return{getMainMenuItemsTree:c,duplicateMenuItemOfTypePage:f,duplicateDropdown:h,duplicateLink:b,duplicateMenuItem:P,moveMenuItem:p,canDuplicate:y,removeMenuItem:v,updateLink:S,renamePage:I}}return{create:i}}),define("rEditor/app/APISections/multiselect",["lodash","core","util"],function(e,t,o){function n(n){function i(t){return e.some(t,n.selection.isSingleSelectionComponent)}function a(t,i){return e.map(t,function(t){var a=e.pick(n.components.layout.get(t),["x","y"]);return{component:t,newLayout:o.layoutUtils.addXYOffsetsToLayout(a,i)}})}function r(t,n,i,r){var s=a(t,o.layoutUtils.getLayoutsXYDiff(i,n));e.forEach(s,function(e){r(e.component,e.newLayout)})}function s(e,t,o){return r(e,t,o,n.components.layout.update)}function l(e,t,o){return r(e,t,o,n.components.layout.continuousUpdate.on)}function c(e){for(var t=n.components.getContainer(e);t&&!n.components.is.group(t);)t=n.components.getContainer(t);return t}function p(e,t){var n=o.layoutUtils.calcLayoutFromLayoutAndRatio(t,e.proportions);return o.layoutUtils.addXYOffsetsToLayout(n,t)}function d(){return!1}function u(){return!1}function m(){}function g(t,o){return e.every(t,function(e){return n.documentServices.components.isDescendantOfComp(e,o)})}function f(){return t.constants.MULTISELECT.TYPE}function h(t){return n.multiselect.areComponentsOfSamePage(t)?n.documentServices.components.getPage(e.head(t)):null}function b(t){return e.isArray(t)?t.length:0}function y(e){return n.multiselect.count(e)>1}function P(t){return n.multiselect.containsSiblingsOnly(t)?n.documentServices.components.getContainer(e.head(t)):null}function v(){return[]}function E(t){if(!n.multiselect.containsSiblingsOnly(t))throw"Cannot obtain siblings of the given compoents since they are not siblings";var o=n.documentServices.components.getSiblings(t[0]);return e.reject(o,function(o){return e.some(t,{id:o.id})})}function S(t){return e.every(t,function(e){return n.documentServices.components.isShowOnAllPages(e)})}function T(e){return n.multiselect.count(e)<=1||!i(e)}function C(t){if(!n.multiselect.isMultiselect(t))return!0;var o=n.components.getSiblings(e.head(t)),i=e.tail(t);return e.every(i,function(t){return!!e.find(o,t)})}function I(t){return!!n.multiselect.isMultiselect(t)&&e.every(t,function(o,i){var a=t.slice(i+1);return e.every(a,function(e){return n.components.isDescendantOfComp(o,e)||n.components.isDescendantOfComp(e,o)})})}function _(t){if(!n.multiselect.isMultiselect(t))return!0;var o=e.head(t),i=e.tail(t),a=n.documentServices.components.getPage(o);return e.every(i,function(t){var o=n.documentServices.components.getPage(t);return e.isEqual(o,a)})}function O(t){var o=e.clone(t);return e.forEach(t,function(i,a){var r=t.slice(a+1);e.forEach(r,function(t){if(n.components.isDescendantOfComp(i,t))return e.remove(o,i),!1;n.components.isDescendantOfComp(t,i)&&e.remove(o,t)})}),o}function M(t){return e.reject(t,function(o){var n=c(o);return n&&!!e.find(t,n)})}function A(t,o){return e.map(t,function(e){return n.documentServices.components.setContainer(e,o)})}function w(t,o){return e.map(t,function(e){return n.documentServices.components.reparentComponentToPage(e,o)})}function R(){throw"Cannot update data for multiple components"}function D(t){return e.map(t,function(e){return n.documentServices.components.data.get(e)})}function k(){throw"Cannot remove data for multiple components"}function B(){throw"Cannot update design for multiple components"}function N(t){return e.map(t,function(e){return n.documentServices.components.design.get(e)})}function L(){throw"Cannot remove design for multiple components"}function x(){throw"cannot update multiple components properties"}function F(t){return e.map(t,function(e){return n.documentServices.components.properties.get(e)})}function H(){return!1}function U(){return!1}function G(e,t){n.documentServices.components.alignment.alignComponents(e,t)}function V(e,t){n.documentServices.components.multiComponents.distribute(e,t)}function W(e,t){n.documentServices.components.multiComponents.matchSize(e,t)}function z(e){if(!n.multiselect.containsSiblingsOnly(e))throw"Cannot get layout for non-siblings components";return n.documentServices.components.layout.getSnugLayout(e)}function q(t){return e.every(t,function(e){return n.documentServices.components.layout.canBeFixedPosition(e)})}function j(e){return n.documentServices.components.layout.getSnugLayoutRelativeToScreen(e)}function Y(e){return n.documentServices.components.layout.getSnugLayoutRelativeToScreenConsideringScroll(e)}function K(e){return n.documentServices.components.layout.getSnugLayoutRelativeToStructure(e)}function X(t){return n.multiselect.is.proportionallyResizable(t)?e.values(n.documentServices.components.layout.RESIZE_SIDES):[]}function Z(e,t){if(!n.multiselect.containsSiblingsOnly(e))throw"Selected components do not share the same parent and therefore cannot be positioned relative to their container";s(e,n.documentServices.components.layout.getSnugLayout(e),t)}function Q(t,o){s(t,e.pick(n.multiselect.layout.getRelativeToStructure(t),["x","y"]),o)}function J(t,o){s(t,e.pick(n.multiselect.layout.getRelativeToScreen(t),["x","y"]),o)}function $(t,o){l(t,e.pick(n.multiselect.layout.getRelativeToScreen(t),["x","y"]),o)}function ee(e,t){return le(e,t,n.documentServices.components.layout.continuousUpdateAndAdjustLayout.on)}function te(e,t,i){if(!n.multiselect.containsSiblingsOnly(e))throw"Selected components do not share the same parent and therefore cannot be positioned relative to their container";var a=o.layoutUtils.getLayoutRelativeToScreenFromRelativeToParent(n,e,t);n.multiselect.layout.continuousUpdateRelativeToScreenAndPreserveProportions(e,a,i)}function oe(t,o,n,i){e.defaults(o,n.layout),e.forEach(n.children,function(e){var t=p(e,o);i(e.component,t,e)})}function ne(e,t,o){return oe(e,t,o,n.components.layout.continuousUpdateAndPreserveProportions.on)}function ie(e,t,o){return oe(e,t,o,n.components.layout.updateRelativeToScreenAndPreserveProportions)}function ae(e,t,i){var a=o.layoutUtils.getLayoutRelativeToScreenFromRelativeToStructure(n,e,t);n.multiselect.layout.updateRelativeToScreenAndPreserveProportions(e,a,i)}function re(e,t,i){if(!n.multiselect.containsSiblingsOnly(e))throw"Selected components do not share the same parent and therefore cannot be positioned relative to their container";var a=o.layoutUtils.getLayoutRelativeToScreenFromRelativeToParent(n,e,t);n.multiselect.layout.updateRelativeToScreenAndPreserveProportions(e,a,i)}function se(t,i){var a=n.components.layout.getRelativeToScreen(t);return{component:null,layout:a,children:e.map(t,function(t){var r=n.components.layout.getRelativeToScreen(t),s=o.layoutUtils.getLayoutsXYDiff(r,a),l=e.defaults(s,r),c=o.layoutUtils.getChildContainerLayoutRatio(l,a),p=n.components.layout.getProportionStructure(t,i);return p.proportions=c,p.minLayout=e.omit(p.minLayout,["x","y"]),p})}}function le(t,i,r){if(!n.multiselect.containsSiblingsOnly(t))throw"Cannot update and adjust layout of non-siblings components";var s=n.documentServices.components.layout.getSnugLayout(t);s=e.pick(s,"y");var l=a(t,o.layoutUtils.getLayoutsXYDiff(i,s));e.forEach(l,function(e){r(e.component,e.newLayout)})}function ce(e,t){return le(e,t,n.documentServices.components.layout.updateAndAdjustLayout)}function pe(o,i){return e.map(o,function(e){return t.utils.fixedPositionUtils.setFixedPosition(n,e,i)})}function de(t){e.forEach(t,function(e){n.documentServices.components.layout.updateAspectRatio(e)})}function ue(t){e.forEach(t,function(e){n.documentServices.components.layout.removeAspectRatio(e)})}function me(){throw"Dock / Undock not supported for multiselect"}function ge(){throw"Dock / Undock not supported for multiselect"}function fe(){throw"Dock / Undock not supported for multiselect"}function he(){throw"Dock / Undock not supported for multiselect"}function be(){return!1}function ye(t){return e.some(t,function(e){return n.components.layout.isStretchedToScreen(e)})}function Pe(){throw"cannot get skin of multiple components"}function ve(){throw"Cannot get component skin exports for multiple components"}function Ee(t,o){return e.reduce(o,function(e,o){return e[o]=n.multiselect.is[o](t),e},{})}function Se(t){return e.every(t,n.components.is.controlledByParent)}function Te(t){return e.every(t,n.components.is.fixed)}function Ce(){return!0}function Ie(t){return e.every(t,n.components.is.alignable)}function _e(){return!1}function Oe(t){return e.every(t,function(e){return n.components.is.exist(e)})}function Me(){return!1}function Ae(t){return e.every(t,function(e){return n.components.is.removable(e)})}function we(t){return e.every(t,function(e){return n.components.is.duplicatable(e)})}function Re(){return!1}function De(t,o){return e.every(t,function(e){return n.components.is.containable(e,o)})}function ke(t,o){return e.every(t,function(e){return n.components.is.containableByStructure(e,o)})}function Be(t){return e.every(t,function(e){return n.components.is.movable(e)})}function Ne(t){return e.every(t,function(e){return n.components.is.horizontallyMovable(e)})}function Le(t){return e.every(t,function(e){return n.components.is.verticallyMovable(e)})}function xe(t){return e.every(t,function(e){return n.components.is.canMoveUp(e)})&&n.multiselect.containsSiblingsOnly(t)}function Fe(t){return e.some(t,function(e){return n.components.is.anchorableFrom(e)})&&n.multiselect.containsSiblingsOnly(t)}function He(t){return e.some(t,function(e){return n.components.is.anchorableTo(e)})&&n.multiselect.containsSiblingsOnly(t)}function Ue(t){return e.every(t,function(e){return n.components.is.fullWidth(e)})}function Ge(t){return e.every(t,n.components.is.horizontallyResizable)}function Ve(t){return e.every(t,n.components.is.verticallyResizable)}function We(t){return e.every(t,n.components.is.proportionallyResizable)}function ze(t){return e.every(t,n.components.is.resizeOnlyProportionally)}function qe(){return!1}function je(t){return e.every(t,function(e){return n.components.is.groupable(e)})}function Ye(t){return e.every(t,function(e){return n.documentServices.components.is.groupedComponent(e)})}function Ke(t,o){return e.some(t,function(e){return n.documentServices.components.is.topMost(e,o)})}function Xe(t,o){return e.some(t,function(e){return n.documentServices.components.is.leftMost(e,o)})}function Ze(){return!1}function Qe(){return!1}function Je(t,o){return e.every(t,function(e){return n.components.is.animatable(e,o)})}function $e(){return!1}function et(){return!1}function tt(){return!1}function ot(){return!1}function nt(){return!1}function it(t){return e.every(t,n.components.is.draggable)}function at(){return!1}function rt(){return!1}function st(){return!1}function lt(t){return e(t).map(n.components.is.disabledKnobs).map("length").compact().get("length")?e.values(n.documentServices.components.layout.RESIZE_SIDES):[]}function ct(t,o,i){e.forEach(t,function(e){n.documentServices.components.behaviors.update(e,o,i)})}function pt(t){return e.reduce(t,function(e,t){return e.concat(n.documentServices.components.behaviors.get(t)||[])},[])}function dt(t,o,i){e.forEach(t,function(e){n.documentServices.components.behaviors.remove(e,o,i)})}function ut(t){e.forEach(t,function(e){n.documentServices.components.behaviors.removeAll(e)})}function mt(t,o,i){return e.map(t,function(t,a,r){return n.documentServices.components.behaviors.previewAnimation(t,e.cloneDeep(o),a===r.length-1?i:void 0)})}function gt(t){e.forEach(t,function(e){n.documentServices.components.behaviors.stopPreviewAnimation(e)})}function ft(t,o,i){e.forEach(t,function(e){n.documentServices.components.behaviors.execute(e,o,i)})}function ht(t){return e.map(t,function(e){return n.documentServices.components.behaviors.getRuntimeState(e)})}function bt(t){e.forEach(t,function(e){n.components.modes.applyCurrentToAllModes(e)})}function yt(t){e.forEach(t,function(e){n.components.modes.addDefaultSingleModeAnimations(e)})}function Pt(t){if(!n.multiselect.isMultiselect(t))return!0;var o=e.map(t,function(e){return n.components.modes.getFirstAncestorWithActiveModes(e)});return e.every(o,e.partial(e.isEqual,o[0]))}return{canBeMasterChild:d,getParentCompWithOverflowHidden:u,getNonMasterChildren:m,isDescendantOfComp:g,getType:f,getPage:h,count:b,isMultiselect:y,getContainer:P,getChildren:v,getSiblings:E,isShowOnAllPages:S,canBeSelectedTogether:T,containsSiblingsOnly:C,containsAncestorsAndDescendants:I,areComponentsOfSamePage:_,getComponentsWhichDontHaveAncestorsInTheArray:O,removeGroupedCompsIfTheirGroupIsInArray:M,setContainer:A,reparentComponentToPage:w,data:{update:R,get:D,remove:k},design:{update:B,get:N,remove:L},properties:{update:x,get:F},arrangement:{canMoveForward:H,canMoveBackward:U},alignment:{align:G},multiComponents:{distribute:V,matchSize:W},layout:{get:z,canBeFixedPosition:q,getRelativeToScreen:j,getRelativeToScreenConsideringScroll:Y,getRelativeToStructure:K,getResizableSides:X,update:Z,updateRelativeToStructure:Q,updateRelativeToScreen:J,updateRelativeToScreenAndPreserveProportions:ie,updateRelativeToStructureAndPreserveProportions:ae,updateAndPreserveProportions:re,getProportionStructure:se,updateAndAdjustLayout:ce,continuousUpdateRelativeToScreen:$,continuousUpdateAndAdjustLayout:ee,continuousUpdateAndPreserveProportions:te,continuousUpdateRelativeToScreenAndPreserveProportions:ne,setFixed:pe,updateAspectRatio:de,removeAspectRatio:ue,unDock:me,setDock:ge,updateDock:fe,getDock:he,canBeStretched:be,isStretchedToScreen:ye},skin:{get:Pe,getComponentSkinExports:ve},getRestrictions:Ee,is:{controlledByParent:Se,fixed:Te,selectable:Ce,alignable:Ie,container:_e,exist:Oe,siteSegment:Me,removable:Ae,duplicatable:we,styleCanBeApplied:Re,containable:De,containableByStructure:ke,movable:Be,horizontallyMovable:Ne,verticallyMovable:Le,canMoveUp:xe,anchorableFrom:Fe,anchorableTo:He,fullWidth:Ue,horizontallyResizable:Ge,verticallyResizable:Ve,proportionallyResizable:We,resizeOnlyProportionally:ze,group:qe,groupable:je,groupedComponent:Ye,topMost:Ke,leftMost:Xe,resizable:Ze,rotatable:Qe,animatable:Je,focusable:$e,pinnable:et,slidesContainer:tt,slideContainer:ot,hoverBox:nt,draggable:it,allowLassoOnContainer:at,selectedBeforeDescendants:rt,showLegacyFixedPosition:st,disabledKnobs:lt},behaviors:{update:ct,get:pt,remove:dt,removeAll:ut,previewAnimation:mt,stopPreviewAnimation:gt,execute:ft,getRuntimeState:ht},componentModes:{applyCurrentToAllModes:bt,addDefaultSingleModeAnimations:yt,areComponentsOfSameModefulContainer:Pt}}}return{create:n}}),define("rEditor/rootComps/leftBar/config/leftBarData",["util","constants","experiment"],function(e,t,o){var n={panelName:"rEditor.panels.myMediaPanel",panelProps:{},label:"LEFTBAR_MY_UPLOADS_LABEL",className:"my-uploads-panel",symbolName:"leftBarMyUploadsPanel"};return{desktop:function(){var n=[{panelName:"addPanelInfra.addPanel",panelProps:{},label:"LEFTBAR_ADD_LABEL",className:"add-panel",symbolName:"leftBarAddPanel",hintProps:{id:"AddPanel"}},{panelName:"tpa.compPanels.appMarketPanel",panelProps:{urlParams:{openMarketOrigin:"market_button"},openPanelBiEvent:e.bi.events.OPEN_MARKET_CLICK,openPanelBiParams:{referral_info:"market_button"}},label:"app_market_button_text",className:"app-market-panel",symbolName:"leftBarAppMarketPanel",hintProps:{id:"AppMarket"}},{panelName:"rEditor.panels.myMediaPanel",panelProps:{},label:"LEFTBAR_MY_UPLOADS_LABEL",className:"my-uploads-panel",symbolName:"leftBarMyUploadsPanel"}];return o.isOpen("ChangeBG")||(n=[{panelName:"rEditor.panels.backgroundPanel",panelProps:{},label:t.ROOT_COMPS.LEFTBAR.BACKGROUND_LABEL,className:"bg-panel",symbolName:"leftBarBackgroundPanel",hintProps:{id:"ChangeBackgrounds"}}].concat(n)),o.isOpen("newPagesPanel")&&(n=[{panelName:"pages.pagesPanel",panelProps:{},label:"LEFTBAR_PAGES_LABEL",className:"pages-panel-pp",symbolName:"pages"}].concat(n)),o.isOpen("us_addPages_leftBar")&&(n=[{panelName:"rEditor.panels.pagesAndPopupsPanel",panelProps:{},label:"Pages_Menu_Title_Title",className:"bg-panel",symbolName:"leftBarPagesPanel",hintProps:{id:"PagesPanel"}}].concat(n)),n}(),mobile:function(){var e=[];o.isOpen("newPagesPanel")&&e.push({panelName:"pages.pagesPanel",panelProps:{},label:"LEFTBAR_PAGES_LABEL",className:"pages-panel-pp",symbolName:"pages"});var n={panelName:"rEditor.panels.backgroundPanel",panelProps:{},label:t.ROOT_COMPS.LEFTBAR.BACKGROUND_LABEL,className:"bg-panel",symbolName:"leftBarBackgroundPanel",hintProps:{id:"ChangeBackgrounds"}},i={panelName:"mobileEditor.mobileElementsPanel",panelProps:{},label:"mobile_elements_panel_title",className:"mobile-elements-panel",symbolName:"mobileView",tooltips:[{id:"mobileElementsPanel_quickActionBar_afterRemove",value:"mobile_quick_actions_hide_tooltip"}]};return o.isOpen("changeBG")?e.push(i,n):e.push(n,i),e=e.concat([{panelName:"mobileEditor.hiddenItemsPanel",panelProps:{},label:"mobile_hidden_items_panel_title",className:"hidden-items-panel",symbolName:"hiddenComp",hintProps:{id:"MobileEditorHiddenElements"}},{panelName:"mobileEditor.layoutOptimizerPanel",panelProps:{},label:"mobile_layoutoptimizer_title",className:"layout-optimizer-panel",symbolName:"mobile_left_bar_optimize_layout",hintProps:{id:"MobileLayoutOptimizer"}}])}(),myUploadsButton:n}}),define("rEditor/app/APISections/leftBarAPI",["lodash","core","rEditor/rootComps/leftBar/config/leftBarData","constants","experiment"],function(e,t,o,n,i){function a(a){function r(o,n,i,a,r,s){return{panelName:o,panelProps:n,label:i,className:a,symbolName:r,order:e.indexOf(t.constants.LEFT_BAR.SUPER_APPS_ORDER.DESKTOP,o),isButtonOpen:s}}function s(t){return e.includes(a.store.getState().leftBar.collapseOnClick||[],t)}function l(t){var o=[n.ROOT_COMPS.LEFTBAR.BLOG_PANEL_NAME,n.ROOT_COMPS.LEFTBAR.BACKGROUND_PANEL_NAME];return e.filter(t,function(t){return!e.includes(o,t.panelName)})}function c(e){return e.map(function(e){if("tpa.compPanels.appMarketPanel"===e.panelName){switch((i.getValue("se_appMarketIcons")||"old").toLowerCase()){case"icon1":e.symbolName="leftBarAppMarketPanel-B";break;case"icon2":e.symbolName="leftBarAppMarketPanel-C";break;case"icon3":e.symbolName="leftBarAppMarketPanel-D"}switch((i.getValue("se_appMarketLabels")||"old").toLowerCase()){case"add_apps":e.label="app_market_button_text_experiment_add_apps";break;case"get_apps":e.label="app_market_button_text_experiment_get_apps"}}return e})}function p(){var t=[],n=a.store.getState(),r=n.leftBar.superApps,p=n.leftBar.buttonsActiveState,d=[];return i.isOpen("enableMyUploadsButton")&&d.push(o.myUploadsButton),t=n.isMobileEditor?e.map(o.mobile,e.clone).concat(d,e.sortBy(r.mobile,"order")):e.map(o.desktop,e.clone).concat(d,e.sortBy(r.desktop,"order")),(t=a.isPopUpMode()?l(t):t).forEach(function(t,o){t.panelProps=t.panelProps||{},t.panelProps.panelIndex=o,t.collapseOnClick=s(t.panelName),t.activeState=e.get(p,t.panelName,"")}),c(e.compact(t))}function d(t){var o=a.store.getState().leftBar;a.updateState({leftBar:e.assign({},o,{buttonsActiveState:e.defaults(t,o.buttonsActiveState)})})}function u(t){a.updateState({leftBar:e.defaults(t,a.store.getState().leftBar)})}function m(t){u({collapseOnClick:e.union(a.store.getState().leftBar.collapseOnClick,[t])})}function g(o){u({collapseOnClick:e.without(a.store.getState().leftBar.collapseOnClick,o)}),a.getUserPreferences().site.set(o+t.constants.LEFT_BAR.WAS_BUTTON_CLICKED_KEY,!0)}function f(e,t){delete e.notifications[t],a.panelManager.closePanelByName(t)}function h(){a.isMobileEditor()&&i.isOpen("se_mobileLeftBarNotCollapsed")?y():b()}function b(){u({isCollapsed:!0})}function y(){u({isMobileCollapsed:!0})}function P(){a.leftBar.collapseMenu(),a.panelManager.openPanel("addPanelInfra.addPanel")}function v(o,n,i,s,l,c,p,d){var u=r(o,n,i,s,l,d),g=e.cloneDeep(a.store.getState().leftBar),f=[g.superApps.desktop];c&&f.push(g.superApps.mobile),f.forEach(function(t){var n=e.find(t,{panelName:o});n?e.assign(n,u):t.push(u)}),a.updateState({leftBar:g},function(){var e=a.getUserPreferences().site.get(o+t.constants.LEFT_BAR.WAS_BUTTON_CLICKED_KEY);p&&!e&&m(o)})}function E(t){var o=a.store.getState(),n=e.cloneDeep(o.leftBar);n.superApps.desktop=e.reject(o.leftBar.superApps.desktop,{panelName:t}),n.superApps.mobile=e.reject(o.leftBar.superApps.mobile,{panelName:t}),f(n,t),a.updateState({leftBar:n})}function S(t,o){var n=e.cloneDeep(a.store.getState().leftBar);n.notifications[t]=o,a.updateState({leftBar:n})}function T(e){return a.store.getState().leftBar.notifications[e]}function C(t,o){var n=e.cloneDeep(a.store.getState().leftBar);n.notifications[t]+=o||1,a.updateState({leftBar:n})}function I(t,o){var n=e.cloneDeep(a.store.getState().leftBar);n.notifications[t]-=o||1,a.updateState({leftBar:n})}function _(){return a.store.getState().leftBar.notifications}function O(t){var o=["left","right","top","bottom"],n=e.pick(a.store.getState().leftBar.buttonsBoundingRect,o),i=e.pick(t,o);e.isEqual(n,i)||u({buttonsBoundingRect:i})}function M(){return a.isMobileEditor()&&i.isOpen("se_mobileLeftBarNotCollapsed")?a.store.getState().leftBar.isMobileCollapsed:a.store.getState().leftBar.isCollapsed}function A(){return a.store.getState().leftBar.superApps.desktop.length}function w(){var o=p(),n=a.documentServices&&a.documentServices.generalInfo.getSiteId();if(n){var i=e.map(o,"panelName"),r={count:o.length,site_id:n,shoutout_bool:e.includes(i,t.constants.SUPER_APPS.SHOUTOUT_PANEL_NAME),blog_bool:e.includes(i,t.constants.SUPER_APPS.BLOG_PANEL_NAME),booking_bool:e.includes(i,t.constants.SUPER_APPS.BOOKINGS_PANEL_NAME),ecomm_bool:e.includes(i,t.constants.SUPER_APPS.WIX_STORE_PANEL_NAME),rest_bool:!1};a.bi.event(t.bi.events.leftBar.LEFT_BAR_NUMBER_OF_BUTTONS,r)}}return{isCollapsed:M,expandButton:m,collapseButton:g,getMenuItems:p,collapseMenu:h,collapseMobileMenu:y,collapseDesktopMenu:b,openAddPanel:P,superApps:{addButton:v,removeButton:E,getDesktopCount:A},sendBIButtonsCount:w,notifications:{setCount:S,getCount:T,increaseCount:C,decreaseCount:I,get:_},updateButtonsBoundingRect:O,setButtonsActiveState:d}}return{create:a}}),define("rEditor/app/APISections/addPanelAPI",["lodash","util"],function(e,t){function o(){var o=["addPanelInfra","addPanel"],n=t.languages.getLanguageCode(),a=n&&"addPanelSections"+n.toUpperCase();return n&&"en"!==n.toLowerCase()&&!e.includes(i,n)?o.concat(a):o}function n(e,t){var n=o();require(n,function(o,n,i){function a(e,t){o.addPanelData.manager.override.sections.register(e,t)}function r(e,t,n){o.addPanelData.manager.override.attributes.register(e,t,n)}function s(e,t){o.addPanelData.manager.start.register(e,t)}function l(e,t){o.addPanelData.manager.end.register(e,t)}function c(t){return o.addPanelData.getCategory(e,t)}function p(t,n){return o.addPanelData.getSectionsByComponentType(t,n,e)}function d(t,n){return o.addPanelData.getDesignPanelTitleByComp(t,n,e)}e.addPanelInfra=o,i&&n.sections.applyTranslatedSections(i),t({registerToOverrideSectionItemsForCategory:a,registerOverrideCategoryAttributes:r,registerToAddSectionAtTheStartOfCategory:s,registerToAddSectionAtTheEndOfCategory:l,getCategory:c,getSectionsByComponentType:p,getDesignPanelTitleByComp:d})})}var i=["cs","hi"];return{loadAndCreate:n}}),define("rEditor/app/APISections/topBarAPI",["lodash","stateManagement","core"],function(e,t,o){function n(n){function i(o){n.store.dispatch(t.legacy.setState({topBar:e.defaults(o,n.store.getState().topBar)}))}function a(){var e={modeSwitchAnimationProgress:s.IN_PROGRESS},t={modeSwitchAnimationProgress:s.IDLE};i(e),window.setTimeout(i.bind(this,t),l)}function r(){return n.store.getState().topBar.modeSwitchAnimationProgress===s.IN_PROGRESS}var s=o.constants.TOP_BAR.EDITOR_MODE_SWITCH.ANIMATION_PROGRESS,l=o.constants.TOP_BAR.EDITOR_MODE_SWITCH.ANIMATION_DURATION;return{animateModeSwitch:a,isModeSwitchAnimationInProgress:r}}return{create:n}}),define("rEditor/app/APISections/selection",["lodash","core","util","baseUI","stateManagement"],function(e,t,o,n,i){function a(a){function s(t){var o=a.store.getState(),n=t&&1===t.length&&t[0],r=i.selection.selectors.selectSelectedCompsRefs(o),s=r&&1===r.length&&r[0];return o.focusedContainer&&!e.isEqual(s,n)&&e.isEqual(n,o.focusedContainer)}function l(e){var t=d(e);s(e)&&a.panelManager.closeAllPanelsOfType("compPanelFrame"),c({selectedComponents:e,focusedContainer:t})}function c(t){var o=i.selection.selectors.selectSelectedCompsRefs(t),n=i.selection.selectors.selectSelectedCompsRefs(a.store.getState()),r=e.has(t,"selectedComponents")&&!e.isEqual(o,n);if(a.store.dispatch(i.legacy.setState(t)),r){var s=a.pluginService.getPlugin("selection","*");e.isFunction(s)&&s(o)}}function p(t,o){var n=o.getContainer(e.head(t));return e(t).tail().every(function(t){return e.isEqual(o.getContainer(t),n)})}function d(t){if(t&&t.length>=2&&!p(t,a.components))return null;for(var o=e.head(t);o&&!a.components.is.focusable(o)&&e.isEmpty(a.components.modes.getModes(o));)o=a.components.getContainer(o);return o}function u(e,t){return z(e)?t.button===X?null:W(e):(a.closeCompPanelIfExists(),N(e))}function m(e,t){a.closeCompPanelIfExists();var o=a.utils.getParentIfCompCanBeSelected(e);o&&(e=o),B(e),t&&a.openFirstTimePanel(e)}function g(t){var o=a.components.getSiblings(t);return e.reject(o,function(e){return a.components.is.siteSegment(e)})}function f(e){var t=a.getComponentType(e);return"Page"===t||"AppPage"===t}function h(e){return a.utils.findAncestorMatchesCondition(e,a.components.is.selectedBeforeDescendants)}function b(t){var o=h(t),n=o?e(o).thru(b).flatten().value():[];return e.compact([o].concat(n))}function y(t,o){function n(e){return o&&a.components.isDescendantOfComp(o,e)}if(z(t))return t;var i=b(t);if(0===i.length)return t;var r=e.head(i),s=e.last(i);return n(r)?t:n(s)?r:s}function P(e){return e.shiftKey||Q.isSpecialKeyPressed(e)}function v(o){var n=a.components.getType(o);return e.includes(t.constants.MULTISELECT.SINGLE_SELECTION_COMPONENT_TYPES,n)||a.components.layout.isShowOnFixedPosition(o)}function E(e){$=e}function S(){return $}function T(e){ee=!!e}function C(){return ee}function I(){return null!==te}function _(t,o){var n={x:t,y:o},i=a.documentServices.pages.getReference(a.documentServices.pages.getFocusedPageId()),r=a.components.get.byType("wysiwyg.common.components.anchor.viewer.Anchor",i);return e.filter(r,function(e){var t=a.components.layout.getRelativeToScreenConsideringScroll(e);return t.y+=Z.ANCHOR_OFFSET_TOP,n.x>=t.x&&n.x<=t.x+Z.ANCHOR_WIDTH&&n.y>=t.y&&n.y<=t.y+Z.ANCHOR_HEIGHT})}function O(e,t){var o={x:e,y:t},n=a.components.get.byXYRelativeToScreen(o.x,o.y,0,a.documentServices.pages.getFocusedPageId());return _(e,t).concat(n)}function M(e){var t=J.fitMouseCoordinatesToViewer(a,e),o=ne.get(e,t);return o||(o=O(t.clientX,t.clientY),ne.set(o,t)),o}function A(t){var o=M(t);if(e.isEmpty(o))return null;var n=0,i=o[n];if(i)for(var r=a.layouters.getParentCompWithOverflowHidden(i);a.components.is.group(i)||!a.components.is.selectable(i)||r&&!e.includes(e.map(o,"id"),r.id);)r=(i=o[++n])?a.layouters.getParentCompWithOverflowHidden(i):null;else for(;a.components.is.group(i)||!a.components.is.selectable(i);)i=o[++n];return i||null}function w(t){var o=A(t),n=e.head(x());return o?o=y(o,n):null}function R(e,t){var o=t&&te||w(e);return oe&&o?oe:o}function D(e){var t=w(e);oe&&t&&oe.id!==t.id?(t=oe,te=null):te=t;var o=z(t),n=x(),i=e.button!==X;if(t)if(P(e)&&!o)u(t,e),q(null);else{if(!a.multiselect.isMultiselect(n)){var r,s=a.components.layout.isShowOnFixedPosition(t),l=J.fitMouseCoordinatesToViewer(a,e);if(s)r={x:l.clientX,y:l.clientY};else{var c=a.ui.scroll.getScroll();r={x:l.clientX+c.scrollLeft,y:l.clientY+c.scrollTop}}q(r)}if(o)return void E(!0);m(t,i)}else W()}function k(e){var t=A(e);t=t&&oe?oe:t;var o=e.button!==X;return z(t)?null:P(e)?u(t):m(t,o)}function B(t){var n=a.components.asArray(t);if(!((n=e.uniqBy(n,"id")).length>30)&&(!(n.length>0)||a.components.is.selectable(n))&&a.multiselect.canBeSelectedTogether(n)){n=e.isEmpty(n)?null:a.multiselect.removeGroupedCompsIfTheirGroupIsInArray(n);var i=e.find(a.panelManager.getOpenPanels(),{name:K});e.size(n)<2&&i&&a.panelManager.closePanelByName(K),a.components.layout.isPinned(n)?o.keyboardShortcuts.setContext(o.keyboardShortcuts.CONTEXTS.PIN_MODE):o.keyboardShortcuts.getContext()===o.keyboardShortcuts.CONTEXTS.PIN_MODE&&o.keyboardShortcuts.setContext(o.keyboardShortcuts.CONTEXTS.EDITOR),l(n)}}function N(e){var o=a.components.asArray(e),n=x()||[],i=n.concat(o);return i.length>1&&a.bi.event(t.bi.events.selection.MULTISELECT,{num_of_elements_selected:i.length,selection_method:"keyboard"}),B(i),n}function L(){var t=x();return!!t&&e.head(t).id}function x(){var e=a.store.getState();return i.selection.selectors.selectSelectedCompsRefs(e)}function F(){return a.store.getState().focusedContainer}function H(e){return d(e)}function U(){var t=x();return e.isEmpty(t)?null:a.getComponentType(e.head(t))}function G(){var o,n,i=x();a.multiselect.containsSiblingsOnly(i)&&z()?a.components.is.siteSegment(i)||f(i)?o=a.components.getChildren(i):(n=g(i),o=i.concat(n)):o=(i||[]).concat(a.components.getChildren(a.pages.getFocusedPage())),e.isEmpty(o)||(a.closeCompPanelIfExists(),o.length>1&&a.bi.event(t.bi.events.selection.MULTISELECT,{num_of_elements_selected:o.length,selection_method:"keyboard"}),B(o))}function V(){var e=x();return e?a.components.data.get(e):null}function W(t){o.keyboardShortcuts.getContext()===o.keyboardShortcuts.CONTEXTS.PIN_MODE&&o.keyboardShortcuts.setContext(o.keyboardShortcuts.CONTEXTS.EDITOR);var n=!t,i=a.components.asArray(t),r=x();B(e.reject(r,function(t){return n||e.some(i,t)}))}function z(t){var o=x();if(e.isEmpty(t))return!!o;var n=a.components.asArray(t);return e.every(n,function(t){return e.some(o,t)})}function q(e){c({lastSelectionClickPos:e})}function j(t,o){var n=M(o),i=a.documentServices.pages.getReference(a.documentServices.pages.getPrimaryPageId()),r=a.siteSegments.getRefs().concat(i),s=e.findIndex(n,function(t){return e.some(r,t)});return-1!==s&&e.some(t,function(t){return e.some(n,function(o,n){return e.isEqual(t,o)&&n>s})})}function Y(e){oe=e}var K="compPanels.panels.MultiSelect.layoutPanel",X=2,Z=n.uiConstants,Q=o.browserUtil,J=t.utils.mouseCoordinatesHandler,$=!1,ee=!1,te=null,oe=null,ne=function(){function e(e,t){return{clientX:e.clientX,clientY:e.clientY,timeStamp:t}}function t(e){if(e.timeStamp-n.timeStamp>r.TIME_DELTA)return!1;var t=e.clientX-n.clientX,o=e.clientY-n.clientY;return t*t+o*o<r.DIST_SQR}var n={timeStamp:-r.TIME_DELTA},i=null;return{get:function(n,a){return t(e(a,n.timeStamp||o.performance.now()))?i:null},set:function(t,a){n=e(a,o.performance.now()),i=t}}}();return{isMultiSelectKeyPressed:P,isSingleSelectionComponent:v,setIsMouseUpSelectionEnabled:E,getIsMouseUpSelectionEnabled:S,setIsHiddenComponentDraggedNext:T,isHiddenComponentDraggedNext:C,isComponentExplicitlySelected:I,getAnchorsUnderClick:_,getComponentsByXY:O,getComponentsUnderClick:M,getNonGroupCompUnderCursor:A,getComponentUnderClickToBeSelected:w,getComponentToBeMarkedByHoverBox:R,selectComponentByClick:D,selectNonGroupCompUnderCursor:k,selectComponentByCompRef:B,addComponentToSelectionByRef:N,getSelectedComponentId:L,getSelectedComponents:x,getFocusedContainer:F,getParentToFocus:H,getSelectedComponentType:U,selectAll:G,getSelectedComponentData:V,deselectComponents:W,isComponentSelected:z,setLastSelectionClickPos:q,isSelectedCompUnderCursorAndBeneathSiteSegment:j,setModalComponent:Y}}var r={TIME_DELTA:400,DIST_SQR:5};return{create:a}}),define("rEditor/app/APISections/databaseEditor",["lodash","experiment"],function(e,t){function o(o){function n(e,n,i){o.panelManager.openPanel("compPanels.panels.AppPart2.databaseEditorPanel",{selectedComponentType:i,listId:e,compRef:n,autoSave:!t.isOpen("disableDbEditorAutoSave")})}function i(){o.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"PUBLISH_ERROR_TITLE_LABEL",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",steps:["SAVE_PUBLISH_ERROR_OPTION_1","SAVE_PUBLISH_ERROR_OPTION_2"],helpMessage:"SAVE_ERROR_LEARN_MORE_LABEL",helpLinkMessage:"SAVE_PUBLISH_ERROR_LEARN_MORE_LINK",helpLink:"http://www.wix.com/"})}function a(a,r){var s=o.selection.getSelectedComponentType();!t.isOpen("disableDbEditorAutoSave")&&o.documentServices.generalInfo.isFirstSave()?o.saveManager.saveInBackground(e.partial(n,a,r,s),i):n(a,r,s)}return{openDatabaseEditor:a}}return{create:o}}),define("rEditor/app/APISections/welcomeScreensWrapper",["lodash","util","core","experiment"],function(e,t,o,n){function i(e){return"na"===e}function a(e){var t=e.account.getEditorVersionsInfo();return!!t&&t.isEligibleForSwitch&&(e.compatibility.hasOldApp()||e.compatibility.hasAppPage())}function r(e){var t=e.account.getEditorVersionsInfo(),o=!1===window.editorModel.firstSave&&!1===t.isEligibleForSwitch;return t&&!t.isNewUser&&!o}function s(e,o){c(e,e.account.getEditorVersionsInfo().isEligibleForSwitch?"START_NOW_CLICK_WITH_BACK_OPTION":"START_NOW_CLICK_WITHOUT_BACK_OPTION",o),t.cookie.setUserPetriOverrideCookie("SantaEditorUserOverride","new")}function l(e,o){c(e,"BACK_TO_OLD_EDITOR_CLICK",o),t.cookie.setUserPetriOverrideCookie("SantaEditorUserOverride","old"),t.windowInteractionUtils.reloadPageWithoutQuestion()}function c(e,t,n){var i=o.bi.events.newEditorWelcomeScreens[t],a={site_id:e.documentServices.generalInfo.getSiteId()};i.fields.duration&&(a.duration=Date.now()-n),e.bi.event(i,a)}function p(t){return e(t.components.get.byType("wixapps.integration.components.AppPart2")).map(t.components.data.get).map("appPartName").map(t.documentServices.wixapps.appbuilder.data.lists.getListVersion).some(function(e){return!e||"1.0"===e})}function d(e){if(!r(e))return!1;var t=e.account.getEditorVersionsInfo(),o="new"===t.userOverride,n="old"===t.userOverride&&t.isEligibleForSwitch;return!o&&!n}function u(e){return r(e)&&p(e)}function m(e){e.panelManager.openPanel("panels.focusPanels.newUserIntroVideoPanel",{linkedVideoData:T,title:t.translate("Intro_video_new_user_dialog_title"),subtitle:t.translate("Intro_video_new_user_dialog_sub_heading"),buttonLabel:"Intro_video_new_user_button"})}function g(e){var t=e.account.getEditorVersionsInfo(),o=u(e);e.panelManager.openPanel("panels.focusPanels.newEditorWelcomeScreenPanel",{isEligibleForSwitch:t.isEligibleForSwitch,onNextClick:o?f.bind(this,e):s.bind(this,e,Date.now()),nextBtnLabel:o?"Notification_Box_Next":"Notification_Box_Start_Now",onBackClick:l.bind(this,e,Date.now())})}function f(e){var t=e.account.getEditorVersionsInfo();e.panelManager.openPanel("panels.focusPanels.newEditorListWelcomeScreenPanel",{isEligibleForSwitch:t.isEligibleForSwitch,onNextClick:s.bind(this,e,Date.now()),onBackClick:l.bind(this,e,Date.now())})}function h(e){var o=e.documentServices.siteName.getUsed(),n=!o||0===o.length,a=!!e.getUserPreferences().global.get("didPassNewUserVideoCheck");return T=t.translate("Intro_video_new_user_video_link"),!a&&!i(T)&&(e.getUserPreferences().global.set("didPassNewUserVideoCheck",!0),n&&!e.getUserPreferences().global.get(I))}function b(e){var t=e.account.getEditorVersionsInfo(),o=e.documentServices.siteName.getUsed(),n=!o||0===o.length;return t&&"old"!==t.userOverride&&!n}function y(e){var t=e.getUserPreferences().global.get("didPassNewFeaturesVideoCheck");return!(!n.isOpen("newFeaturesIntroVideo")||t)&&(!r(e)&&b(e))}function P(e){return C=t.translate("Notification_Box_ADI_Migration_URL"),e.documentServices.generalInfo.isSiteFromOnBoarding()&&!e.getUserPreferences().global.get(I)&&!i(C)}function v(e){e.getUserPreferences().global.set("didPassNewFeaturesVideoCheck",!0),e.panelManager.openPanel("panels.focusPanels.newFeaturesVideoPanel",{linkedVideoData:t.translate("Notification_Box__video_url_EN"),title:t.translate("Notification_Box_New_Editor_Features_Title"),subtitle:t.translate("Notification_Box_New_Editor_Features_Subtitle"),buttonLabel:"Intro_video_new_user_button"})}function E(e){e.getUserPreferences().global.set(I,!0),e.panelManager.openPanel("panels.focusPanels.cameFromADIVideoPanel",{linkedVideoData:C,title:t.translate("Notification_Box_ADI_Migration_Title"),subtitle:t.translate("Notification_Box_ADI_Migration_Subtitle"),buttonLabel:"Notification_Box_ADI_Migration_Button"})}function S(o){var n=[{shouldShow:P,show:E},{shouldShow:h,show:m},{shouldShow:y,show:v},{shouldShow:a,show:function(){o.panelManager.openPanel("panels.focusPanels.editorMigrationFailedPanel",{})}},{shouldShow:d,show:g},{shouldShow:u,show:f},{shouldShow:function(){return!0},show:e.noop}],i="true"===t.url.getParameterByName("disableWelcomeScreen");o.wixStores.isSiteInWixStoreTestDrive()||i||e.find(n,function(e){return e.shouldShow(o)}).show(o)}var T,C,I="didPassCameFromADIVideo";return{initWelcomeScreen:S}}),define("rEditor/app/APISections/copyPasteWrapper",["lodash","core","experiment","rEditor/app/serializedComponentPlugins","boxSlideshow","stateManagement"],function(e,t,o,n,i,a){function r(r){function s(e){var t={compRef:e};if(r.components.canBeMasterChild(e)){var o=D.getSlideShowParent(r,e),n=D.getSlideShowSlideParent(r,e);if(n){t.originalParent=n,t.originalGrandParent=o;var i=r.components.layout.getRelativeToStructure(e),a=r.components.layout.getRelativeToStructure(n);t.relativeToParentPosition={x:i.x-a.x,y:i.y-a.y}}}return t}function l(t,o){if(t.originalGrandParent&&r.components.is.slidesContainer(t.originalGrandParent)){var n=r.components.get.byXYRelativeToStructure(o.x,o.y);return!!e.find(n,t.originalGrandParent)}return!1}function c(e,t){return l(e,t)?D.findCurrentSlide(r,e.originalGrandParent):null}function p(t,o){return l(t,o)?e.isEqual(D.findCurrentSlide(r,t.originalGrandParent),t.originalParent)?null:t.relativeToParentPosition:null}function d(t){if(e.isEmpty(t))return!1;var o=r.isMobileEditor(),n=r.documentServices.pages.getPrimaryPageId(),i=r.documentServices.pages.isLandingPage(n),a=e.some(t.components,"isShowOnAllPages");return!(o||i&&a)}function u(t){return e.has(t,"x")&&e.has(t,"y")}function m(t){return e.includes(R,t)}function g(t,o,i){var a=r.documentServices.pages.getFocusedPageId(),s=[],l=r.components.asArray(e.cloneDeep(t.components)),d=r.documentServices.siteSegments.getPagesContainer(),g=r.documentServices.siteSegments.layout.get(d);o=u(o)?o:null;var h=r.pasteLogic.pasteContext.getPastePosition(r,t.snugLayoutRelativeToStructure,a);return e.forEach(l,function(t){var l,d=t.serializedComp,u=m(d.componentType),b=r.documentServices.pages.getReference(u?r.pages.getMasterPageId():a),y=c(t,h);if(y){var P=r.components.layout.getRelativeToStructure(y);(o=o||{}).x=h.x-P.x,o.y=h.y-P.y,b=y}var v=e.clone(o),E=e.clone(h);v?u&&(v.y+=g.y):(u||(E.y-=g.y),v=E),d.layout.x=v.x+t.positionRelativeToSnug.x,d.layout.y=v.y+t.positionRelativeToSnug.y,i&&(d.layout.x-=d.layout.width/2,d.layout.y-=d.layout.height/2);var S=p(t,h);S&&(d.layout.x=S.x,d.layout.y=S.y),d=n.runPastePluginOnSerializedComponent(d,r),r.components.is.containableByStructure(d,b)&&(l=f(b,d),s.push(l))}),s}function f(e,t){return r.addComponentPlugins[t.componentType]?r.addComponentPlugins[t.componentType](r,e,t):r.components.add(e,t,t.id)}function h(e){return r.components.is.duplicatable(e)}function b(t){if(t&&t.length>0){var o=r.components.modes.getFirstAncestorWithActiveModes(e.head(t)),n=e.curry(e.isEqual)(o);if(e(t).tail().map(r.components.modes.getFirstAncestorWithActiveModes).every(n))return o}}function y(e){e.styleId&&(e.previousStyleId=e.styleId)}function P(t,i){var a=r.components.layout.getRelativeToStructure(t),l=r.documentServices.pages.getFocusedPageId();r.pasteLogic.pasteContext.setPasteData(a,l,r.ui.scroll.getScroll());var c={snugLayoutRelativeToStructure:a,components:e.map(t,function(t){var l=r.components.serialize(t,null,!1,i,null,y),c=r.components.style.getId(t);c&&(l.style=c),o.isOpen("layoutTractor")&&r.components.layout.isDocked(t)&&!r.components.layout.isDockedToScreen(t)&&delete l.layout.docked;var p=r.components.layout.getRelativeToStructure(t);l=n.runCopyPluginOnSerializedComponent(l,t,r);var d=s(t);return e.merge({serializedComp:l,positionRelativeToSnug:{x:p.x-a.x,y:p.y-a.y},isShowOnAllPages:r.components.isShowOnAllPages(t)},d)})},p=b(t);return p&&(c.containerWithModes=p),c}function v(t){var o=r.documentServices.pages.getFocusedPageId(),i=r.documentServices.siteSegments.getPagesContainer(),a=r.documentServices.siteSegments.layout.get(i),s=r.ui.scroll.getScroll();return e.map(t,function(e){var t=r.components.serialize(e);T(e,t);var i=S(e,o,s,t.componentType,a);t.layout.x=i.x,t.layout.y=i.y,t=n.runCopyPluginOnSerializedComponent(t,e,r),t=n.runPastePluginOnSerializedComponent(t,r);var l=E(o,t,e,i);return r.components.add(l,t)})}function E(t,o,n,i){var a=m(o.componentType),l=r.documentServices.pages.getReference(a?r.pages.getMasterPageId():t),p=c(e.merge({serializedComp:o},s(n)),i);return p&&(l=p),l}function S(e,t,o,n,i){var a=r.components.layout.getRelativeToStructure(e).bounding;r.pasteLogic.duplicateContext.setPasteData(a,t,o);var s=r.pasteLogic.duplicateContext.getPastePosition(r,a,t);return m(n)||(s.y-=i.y),s}function T(e,t){var o=r.components.style.getId(e);o&&(t.style=o)}function C(e,o){if(e){var n=r.components.asArray(e);if(n=r.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(n),h(n)){var i=P(n,o);r.clipboard.setItem(t.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT,i)}else r.isMobileEditor()&&r.openCantCopyPastePanel()}}function I(e,o){var n=O(),i=r.store.getState(),s=a.selection.selectors.selectSelectedCompsRefs(i),l=r.clipboard.getItem(t.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT);if(d(l)){r.panelManager.closeAllPanels();var c=g(l,e,o);i.performingMouseMoveAction||r.documentServices.waitForChangesApplied(function(){r.selection.selectComponentByCompRef(c),r.openFirstTimePanel(c),n&&r.updateState({applyModeFromClipboardSuggestion:{selectedComponents:c,container:s}})})}else r.isMobileEditor()&&r.openCantCopyPastePanel()}function _(){r.updateState({applyModeFromClipboardSuggestion:void 0})}function O(){var o=r.clipboard.getItem(t.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT);if(o&&o.containerWithModes){var n=r.components,i=r.store.getState(),s=a.selection.selectors.selectSelectedCompsRefs(i);if(s&&1===s.length){var l=s[0];if(e.isEqual(l,o.containerWithModes)){var c=n.modes.getModes(l);if(c&&c.length>0){var p=n.modes.getComponentActiveModeIds(l);if(1===e.size(p)){var d=e.keys(p)[0],u=e(c).reject({modeId:d}).map("modeId").value();return e(o.components).map("compRef").every(function(t){return e.some(u,function(e){return n.modes.isComponentDisplayedInModes(t,[e])})&&!n.modes.isComponentDisplayedInModes(t,[d])})}}}}}return!1}function M(){var e=r.store.getState(),t=a.applyModeFromClipboard.selectors.selectApplyModeFromClipboardSuggestion(e),o=t.container;_(),r.components.remove(t.selectedComponents),r.documentServices.waitForChangesApplied(function(){r.copyPaste.applyModeFromClipboard(o)})}function A(o){var n=r.clipboard.getItem(t.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT),i=e.map(n.components,function(e){return{compRef:e.compRef,compDefinition:e.serializedComp}});if(o&&1===o.length){var a=r.components,s=o[0];if(e.isEqual(s,n.containerWithModes)){var l=a.modes.getModes(s);if(l&&l.length>0){var c=a.modes.getComponentActiveModeIds(s);if(1===e.size(c)){var p=e.keys(c)[0];a.modes.applyComponentToMode(i,p);var d=e.map(i,"compRef");r.documentServices.waitForChangesApplied(function(){r.selection.selectComponentByCompRef(d)})}}}}r.history.add("apply mode from clipboard"),r.tabIndicationState.activateApplyAnimation(!0)}function w(t){if(e.isEmpty(t))return[];r.panelManager.closeAllPanels();var o=r.selection.getSelectedComponents(),n=r.components.asArray(t),i=r.components.getType(o);if(r.duplicatePlugins[i])return r.duplicatePlugins[i](o);o=r.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(o),n=r.multiselect.getComponentsWhichDontHaveAncestorsInTheArray(n);var a=r.components.getContainer(t);if(!r.components.is.duplicatable(n,a))return[];e.isEqual(n,o)&&r.selection.deselectComponents();var s=v(n);return r.documentServices.waitForChangesApplied(function(){r.selection.selectComponentByCompRef(s),r.openFirstTimePanel(s)}),s}var R=["wysiwyg.viewer.components.tpapps.TPAGluedWidget"],D=i.utils.boxSlideShowUtils;return{copy:C,paste:I,hideApplyModeFromClipboardSuggestion:_,canApplyModeFromClipboard:O,removePastedComponentAndApplyModeFromClipboard:M,applyModeFromClipboard:A,duplicate:w}}return{create:r}}),define("rEditor/app/APISections/wixStoresFlowAPI",["lodash","util"],function(e,t){function o(){return{isSiteInWixStoreTestDrive:function(){return e.includes(t.editorModel.metaSiteFlags,"EComTestDrive")}}}return{create:o}}),define("rEditor/app/APISections/editorUI",[],function(){function e(e){function t(){return e.scroll.get()}function o(t){return e.scroll.scrollTo(t)}function n(t,o,n){e.scroll.animateScrollTo(t,o,n)}function i(t){return e.scroll.addScrollListener(t)}function a(t){return e.scroll.removeScrollListener(t)}function r(){return e.getEditingAreaPosition()}function s(){return e.getMobileFramePosition()}function l(){e.setFocus()}return{scroll:{getScroll:t,setScroll:o,animateScroll:n,addListener:i,removeListener:a},stage:{getEditingAreaLayout:r,getMobileFrameLayout:s},focus:{setOnEditor:l}}}return{create:e}}),define("rEditor/app/APISections/wixCode",["lodash","core"],function(e,t){function o(o){function n(){return o.store.getState()[s]}function i(){o.toggleEditorStateParam(s,!0)}function a(t){function n(n){var i=o.data.createItem("DynamicPageLink");e.assign(i,{innerRoute:n.innerRoute||"/",routerId:n.routerId}),o.pages.navigateTo(i,t)}var i=o.documentServices.routers.getCurrentInnerRoute();if(i&&i.isDynamic)return i.innerRoute?void n(i):void o.documentServices.routers.getRouterInnerRoutes(i.routerId,o.documentServices.pages.getPrimaryPageId(),function(t){i.innerRoute=e.isEmpty(t)?"":t[0].url,n(i)});t()}function r(e){function n(){o.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"WixCode_PreviewSaveFail_Title",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",stepsTitle:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION_BOLD",steps:["SAVE_PUBLISH_ERROR_OPTION_1","WixCode_PreviewSaveFail_Step2_Text","WixCode_DeveloperModeFail_Step3_Text"],helpMessage:"WixCode_PreviewSaveFail_Learn_More_Label",helpLinkMessage:"WixCode_PreviewSaveFail_Learn_More_Link",helpLink:"",errorCode:"1234"}),o.savePublish.unlockSavePublish()}function i(){o.savePublish.unlockSavePublish(),e()}function r(){o.toggleEditorStateParam(s,t.constants.PROGRESS_STATUS.IDLE)}var s="previewingStatus";o.wixCode.isLoaded()?(o.savePublish.lockSavePublish(),o.toggleEditorStateParam(s,t.constants.PROGRESS_STATUS.IN_PROGRESS),o.wixCode.console.clear(),o.wixCode.fileSystem.flush().then(function(){a(function(){r(),i()})}).catch(function(){n(),r()})):i()}var s="wixCodeLoaded";return{isLoaded:n,setLoaded:i,prepareBeforePreview:r}}return{create:o}}),define("rEditor/app/APISections/columns",["lodash","rEditor/app/serializedComponentPlugins"],function(e,t){function o(o){function n(t){return t.components=e.reject(t.components,o.components.is.fullWidthByStructure),e.forEach(t.components,n),t}function i(t){var o=e.sum(t);return e.map(t,function(e){return 100*e/o})}function a(t){var n=o.components.getChildren(t);return e(n).keyBy("id").mapValues(o.components.layout.get).mapValues("width").value()}function r(t){var o=980/e.sum(t);return e.map(t,function(e){return e*o})}function s(t,n,a){var s=c(t),l=o.components.getChildren(t);n=r(n),e.forEach(l,function(e,t){o.components.layout.update(e,{width:n[t]},!0)}),T(l,s,i(n)),a||o.history.add("Change Columns Proportions")}function l(t,n,i){e.isUndefined(n)||o.components.arrangement.moveToIndex(t,n,i)}function c(t){var n=o.components.getChildren(t);return i(e(n).map(o.components.layout.get).map("width").value())}function p(e,t){o.components.getChildren(e).length===k&&s(e,B,t)}function d(e){s(e,c(e).reverse())}function u(a){var r=e(a).thru(o.components.serialize).thru(n).value(),s=o.components.getContainer(a),d=o.components.getChildren(s);if(d.length!==k&&!F){F=!0;var u=e.findIndex(d,a)+1,m=c(s);m.splice(u,0,m[u-1]);var g=i(m);r=t.runCopyPluginOnSerializedComponent(r,a,o),r=t.runPastePluginOnSerializedComponent(r,o);var f=o.components.add(s,r);return o.documentServices.waitForChangesApplied(function(){l(f,u,!0),p(s,!0),T(o.components.getChildren(s),m,g),F=!1,o.documentServices.waitForChangesApplied(function(){o.history.add("added column")})}),f}}function m(t){var n=o.components.getChildren(t),i=e.last(n);if(n.length!==k)return u(i)}function g(e,t){o.components.properties.update(e,{alignment:t})}function f(e){return o.components.properties.get(e).alignment}function h(e){o.components.arrangement.moveBackward(e)}function b(e){o.components.arrangement.moveForward(e)}function y(e){return o.components.getChildren(e).length<k}function P(e){var t=o.getComponentType(e);return!!L[t]}function v(t){var n=o.components.getChildren(t);return e(n).reject(P).flatMap(v).union(n).value()}function E(e,t,n,i){var a=o.components.layout.getRelativeToStructure(t),r=a.x-e.x,s=a.width,l=o.components.is.resizable(t)?s*n:s,c={width:l};if(!o.components.is.group(t)){if(i===N.LEFT)c.x=r*n;else if(i===N.CENTER){var p=(r+s/2)*n;c.x=p-l/2}else{var d=(r+s)*n;c.x=d-l}c.x+=e.x;o.components.layout.updateRelativeToStructure(t,c,!0)}}function S(e,t,o){var n=e[o],i=t[o];return n&&i?n/i:null}function T(t,n,i){e.forEach(t,function(t,a){var r=S(i,n,a);if(r){var s=v(t),l=o.components.properties.get(t).alignment,c=o.components.layout.getRelativeToStructure(t);e.forEach(s,function(e){E(c,e,r,l)})}})}function C(t,n,i,r){var s=r||e.partial(o.documentServices.components.remove,t,i),l=o.components.getContainer(t),c=o.components.getChildren(l),p=a(l);s(),o.documentServices.waitForChangesApplied(function(){var t=a(l);e.forEach(t,function(t,n){var i=t/p[n],a=e.find(c,{id:n}),r=v(a),s=o.components.properties.get(a).alignment,l=o.components.layout.getRelativeToStructure(a);e.forEach(r,function(e){E(l,e,i,s)})}),1===e.keys(t).length&&o.components.design.update(l,x,void 0,!0)})}function I(e){return 1===o.components.getChildren(e).length}function _(e){return!I(e)}function O(e){return"wysiwyg.viewer.components.Column"===o.components.getType(e)}function M(e,t){o.updateState({managedColumnPointer:e},t)}function A(){var e=o.store.getState().managedColumnPointer;return e&&o.components.is.exist(e)?e:null}function w(t,n){e.isArray(n)&&(n=e.head(n)),n=n||e(t).thru(o.components.getChildren).head(),o.columns.manage.setManagedColumn(n,function(){o.selection.selectComponentByCompRef(t),o.panelManager.openComponentPanel(D,{selectedComponent:t})})}function R(){o.columns.manage.setManagedColumn(null,function(){o.panelManager.closePanelByName(D)})}var D="compPanels.panels.StripColumnsContainer.managePanel",k=5,B=e.times(k,function(){return 1}),N={LEFT:0,CENTER:50,RIGHT:100},L={BoxSlideShow:!0,StripContainerSlideShow:!0},x={background:{type:"BackgroundMedia",mediaRef:null,alignType:"center",fittingType:"fill",color:"#FFFFFF",colorOpacity:0,colorOverlay:"",colorOverlayOpacity:1,imageOverlay:""}},F=!1;return{isColumn:O,isMultiColumnsStrip:_,isSingleColumnStrip:I,addColumn:m,duplicateColumn:u,removeColumn:C,canAdd:y,proportions:{set:s,get:c,flip:d,toPercentages:i},columnAlignment:{set:g,get:f},move:{left:h,right:b},manage:{setManagedColumn:M,getManagedColumn:A,openPanel:w,closePanel:R}}}return{create:o}}),define("rEditor/app/APISections/pagesWrapper",["lodash","core","util","rEditor/utils/removeUtil","rEditor/app/updateOperationsPlugins","platform"],function(e,t,o,n,i,a){function r(r){function s(e,t){c(e,t),l()}function l(){r.getPreviewMode()||(r.shouldUpdateEditorScrollAfterHeightUpdate=!0,r.applyPreviewScrollToEditorScroll())}function c(t,n){o.keyboardShortcuts.enable(),e(r.pageNavigationCallbacks).concat(n).compact().forEach(function(e){e(t)})}function p(t){var o=e(a.constants.pages.page_actions).mapKeys("title").mapValues("icon").value();return o&&t?o[t]:null}function d(t,n){return e.reduce(t,function(t,i){if(e.isObject(i))return t.push(e.assign(i,{type:n,event:i.event||i.title})),t;var a=p(i);return t.push({title:o.translate(i),event:i,type:n,icon:a}),t},[])}function u(o){var n=o.style;e.isObject(o.style)&&(n=t.styleManager.getStyleIdByDef(r.theme,r.components,o.style,o.componentType)),n&&(o.style=n),e.forEach(o.components,function(e){u(e)})}function m(){var t=["type","name"],o=r.actions.getDefinition("load"),n=r.behaviors.getDefinition("openPopup");return{action:e.pick(o,t),behavior:e.pick(n,t)}}function g(t,o){var n=t.pages.data.get(o);return e.get(n,"title")||""}function f(e){return"dataBinding"===e?o.translate("DYNAMIC_PAGES_APP_TYPE_DATA_BINDING"):o.translate("DYNAMIC_PAGES_APP_TYPE_CUSTOM_ROUTER")}function h(e){return"dataBinding"===e?t.constants.ROUTER_TYPES.DATA_BINDING:t.constants.ROUTER_TYPES.CUSTOM_ROUTER}function b(e,t){return t&&(t.data.pageUriSEO=r.documentServices.pages.data.pageUriSEO.getValid("",t.data.pageUriSEO)),r.documentServices.pages.add(e,t)}function y(e,n,i){r.selection.deselectComponents(),o.keyboardShortcuts.disable(),r.documentServices.pages.navigateTo(e),r.documentServices.waitForChangesApplied(function(){s(r.documentServices.pages.getFocusedPageId(),n)}),i||r.developerMode.setContext(r.developerMode.createContext(t.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE))}function P(o,n,i){r.selection.deselectComponents(),r.documentServices.pages.navigateToAndScroll(o,n,l),r.documentServices.waitForChangesApplied(e.partial(s,o,i)),r.developerMode.setContext(r.developerMode.createContext(t.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE))}function v(){return r.documentServices?g(r.documentServices,E()):null}function E(){return r.documentServices?r.documentServices.pages.getCurrentUrlPageId():null}function S(e){return g(r.documentServices,e)}function T(e,t,o,i){r.selection.deselectComponents(),n.removePage(r,r.documentServices,r.removePlugins,e,t,o,i)}function C(e,t){var o,n=r.homePage.get();n===e&&(o=r.mainMenu.getFirstNonHomePageMenuItem())&&(r.homePage.set(o.pageData.id),n=o.pageData.id.replace(/^#/,"")),r.documentServices.pages.navigateTo(n,t)}function I(e){return r.documentServices.pages.doesPageExist(e)}function _(e){return e===r.homePage.get()}function O(e,t){var o=r.documentServices.pages.serialize(e,!0);return t&&u(o),o}function M(e,o){o.isLandingPage&&r.selection.deselectComponents(),o.pageUriSEO&&(o.pageUriSEO=r.documentServices.pages.data.pageUriSEO.getValid(e,o.pageUriSEO)),o=t.utils.updateDataUtil.fixData(o),r.documentServices.pages.data.update(e,o),r.documentServices.waitForChangesApplied(function(){i.updatePagePlugins.run(r,e)})}function A(e,o,n){o=t.utils.updateDataUtil.fixData(o),r.documentServices.pages.background.update(e,o,n)}function w(e){r.documentServices.pages.transitions.set(e),r.history.add("page transition")}function R(){r.hideFloatingBubble();var e=r.documentServices.pages.getPrimaryPageId();r.pages.navigateTo(e)}function D(){var e=r.documentServices.pages.popupPages.getCurrentPopupId();return r.components.get.byId(e)}function k(){var e=r.documentServices.pages.popupPages.getCurrentPopupId();return r.documentServices.pages.data.get(e)}function B(o){o=o||r.documentServices.pages.popupPages.getCurrentPopupId();var n=r.documentServices.components.get.byId(o);return e.head(r.documentServices.components.get.byType(t.constants.COMP_TYPES.POPUP_CONTAINER,n))}function N(){var t=m();return e(r.documentServices.pages.getPageIdList(!0)).map(e.ary(r.components.get.byId,1)).flatMap(e.ary(r.behaviors.get,1)).filter(t).map(function(e){return{pageId:e.action.sourceId,popupId:e.behavior.targetId,params:e.behavior.params}}).value()}function L(t){return e.filter(r.pages.popupPages.getOpenBehaviorsForPopups(),{popupId:t})}function x(){return e.sortBy(r.documentServices.pages.popupPages.getDataList(),"id")}function F(){if(!r.documentServices.pages.popupPages.isPopupOpened())return!1;var e=r.components.properties.get(r.pages.popupPages.getPopupContainer());return e&&"fullWidth"===e.alignmentType}function H(){function t(e,t){return{id:t.id,label:t.title,type:{isPage:!0,isDynamicPage:!0,routerType:e},isVisible:!0,isVisibleMobile:!0,pageData:t}}var n=r.documentServices.routers.pages.getDynamicPagesList(),i=[];return e.forEach(n,function(n,a){var r=f(n.appDefinitionId),s=h(n.appDefinitionId),l={id:"router_"+a,isRoot:!0,isVisible:!0,isVisibleMobile:!0,label:e.upperFirst(n.prefix)+" "+o.translate("DYNAMIC_PAGES_ROUTER_PAGES")+" ("+r+")",prefix:n.prefix,routerType:s,type:{isRouter:!0},items:e.map(n.pages,e.partial(t,s))};i.push(l)}),i}function U(e){var t=r.documentServices.routers.getRouterDataForPageIfExist(e);return t?f(t.appDefinitionId):""}function G(e,t){var o=r.documentServices,n=o.pages.getReference(e);if(!n)return[];var i=o.routers.getRouterRef.byPage(n);if(!i)return[];var a=o.routers.get.byRef(i),s=d(r.platform.routers.getDataFromRoutersAppManifest(a.appDefinitionId,t),t);return s||[]}function V(t){var o=r.documentServices,n=o.routers.getRouterRef.byPrefix(t),i=o.routers.get.byRef(n),a=r.platform.routers.getDataFromRoutersAppManifest(i.appDefinitionId,"routerActions");return e.isEmpty(i.pages)?a||[]:a?e.reject(a,{event:"removeRouterClicked"}):[]}return{add:b,navigateTo:y,navigateToAndScroll:P,getCurrentUrlPageTitle:v,getCurrentUrlPageId:E,getPageTitle:S,remove:T,beforePageRemoveHook:C,isPageExist:I,isHomePage:_,serialize:O,data:{update:M},background:{update:A},transitions:{set:w},popupPages:{close:R,getCurrentPopup:D,getCurrentPopupData:k,getPopupContainer:B,getOpenBehaviorsForPopups:N,getOpenBehaviorsForPopupWithId:L,getDataListOrdered:x,isFullWidthPopupOpened:F},dynamicPages:{getMenuItems:H,getRouterPageType:U,getDynamicPageOptions:G,getRouterActionOptions:V}}}return{create:r}}),define("rEditor/app/APISections/layoutersWrapper",["rEditor/utils/multiSelectHandler"],function(e){function t(t){function o(o){return e.call(t,o,{multiCompHandler:t.multiselect.getNonMasterChildren,singleCompHandler:t.documentServices.layouters.getNonMasterChildren})}function n(o){return e.call(t,o,{multiCompHandler:t.multiselect.getParentCompWithOverflowHidden,singleCompHandler:t.documentServices.layouters.getParentCompWithOverflowHidden})}return{getNonMasterChildren:o,getParentCompWithOverflowHidden:n}}return{create:t}}),define("rEditor/app/APISections/platformWrapper",["lodash","platform","util"],function(e,t,o){function n(n){function i(t,o){var i=n.documentServices.platform.getAppManifest(t);return e.get(i,o)}function a(){if(n.wixCode.isProvisioned()){var e=n.wixCode.fileSystem,t=e.getVirtualDescriptor(e.getRoots().schemas.location,!0);e.getChildren(t).then(function(e){e.length>0&&n.toggleEditorStateParam("hasDatabaseCollections",!0)})}}function r(){n.documentServices.platform.registerToManifestAdded(function(t,n){var i=e.get(t,"controllersStageData.langs");e.forEach(i,function(e,t){var i={};i[n.applicationId+"_"+t]=e,o.translate.addLangs(i)})})}return n.editorEventRegistry.register(n.editorEventRegistry.constants.events.PREVIEW_READY,a),n.editorEventRegistry.register(n.editorEventRegistry.constants.events.PREVIEW_READY,r),{controllers:{getStageData:function(o){var a=n.components.data.get(o),r=a.applicationId,s=a.controllerType,l=n.platform.controllers.getState(o),c=i(r,["controllersStageData",s,l]);if(l===t.constants.controller.DEFAULT_STATE)return c;var p=i(r,["controllersStageData",s,t.constants.controller.DEFAULT_STATE]);return e.defaults({},c,p)}},routers:{getDataFromRoutersAppManifest:function(e,t){return i(e,["routers",t,"default"])||[]}}}}return{create:n}}),define("rEditor/app/APISections/pinModeWrapper",["lodash","baseUI","constants","util","stateManagement"],function(e,t,o,n,i){function a(a){function r(t){return e.get(f,e.has(f,t)?t:"default")}function s(t){return e.get(r(t),"panelName")}function l(t,o){var n=e.get(r(t),o);n&&n()}function c(n,r){var c=a.store.getState(),p=a.selection.getSelectedComponentType();t.tooltipManager.hide(o.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE),r=e.assign({origin:n,selectedComponents:i.selection.selectors.selectSelectedCompsRefs(c)},r),a.panelManager.openComponentPanel(s(p),r),l(p,"open")}function p(){if(m()){var e=a.store.getState().pinnedCompType;a.panelManager.closePanelByName(s(e)),l(e,"close")}}function d(){p(),u()}function u(){a.getPreviewMode()||a.documentServices.waitForChangesApplied(function(){var t=a.store.getState(),o=i.selection.selectors.selectSelectedCompsRefs(t),r=a.components.layout.getDock(o);if(!e.isUndefined(r)){var s=n.pinModeUtils.getDockedDirection(r),l=a.components.layout.get(o);n.pinModeUtils.checkSizeRestrictions(s,l)&&a.panelHelpers.openPinModeSizeRestrictionPanel({state:"on pin",title:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Title",content:"Notification_Box_PinToScreen_ElementTooLarge_postPin_Message"})}})}function m(){return Boolean(a.store.getState().pinnedCompType)}function g(){return a.store.getState().pinnedCompType}var f={default:{panelName:"compPanels.dynamicPanels.pinnedDockPanel",open:function(){a.blockingLayer.show(),a.editorControls.hide()},close:function(){a.hideComponentPreviewRect(),a.blockingLayer.hide(),a.editorControls.show()}},PopupContainer:{panelName:o.COMP_PANELS.POPUP.CONTAINER.POPUP_GRID_LAYOUT_PANEL.NAME,open:function(){a.blockingPopupLayer.show(),a.editorControls.hide()},close:function(){a.hideComponentPreviewRect(),a.blockingPopupLayer.hide(),a.editorControls.show()}}};return{open:c,close:p,closeAndCheckSizeRestrictions:d,checkSizeRestrictionsAndShowPopup:u,isOpened:m,getPinnedCompType:g}}return{create:a}}),define("rEditor/app/APISections/promotionsWrapper",["jquery","lodash","core","util","staticAssets","experiment"],function(e,t,o,n,i,a){function r(r){function s(o){var n=y+"?fields=post_reg_category,post_reg_sub_category&accept=json";e.ajax(n).complete(function(e,n){if("success"===n){var i=e.responseJSON,a=i.payload&&i.payload.fields,r=t.find(a,{name:"post_reg_category"});o(t.get(r,"value")||"")}else o("")})}function l(e){var o=t.template("panels/focusPanels/<%= promotionName %>PromotionPopup.png"),a=t.template("panels/focusPanels/<%= promotionName %>PromotionPopupRetina.png");return n.browserUtil.getDevicePixelRatio()>=2?n.media.getMediaUrl(i.staticAssetsMap[a({promotionName:e})]):n.media.getMediaUrl(i.staticAssetsMap[o({promotionName:e})])}function c(){if(a.isOpen("musicPromotionFixed")||a.isOpen("musicPromotionRotation")){var e=r.promotions.music;r.documentServices.tpa.app.registerOnInstalled(o.constants.MUSIC_PROMO.APP_DEFINITION_ID,e.displayPopup),e.isActive()&&e.displayPopup()}}function p(){r.userPreferences.session.get("photo-promo-popup-displayed")||(r.userPreferences.session.set("photo-promo-popup-displayed",!0),r.promotions.photography.displayPopup())}function d(){(a.isOpen("photographyPromotionFixed")||a.isOpen("photographyPromotionRotation"))&&t.forEach(o.constants.PHOTOGRAPHY_PROMO.APP_DEFINITION_IDS,function(e){r.documentServices.tpa.app.registerOnInstalled(e,p)})}function u(){s(function(e){b=e.toLowerCase(),c(),d()})}function m(){if(a.isOpen("musicPromotionFixed")||a.isOpen("musicPromotionRotation")){var e=r.documentServices.generalInfo.getSiteOriginalTemplateId(),n=t.includes(o.constants.MUSIC_PROMO.TEMPLATE_IDS,e),i=r.documentServices.tpa.app.isInstalled(o.constants.MUSIC_PROMO.APP_DEFINITION_ID);return n||i||t.includes(b,"music")}return!1}function g(){r.panelManager.openPanel("panels.focusPanels.promotionModalPanel",{className:"music-promo-popup",headerFirstLineText:"MUSIC_PROMOTION_HEADER_2",imageSrc:l("music"),bodyText:"MUSIC_PROMOTION_BODY_LINE1",bodyLinkText:"MUSIC_PROMOTION_BODY_B4_ENDS",bodyBottomText:"MUSIC_PROMOTION_BODY_EASY",actionText:"MUSIC_PROMOTION_BUTTON_SUBMIT",actionUrl:"MUSIC_PROMOTION_BUTTON_SUBMIT_URL",biEvent:o.bi.events.musicPromotionPopup.submit_video_clicked})}function f(){if(a.isOpen("photographyPromotionFixed")||a.isOpen("photographyPromotionRotation")){var e=r.documentServices.generalInfo.getSiteOriginalTemplateId().toUpperCase(),n=t.includes(o.constants.PHOTOGRAPHY_PROMO.TEMPLATE_IDS,e),i=t.some(o.constants.PHOTOGRAPHY_PROMO.APP_DEFINITION_IDS,t.bind(r.documentServices.tpa.app.isInstalled,r)),s=t.includes(b,"photography")||t.includes(b,"design");return n||i||s}return!1}function h(){r.panelManager.openPanel("panels.focusPanels.promotionModalPanel",{className:"photo-promo-popup",headerFirstLineText:"PHOTO_PROMO_POP_HEADER1",headerSecondLineText:"PHOTO_PROMO_POP_HEADER2",imageSrc:l("photo"),bodyText:"PHOTO_PROMO_POP_TEXT1",isImageLinkActive:!1,actionText:"PHOTO_PROMO_POP_BUTTON_TEXT",actionUrl:"PHOTO_PROMO_POP_BUTTON_URL",biEvent:o.bi.events.photographyPromotionPopup.submit_video_clicked})}var b,y=n.serviceTopology.wixStoresMigrationServiceUrl.replace(/ecommerce-migration-web\//,"bi-profile-webapp/userprofile")||"https://editor.wix.com/_api/wix-bi-profile-webapp/userprofile";return{initPromotions:u,music:{isActive:m,displayPopup:g},photography:{isActive:f,displayPopup:h}}}return{create:r}}),define("rEditor/app/APISections/togglePreviewWrapper",["lodash","core","baseUI","constants","util","stateManagement","experiment"],function(e,t,o,n,i,a,r){function s(s){function l(){var t=s.store.getState().eventCounters,o=e.assign(t,{clearTextSelection:t.clearTextSelection+1});s.store.dispatch(a.legacy.setState({eventCounters:o}))}function c(a){var r=e.isFunction(a)?[a]:[];r.push(d),s.developerMode.setContext(s.developerMode.createContext(t.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE)),l(),o.tooltipManager.hide(n.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE),i.keyboardShortcuts.setContext(i.keyboardShortcuts.CONTEXTS.PREVIEW),p(r)}function p(t){var o=P.concat(t);s.updateState({previewMode:!0,contextMenu:null},function(){e.invokeMap(o,Function.call),s.documentServices.waitForChangesApplied(s.actions.executeAnimationsInPage)})}function d(){var e=s.isMobileEditor(),o=!s.userPreferences.site.get(t.constants.USER_PREFS.MOBILE_EDITOR.CHECK_YOUR_MOBILE.DONT_SHOW_AGAIN);"config3"===r.getValue("se_firstTimeBackFromPreview")&&!e&&o&&(s.userPreferences.site.set(t.constants.USER_PREFS.MOBILE_EDITOR.CHECK_YOUR_MOBILE.DONT_SHOW_AGAIN,!0),s.waitForChangesApplied(s.topBar.animateModeSwitch))}function u(e){var t=y();t&&(s.panelManager.closeAllPanels(),s.selection.deselectComponents()),s.prepareDocumentForPreviewMode(t),s.setRenderPlugins(t),s.documentServices.waitForChangesApplied(function(){t?c(e):m()})}function m(){s.documentServices.components.modes.resetAllActiveModes();var e=s.site.getScroll();s.scroll.scrollTo({scrollLeft:e.x,scrollTop:e.y}),s.updateState({previewMode:!1},function(){s.hideFloatingBubble(),i.keyboardShortcuts.setContext(i.keyboardShortcuts.CONTEXTS.EDITOR),s.isMobileEditor()&&s.panelHelpers.openMobileEditorFirstTimePanelIfNeeded()})}function g(e){P.push(e)}function f(){var e=!s.userPreferences.site.get(t.constants.USER_PREFS.MOBILE_EDITOR.CHECK_YOUR_MOBILE.DONT_SHOW_AGAIN);return"config2"===r.getValue("se_firstTimeBackFromPreview")&&!y()&&e}function h(o){y()&&r.isOpen("se_platform1")?s.wixCode.prepareBeforePreview(e.partial(u,o)):f()?(s.userPreferences.site.set(t.constants.USER_PREFS.MOBILE_EDITOR.CHECK_YOUR_MOBILE.DONT_SHOW_AGAIN,!0),s.panelManager.openPanel("panels.focusPanels.checkYourMobileSitePanel")):u(o)}function b(){return!!s.store.getState().previewMode}function y(){return!b()}var P=[];return{registerToGoToPreview:g,togglePreview:h,isInPreviewMode:b}}return{create:s}}),define("rEditor/app/APISections/account",["lodash","jquery","util","core","rEditor/bi/bi"],function(e,t,o,n,i){function a(a){function r(){var e=o.editorModel.permissionsInfo;return e&&e.ownerId===e.loggedInUserId}function s(){return!a.account.isUserOwner()}function l(t,o){var n=a.documentServices.generalInfo.isFirstSave();o=e.isBoolean(o)?o:!a.documentServices.generalInfo.isSitePublished();var i=a.site.isPremium();a.panelManager.openPanel("savePublish.panels.connectDomain",{isFirstSave:n,isFirstPublish:o,isPremium:i,title:"PREMIUM_PUBLISH_TITLE",subtitle:i?"PREMIUM_PUBLISH_SUBTITLE":"CONNECT_DOMAIN_DIALOG_FREE_SUBTITLE",flowId:t},!0)}function c(e,t){a.panelManager.openPanel("rEditor.panels.siteSettingsPanel",{helpId:"49cebc11-f15c-4cf8-82d9-2c36c5397520",tab:e,referrer:t})}function p(){!!a.userPreferences.site.get(n.constants.USER_PREFS.SITE_REVISIONS.SITE_HISTORY_DONT_SHOW_AGAIN)?m():a.panelManager.openPanel("panels.messagePanels.siteRevisionsPanel",{onButtonClick:function(e){e&&a.account.openSiteHistory()}})}function d(){var e=a.documentServices.generalInfo.getMetaSiteId();window.open(v+"sites/"+e+"/?referralInfo=EDITOR")}function u(){var e=a.documentServices.generalInfo.getMetaSiteId();window.open(v+"sites/"+e+"/site-settings/overview?referrer==EDITOR")}function m(){var e=a.documentServices.generalInfo.getMetaSiteId();window.open(v+"history/"+e+"/?forceHttp&referralInfo=EDITOR")}function g(e){var t=e.replace(/edhtml_/,"")||"unknown";a.bi.event(i.events.UPGRADE_EVENT,{origin:t});var n=a.documentServices.generalInfo.getMetaSiteId(),r=e?"referralAdditionalInfo="+e:"",s=o.serviceTopology.premiumServerUrl||"https://premium.wix.com";s+="/wix/api/premiumStart?"+r+"&siteGuid="+n,window.open(s)}function f(){return window.editorVersionsInfo||null}function h(e){var t=a.documentServices.generalInfo.getMetaSiteId(),o=v+"sites/"+t+"/app/"+E+"?app=seo";return e?o+"&referralInfo="+e:o}function b(e){window.open(a.account.getWixSEOWizURL(e),"_blank")}function y(){t.ajax({url:T,xhrFields:{withCredentials:!0},success:function(e){S=e}})}function P(){return"true"===S[C]}var v=o.serviceTopology.dashboardUrl.replace(/create\//,"")+"/",E="1480c568-5cbd-9392-5604-1148f5faffa0",S={},T="https://www."+o.serviceTopology.serverName+"/_api/wix-laboratory-server/laboratory/conductAllInScope?scope=my-account",C="specs.wos.OpenNewSEOWizard";return{isUserOwner:r,isUserContributor:s,openConnectDomain:l,openSettings:c,openRevisions:p,manage:d,transferSite:u,openSiteHistory:m,upgrade:g,getEditorVersionsInfo:f,getWixSEOWizURL:h,openWixSEOWiz:b,initMyAccountExperiments:y,isWixSEOWizExperimentOpen:P}}return{create:a}}),define("rEditor/app/APISections/mobileEditor",["lodash","core","coreUtilsLib","util","baseUI","mobileEditor","constants","experiment"],function(e,t,o,n,i,a,r,s){function l(l){function u(t,o){var n=e.assign({},l.store.getState().mobile,{reAddedHiddenElement:{compRef:t,addingPhase:o}});l.updateState({mobile:n})}function m(){return l.store.getState().mobile.isHiddenItemsCounterVisible}function g(){m()&&l.updateState({mobile:e.defaults({isHiddenItemsCounterVisible:!1},l.store.getState().mobile)},function(){l.leftBar.notifications.setCount("mobileEditor.hiddenItemsPanel",0)})}function f(){if(l.documentServices.pages.getFocusedPageId()){var e=s.isOpen("se_mobileHiddenItemsCounter")&&m()?a.hiddenItemsUtils.getFocusedPageHiddenComps(l,l.documentServices.pages.getFocusedPageId()).length:0;l.leftBar.notifications.setCount("mobileEditor.hiddenItemsPanel",e)}}function h(){return l.store.getState().mobile.reAddedHiddenElement}function b(){u(null,t.constants.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.PROGRESS.IDLE)}function y(e){l.selection.selectComponentByCompRef(e),l.documentServices.documentMode.setComponentVisibility(e.id,!0),u(e,t.constants.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.PROGRESS.FINISH),window.clearTimeout(w),w=window.setTimeout(b,t.constants.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.TOOLTIP_TIMEOUT)}function P(t){var o=e.defaults({targetId:t.id},d);l.components.behaviors.previewAnimation(t,o,y.bind(this,t))}function v(e){var n=l.components.get.byId(e);u(n,t.constants.LEFT_BAR.MOBILE_HIDDEN_ELEMENTS.PROGRESS.IN_PROGRESS);var i=l.components.layout.getRelativeToScreen(n).y-p,a=o.scrollUtils.calcScrollDuration(l.site.getScroll().y,i,l.isMobileEditor());l.scroll.animateScrollTo({y:i},a,P.bind(this,n))}function E(e){l.documentServices.mobile.mobileOnlyComponents.enableBackToTopButton(e)}function S(e){return l.documentServices.mobile.hiddenComponents.get(e)}function T(e,t){s.isOpen("se_animateReAddMobileItem")&&l.documentServices.documentMode.setComponentVisibility(e,!1),l.documentServices.mobile.hiddenComponents.show(e,t),s.isOpen("se_animateReAddMobileItem")&&l.documentServices.waitForChangesApplied(v.bind(this,e))}function C(){var e=l.documentServices.pages.getFocusedPageId();l.mobile.reLayoutPage(e),l.history.add("relayout"),l.bi.event(t.bi.events.mobileEditor.hiddenElements.HIDDEN_ELEMENTS_REFRESH_LAYOUT_CLICK,{current_page_name:e}),I()&&_()}function I(){var e=n.url.isQA();return"true"===n.url.getParameterByName("qa_magicLayoutTooltip")||!e}function _(){if(s.isOpen("newTopBar")){var e=r.ROOT_COMPS.TOPBAR.DROP_PANELS.CUSTOM.MOBILE_OPTIMIZE_LAYOUT_UNDO;l.topBarMenuBar.openDropDown(e),window.setTimeout(l.topBarMenuBar.closeDropDown.bind(l,e),5e3)}else M({onClose:O,props:{title:"TOPBAR_UNDO_TOOLTIP_TITLE",text:"TOPBAR_MOBILE_TOOLTIP_UNDO_BODY",link:null,linkAction:null,onClose:function(){i.tooltipManager.hide(t.constants.TOP_BAR.TOOLTIP_ID.UNDO)}},closeDelay:5e3,openTriggers:[i.uiConstants.TOOLTIP.TRIGGERS.IMMEDIATE],closeTriggers:[i.uiConstants.TOOLTIP.TRIGGERS.TIMER]})}function O(){M(null)}function M(t){l.updateState({topBarCustomization:e.defaultsDeep({tooltipOverrides:{UNDO:t}},l.store.getState().topBarCustomization)})}function A(e){l.documentServices.mobile.hiddenComponents.hide(e),l.leftBar.setButtonsActiveState({"mobileEditor.mobileElementsPanel":"force-hover"}),c.showForDuration("mobileElementsPanel_quickActionBar_afterRemove",4e3,function(){l.leftBar.setButtonsActiveState({"mobileEditor.mobileElementsPanel":""})})}var w=null;return{mobileOnlyComponents:{enableBackToTopButton:E,removeQuickActionBar:A},hiddenComponents:{get:S,show:T,getReAddedHiddenElement:h,setReAddedHiddenElement:u},hideHiddenItemsCounter:g,optimizeLayout:C,updateLeftBarNotificationsCount:f}}var c=i.tooltipManager,p=50,d={action:"",duration:.3,name:"FadeIn"};return{create:l}}),define("rEditor/app/APISections/mouseActions",["lodash","core","util","experiment"],function(e,t,o,n){function i(t){function i(){return t.store.getState().performingMouseMoveAction}function a(n){var i=t.store.getState();i.registeredMouseMoveAction&&e.isFunction(i.registeredMouseMoveAction.on)&&(!i.performingMouseMoveAction&&(o.keyboardShortcuts.disable(),t.updateState({performingMouseMoveAction:!0,lastSelectionClickPos:null})),i.registeredMouseMoveAction.on(n))}function r(i){var a=t.store.getState();if(a.registeredMouseMoveAction&&e.isFunction(a.registeredMouseMoveAction.end)&&a.registeredMouseMoveAction.end(i),o.keyboardShortcuts.enable(),n.isMultiValueExperimentOpen("editorHintsConfigs")){var r=a.registeredMouseMoveAction?a.registeredMouseMoveAction.type:null,s=t.pluginService.getPlugin("mouseMoveEndPlugin","*");e.isFunction(s)&&s(r,a.performingMouseMoveAction)}l()}function s(){return{registeredMouseMoveAction:null,isUsingWindowMouseEvents:!1,performingMouseMoveAction:!1}}function l(){window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",r);var o=s();e.isEqual(o,e.pick(t.store.getState(),e.keys(o)))||t.updateState(o)}function c(o,i,s){if(e.isFunction(o.start)&&o.start(t,i),s&&(window.addEventListener("mousemove",a),window.addEventListener("mouseup",r)),t.updateState({registeredMouseMoveAction:o,isUsingWindowMouseEvents:!!s}),n.isMultiValueExperimentOpen("editorHintsConfigs")){var l=t.pluginService.getPlugin("mouseMoveStartPlugin","*");e.isFunction(l)&&l()}}function p(e){var n=t.selection.getSelectedComponents();if(t.selection.isSelectedCompUnderCursorAndBeneathSiteSegment(n,e))return!1;var i=t.selection.getComponentUnderClickToBeSelected(e);if(o.browserUtil.isSpecialKeyPressed(e))return!0;if(t.selection.isHiddenComponentDraggedNext())return!1;if(t.components.is.siteSegment(i)||t.components.is.page(i))return!0;var a=t.components.is.container(i),r=t.components.is.allowLassoOnContainer(i);return a&&r&&(!t.selection.isComponentSelected(i)||!t.components.is.movable(i))}function d(e){var o=t.store.getState();o.registeredMouseMoveAction&&!o.isUsingWindowMouseEvents&&a(e)}function u(e){var o=t.store.getState();o.registeredMouseMoveAction&&!o.isUsingWindowMouseEvents&&r(e)}return{isPerformingMouseMoveAction:i,onMouseMove:a,onMouseUp:r,onEditorViewMouseMove:d,onEditorViewMouseUp:u,turnOffMouseEvents:l,registerMouseMoveAction:c,shouldInitLassoToolOnMouseDown:p}}return{create:i}}),define("rEditor/app/pluginService",["lodash"],function(e){function t(){var t={};return{pluginConstants:{DOUBLE_CLICK:"doubleClick"},registerPlugin:function(o,n,i){e.set(t,[o,n],i)},getPlugin:function(o,n){return e.get(t,[o,n])}}}return{create:t}}),define("rEditor/app/updateThemePlugins/tinyMenu",["lodash"],function(e){return function(t,o){if(o&&o.style&&o.style.properties){var n=o.style.properties,i=o.style.propertiesSource,a=n["alpha-txt"];if(e.isUndefined(a)||(e.isUndefined(n["alpha-iconcolor"])&&(n["alpha-iconcolor"]=a),e.isUndefined(n["alpha-bordercolor"])&&(n["alpha-bordercolor"]=a)),delete n["alpha-txt"],delete n["alpha-txts"],i){var r=i["alpha-txt"];i["alpha-iconcolor"]=i["alpha-iconcolor"]||r,i["alpha-bordercolor"]=i["alpha-bordercolor"]||r,delete i["alpha-txt"],delete i["alpha-txts"]}}}}),define("rEditor/app/updateThemePlugins/designDataThemeChangeHandler",["lodash","util"],function(e,t){function o(o,n){var i=n.values;"COLOR"===n.type&&e(o.components.getAllComponents()).reduce(function(e,t){var n=o.components.design.get(t);return n&&e.push({pointer:t,data:n}),e},[]).forEach(function(e){var n=e.data;t.designData.updateThemeColors(n,i),o.components.design.update(e.pointer,n,!0)})}return o}),define("rEditor/app/updateThemePlugins",["lodash","rEditor/app/updateThemePlugins/tinyMenu","rEditor/app/updateThemePlugins/designDataThemeChangeHandler"],function(e,t,o){function n(e,t){var o=i[t.skin];o&&o(e,t)}var i={"wysiwyg.viewer.skins.mobile.TinyMenuSkin":t};return{register:function(t){t.theme.styles.registerHook(n);var i=e.bind(o,{},t);t.documentServices.theme.events.onChange.addListener(i)}}}),define("rEditor/app/tooltipTextService",["lodash"],function(e){function t(t,o,n){e.isUndefined(r[t])&&(r[t]={}),r[t][o]=n}function o(e,t){return r[e]?r[e][t]||null:null}function n(e){var t=this.selection.getSelectedComponents();return this.tooltipTextService.getComponentTooltipText(t,e)}function i(e,t){var o=this.components.getType(e);return this.tooltipTextService.getTooltipText(o,t)}function a(){r={}}var r={};return{registerTooltipText:t,getTooltipText:o,getSelectedComponentTooltipText:n,getComponentTooltipText:i,clearAllToolTipsText:a}}),define("rEditor/pasteLogic/pasteLogicCalculations",[],function(){function e(e){return{x:e.x+r.xOffset,y:e.y+r.yOffset}}function t(e){return{x:e.x+r.newStackOffset.x,y:e.y-r.newStackOffset.y}}function o(e,t,o){var n=r.rightThreshold,i=r.bottomThreshold;return o&&(n=0,i=0),t.x+n>e.rightX||t.y+i>e.stageLayout.bottom+e.scrollTop}function n(e,t,o){var n=e.documentServices.siteSegments.getPagesContainer(),i=e.documentServices.siteSegments.layout.get(n);return{x:(i.width-o.width)/2,y:(t.stageLayout.height-o.height)/2+t.scrollTop-i.y}}function i(e,t,o){var n=e.documentServices.siteSegments.getPagesContainer(),i=e.documentServices.siteSegments.layout.get(n);return o.y>i.height+t.stageLayout.top}function a(e,t){return t.y>=e.stageLayout.top&&t.y+r.bottomThreshold<=e.stageLayout.bottom-e.stageLayout.top+e.scrollTop}var r={xOffset:40,yOffset:30,newStackOffset:{x:60,y:40},bottomThreshold:80,rightThreshold:80};return{getNextComponentPosition:e,getNewStackComponentPosition:t,cannotFitIntoViewPort:o,getCenteredCompPosition:n,isComponentInViewPort:a,cannotFitIntoPageHeight:i}}),define("rEditor/pasteLogic/ComponentPasteLogic",["lodash","core","rEditor/pasteLogic/pasteLogicCalculations"],function(e,t,o){function n(){return e.isEmpty(this.firstCompPosition)}function i(e){return e!==this.lastCompPage}function a(e,t,n){return this.centerOnFirstPaste||i.call(this,n)&&o.cannotFitIntoPageHeight(e,t,this.originalCompPosition)}function r(e,t,n){o.isComponentInViewPort(t,n)||e.ui.scroll.setScroll({scrollLeft:0,scrollTop:n.y})}function s(e){this.lastCompPage||(this.lastCompPage=e),i.call(this,e)&&this.resetPastePosition()}function l(e){return e.y<0}function c(e,t,n,s){var c={};if(a.call(this,e,t,s))l(c=o.getCenteredCompPosition(e,t,n))&&(c.y=0);else if(i.call(this,s))r(e,t,c=this.originalCompPosition);else{var p=e.ui.scroll.getScroll();c={x:this.originalCompPosition.x,y:this.originalCompPosition.y-this.originalScrollPosition+p.scrollTop}}return this.firstCompPosition=c,c}function p(e){var t=o.getNextComponentPosition(this.lastCompPosition);return o.cannotFitIntoViewPort(e,t)&&(t=o.getNewStackComponentPosition(this.firstCompPosition),this.firstCompPosition=t),t}function d(e){e=e||{},this.originalCompPosition={},this.originalScrollPosition=0,this.firstCompPosition={},this.lastCompPosition={},this.lastCompPage="",this.centerOnFirstPaste=e.centerOnFirstPaste||!1,this.lastScrollPosition=null}return d.prototype.setPasteData=function(e,t,o){this.originalScrollPosition=o.scrollTop,this.originalCompPosition={x:e.x,y:e.y},this.firstCompPosition={x:e.x,y:e.y},this.lastCompPosition={x:e.x,y:e.y},this.lastCompPage=t},d.prototype.resetPastePosition=function(){this.firstCompPosition={},this.lastCompPosition={}},d.prototype.getPastePosition=function(o,i,a){var r=o.ui.scroll.getScroll();this.lastScrollPosition&&!e.isEqual(r,this.lastScrollPosition)&&this.resetPastePosition();var l=t.utils.stageUtils.getViewPort(!0),d=e.pick(i,["width","height"]),u={};return s.call(this,a),u=n.call(this)?c.call(this,o,l,d,a):p.call(this,l),this.lastCompPosition=u,this.lastCompPage=a,this.lastScrollPosition=r,e.clone(u)},d}),define("rEditor/pasteLogic/AddPanelPasteLogic",["rEditor/pasteLogic/ComponentPasteLogic"],function(e){function t(){e.call(this,{centerOnFirstPaste:!0}),this.lastCompTypeAdded=""}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.getPastePosition=function(t,o,n,i){return i!==this.lastCompTypeAdded&&this.resetPastePosition(),this.lastCompTypeAdded=i,e.prototype.getPastePosition.call(this,t,o,n)},t}),define("rEditor/pasteLogic/pasteLogicContext",["lodash","rEditor/pasteLogic/ComponentPasteLogic","rEditor/pasteLogic/AddPanelPasteLogic"],function(e,t,o){return{pasteContext:new t,duplicateContext:new t,addContext:new t({centerOnFirstPaste:!0}),addPanelPasteLogic:new o}}),define("rEditor/app/EditorAPI",["coreUtilsLib","lodash","jquery","core","baseUI","panels","util","tpa","shoutOut","wixStore","wixBookings","mediaServices","compPanels","rEditor/app/panelHelpers","rEditor/app/updateOperationsPlugins","rEditor/app/pluginsRegistrar","userPreferences","savePublish","gfppData","platform","rEditor/rootComps/gfpp/gfppModel","rEditor/app/APISections/concurrentUsersWrapper","rEditor/app/APISections/themeWrapper","rEditor/app/APISections/historyWrapper","rEditor/app/APISections/imageCrop","rEditor/app/APISections/siteWrapper","rEditor/app/APISections/domainWrapper","rEditor/app/APISections/developerMode","rEditor/app/APISections/selectedComponent","rEditor/app/APISections/savePublishWrapper","rEditor/app/APISections/componentsWrapper","rEditor/app/APISections/rulersAPI","rEditor/app/APISections/tabIndicationState","rEditor/app/APISections/feedback","rEditor/app/APISections/mainMenuWrapper","rEditor/app/APISections/menuWrapper","rEditor/app/APISections/multiselect","rEditor/app/APISections/leftBarAPI","rEditor/app/APISections/addPanelAPI","rEditor/app/APISections/topBarAPI","rEditor/app/APISections/selection","rEditor/app/APISections/databaseEditor","rEditor/app/APISections/welcomeScreensWrapper","rEditor/app/APISections/copyPasteWrapper","rEditor/app/APISections/wixStoresFlowAPI","rEditor/app/APISections/editorUI","rEditor/app/APISections/wixCode","rEditor/app/APISections/columns","rEditor/app/APISections/pagesWrapper","rEditor/app/APISections/layoutersWrapper","rEditor/app/APISections/platformWrapper","rEditor/app/APISections/pinModeWrapper","rEditor/app/APISections/promotionsWrapper","rEditor/app/APISections/togglePreviewWrapper","rEditor/app/APISections/account","rEditor/app/APISections/mobileEditor","rEditor/app/APISections/mouseActions","rEditor/app/pluginService","rEditor/app/updateThemePlugins","rEditor/app/tooltipTextService","rEditor/pasteLogic/pasteLogicContext","rEditor/utils/openPanelByURL","textControls","blog","editorEventRegistry","experiment","constants","rEditor/bi/bi","stateManagement","uiAnimations"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m,g,f,h,b,y,P,v,E,S,T,C,I,_,O,M,A,w,R,D,k,B,N,L,x,F,H,U,G,V,W,z,q,j,Y,K,X,Z,Q,J,$,ee,te,oe,ne,ie,ae,re,se,le,ce,pe,de,ue,me,ge){function fe(){return{topBarHeight:Se.TOPBAR_HEIGHT,previewHeight:null,previewWidth:null,languages:["latin"],extraSiteHeight:40}}function he(e,o){var n=t.pick(e,["top","left","height","width"]);return n.top+=o,n}function be(e){var t=r.url.parseUrl(window.document.location.href).query||"";se.openPanel(t,e)}function ye(e){var t=e.documentServices.generalInfo.getUserInfo().email;e.mediaServices.setIsEmailWithWixDomain(/@wix\.com$/.test(t)),e.mediaServices.setSiteMediaToken(e.documentServices.generalInfo.getSiteToken()),e.savePublish.registerFirstSaveCallback(function(){e.mediaServices.setSiteMediaToken(e.documentServices.generalInfo.getSiteToken())})}function Pe(se){function Pe(){de.isOpen("se_platform1")&&P.init(Ni,v.registerGfppActions,y.registerComponent,y.mergeComponentGfppData,ue.ROOT_COMPS.GFPP.ACTIONS)}function Oe(e){Ni.previewReady=!0,e&&(Be(e),Ni.bi.event=jo),Ni.onViewerChanged(),Fe(),Ni.components.onPreviewReady(),Ni.account.initMyAccountExperiments(),Re(),Ni.saveManager.setTimerForSaveReminder(),Ni.feedback.init(),Ni.documentServices.registerToSiteChanged(Ni.notifyViewerUpdate),Ni.autosaveManager.init(),Ni.documentServices.documentMode.enableAction("screenIn",!1),Ni.documentServices.documentMode.enableAction("viewportEnter",!1),Ni.documentServices.documentMode.enableAction("viewportLeave",!1),Ni.documentServices.documentMode.enableAction("modeChange",!1),Ni.documentServices.documentMode.enableAction("load",!1),Ni.documentServices.documentMode.enableAction("exit",!1),Ni.documentServices.documentMode.enableBgVideoAutoplay(!1),Ni.documentServices.generalInfo.isFirstSave()||Ni.leftBar.collapseMenu(),n.bi.registerEvents(Ni),Ne(),Ni.campaigns.fetchCampaignInfo(),Ni.documentServices.generalInfo.isFirstSave()&&Ni.initTemplateCharacterSet(),(de.isOpen("fontsUpload")||de.isOpen("fontsUploadAsync"))&&Ni.mediaServices.fontsManager.init(),Ni.promotions.initPromotions(),be(Ni),Ni.leftBar.sendBIButtonsCount(),r.fedopsLogger.create(),F.loadAndCreate(Ni,Me)}function Me(e){Ni.addPanel=e,ye(Ni);var t=Ni.editorEventRegistry.constants.events.PREVIEW_READY;s.onPreviewReady(Ni),c.onPreviewReady(Ni),l.onPreviewReady(Ni),p.onPreviewReady(Ni),ce.onPreviewReady(Ni),u.onPreviewReady(Ni),r.automationUtil.onPreviewReady(Ni),Ae(),Ni.editorEventRegistry.dispatch(t,Ni)}function Ae(){Ni.bi.event(n.bi.events.editor.Add_PANEL_LOADED,{})}function we(e){return t.includes(r.editorModel.metaSiteFlags,e)}function Re(){var e=Ni.documentServices.seo.title.get()||"",t=Ni.documentServices.seo.description.get()||"",o=Ni.documentServices.seo.keywords.get()||"",n=Ni.homePage.get(),i=Ni.documentServices.pages.data.get(n);i.pageTitleSEO=e,i.descriptionSEO=t,i.metaKeywordsSEO=o,Ni.pages.data.update(n,i)}function De(){var e=Ni.documentServices.theme.fonts.getCharacterSet();if(function(e){return t.isEqual(e,Ce)}(e)||function(e){return t.includes(e,"arabic")&&t.includes(e,"hebrew")}(e)){var o=Ni.documentServices.theme.fonts.getLanguageCharacterSet(Ni.getLanguageCode());if(o)Ni.documentServices.theme.fonts.updateCharacterSet(o);else{var n=Ni.documentServices.theme.fonts.getCharacterSetByGeo();Ni.documentServices.theme.fonts.updateCharacterSet(n)}}}function ke(e,o){t.defaultsDeep(e,o)}function Be(e){var t;t=de.isOpen("cachedDocumentServices")&&e.withCache?e.withCache():e,ke(Ni,t),Ni.documentServices=t,se.dispatch(ge.legacy.logic.loadDocumentServices(t))}function Ne(){f.register(Ni),ie.register(Ni)}function Le(){return r.languages.getLanguageCode()}function xe(){return t.clone(se.getState().viewTools)}function Fe(){function e(){Ni.userPreferencesInitCallbacksInvoked=!0,t.forEach(Ni.userPreferencesInitCallbacks,function(e){e()})}function o(t){i=i||t===n.constants.USER_PREFS.TYPES.GLOBAL,a=a||t===n.constants.USER_PREFS.TYPES.SITE,i&&(a||s)&&e()}var i,a,r=Ni.documentServices.generalInfo.getSiteId(),s=Ni.documentServices.generalInfo.isFirstSave();Ni.userPreferences.loadGlobalPreferences(t.partial(o,n.constants.USER_PREFS.TYPES.GLOBAL)),s||Ni.userPreferences.loadSitePreferences(r,!1,t.partial(o,n.constants.USER_PREFS.TYPES.SITE),t.partial(o,n.constants.USER_PREFS.TYPES.SITE))}function He(){Ni.newEditorWelcomeScreenWrapper.initWelcomeScreen(Ni)}function Ue(){var e=Ni.userPreferences.site.get(n.constants.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS);Ni.documentServices.documentMode.showHiddenComponents(e),Ni.documentServices.documentMode.showControllers(Ni.getViewTools().developerModeEnabled)}function Ge(){var e=n.constants.USER_PREFS.VIEW_TOOLS,o={showHiddenComponents:Ni.userPreferences.site.get(e.SHOW_HIDDEN_COMPS),developerModeEnabled:Ni.userPreferences.site.get(e.DEVELOPER_MODE_ENABLED),developerToolBarEnabled:Ni.userPreferences.site.get(e.DEVELOPER_TOOLBAR_ENABLED),guidelinesEnabled:Ni.userPreferences.site.get(e.GUIDELINES_ENABLED),sectionsHandlesEnabled:Ni.userPreferences.site.get(e.SECTIONS_HANDLES_ENABLED),snapToEnabled:Ni.userPreferences.site.get(e.SNAPTO_ENABLED),rulersEnabled:Ni.userPreferences.site.get(e.RULERS_ENABLED),rulers:{guidesState:Ni.userPreferences.site.get(e.GUIDES_STATE)}};t.defaults(o,Te),se.dispatch(ge.legacy.setState({viewTools:o})),Ni.rulers.resetRulersHistory()}function Ve(){var e=Ni.documentServices.theme.colors.getCustomUsedInSkins(),o=n.constants.USER_PREFS.THEME.COLORS.CUSTOM.USER_ADDED,i=Ni.userPreferences.session.get(o);i=t.intersection(i,e),Ni.userPreferences.session.set(o,i)}function We(e){var o=se.getState(),n=t.isUndefined(e)?o.hideTools&&!o.hideToolsAndMaintainStagePosition:e,i=Se.TOPBAR_HEIGHT;return n&&(i-=Se.OFFSET_TOP_WHEN_TOOLS_HIDDEN),Ni.isMobileEditor()&&(i+=Se.MOBILE_PREVIEW_TOP),i}function ze(){return t.defaults({previewHeight:Ni.documentServices.site.getHeight()},se.getState().config)}function qe(){return se.getState().navControlsSize}function je(){return se.getState().previewPosition}function Ye(){return se.getState().editBoxRotateKnobRect}function Ke(){return se.getState().editingAreaPosition}function Xe(){return se.getState().mobileFramePosition}function Ze(e){Ri=e,Ni.site.setScroll(e.scrollLeft,e.scrollTop)}function Qe(e){Ni.updateState({scrollTo:e})}function Je(e,t,o){Ni.updateState({animateScrollTo:{position:e,duration:t,onComplete:o}})}function $e(){Ni.updateState({scrollTo:null,animateScrollTo:null})}function et(){return Ri}function tt(){return se.getState().openPanels}function ot(){de.isOpen("layoutTractor")&&Ni.updateState({isLayoutTractorOpen:!0})}function nt(){Ni.updateState({isLayoutTractorOpen:!1})}function it(e){Ni.documentServices.waitForChangesApplied(function(){t.forEach(Ni.viewerUpdateCallbacks,function(t){t(e)})})}function at(e){t.assign(Ni.pendingStateChanges,e)}function rt(e){Ni.pendingEditorStateUpdateCallbacks.push(e)}function st(){return t.reduce(Ni.pendingEditorStateUpdateCallbacks,function(e,o){return t.assign(e,o())},Ni.pendingStateChanges)}function lt(){window.addEventListener("mousedown",Ni.preventEvent,!0),Ni.preventMouseDownTimeout=window.setTimeout(Ni.allowMouseDown,5e3)}function ct(){window.clearTimeout(Ni.preventMouseDownTimeout),window.removeEventListener("mousedown",Ni.preventEvent,!0)}function pt(e){e.stopPropagation(),e.preventDefault()}function dt(){var e=se.getState();e.editorIsInit||Ni.prepareDocumentForPreviewMode(!1);var o=ge.selection.selectors.selectSelectedCompsRefs(e),n=Ni.getPendingStateChanges();Ni.pendingStateChanges={},Ni.pendingEditorStateUpdateCallbacks=[];var i=t.filter(o,Ni.documentServices.components.is.rendered);i=t.isEmpty(i)?null:i,!t.isEqual(i,o)&&(Ni.mouseActions.turnOffMouseEvents(),Ni.pendingStateChanges.focusedContainer=null);var a=Ni.documentServices.viewMode&&Ni.documentServices.viewMode.get()===Ni.documentServices.viewMode.VIEW_MODES.MOBILE,r=t.defaults({config:ze(),previewPosition:t.defaults({top:We()},e.previewPosition),editorIsInit:!0,selectedComponents:i,isMobileEditor:a},n);se.dispatchImmediate(ge.legacy.setState(r)),Ni.shouldUpdateEditorScrollAfterHeightUpdate&&(Ni.applyPreviewScrollToEditorScroll(),Ni.shouldUpdateEditorScrollAfterHeightUpdate=!1)}function ut(e){Ni.userPreferencesInitCallbacks.push(e),Ni.userPreferencesInitCallbacksInvoked&&e()}function mt(){window.open(ve+"?referralInfo=EDITOR","_self")}function gt(){return Ni.userPreferences}function ft(e){return Ni.documentServices.tpa.isTpaByCompType(e)}function ht(e){Ni.viewerUpdateCallbacks.push(e)}function bt(e,t){Ni.removePlugins[e]=t}function yt(e,t){Ni.hidePlugins[e]=t}function Pt(e,t){Ni.duplicatePlugins[e]=t}function vt(e,t){Ni.cannotRemovePlugins[e]=t}function Et(e,t){Ni.copyComponentPlugins[e]=t}function St(e,t){Ni.addComponentPlugins[e]=t}function Tt(e,t){Ni.pasteComponentPlugins[e]=Ni.pasteComponentPlugins[e]||[],Ni.pasteComponentPlugins[e].push(t)}function Ct(e,t){Ni.cutComponentPlugins[e]=t}function It(e,t){Ni.serializeComponentPlugins[e]=Ni.serializeComponentPlugins[e]||[],Ni.serializeComponentPlugins[e].push(t)}function _t(e){Ni.pageNavigationCallbacks.push(e)}function Ot(e,t){Ni.compNamePlugins[e]=t}function Mt(e,t){Ni.compIconPlugins[e]=t}function At(e){Ni.sitePublishedCallbacks.push(e)}function wt(e){Ni.deviceTypeChangeCallbacks.push(e)}function Rt(){if(!Ni.getPreviewMode()){var e=Ni.site.getScroll();Qe({scrollLeft:e.x,scrollTop:e.y})}}function Dt(e){Ni.renderPlugins.allowSiteOverflow(e),Ni.renderPlugins.setExtraSiteHeight(e||Ni.isMobileEditor()?0:Ni.editorConfig.extraSiteHeight),Ni.renderPlugins.setPreviewTooltipCallback(function(e,t){var o=he(e,Ni.getPreviewPosition().top);Ni.showFloatingBubble(t,o),Ie=window.setTimeout(Ni.hideFloatingBubble,n.constants.PREVIEW.FLOATING_BUBBLE_TIMEOUT)}),Ni.renderPlugins.setErrorPagesPopUp(function(e){Ni.preview.isInPreviewMode&&Ni.panelManager.openPanel("panels.errorPages.errorPagePanel",{editorAPI:Ni,errorInfo:e,routerAddress:e.routerUrl})})}function kt(e){Ni.documentServices.components.modes.resetAllActiveModes(),Ni.documentServices.documentMode.enablePlaying(e),Ni.documentServices.documentMode.enableZoom(e),Ni.documentServices.documentMode.enableSocialInteraction(!1),Ni.documentServices.documentMode.enableExternalNavigation(!1),Ni.documentServices.documentMode.enableSlideShowGalleryClick(e),Ni.documentServices.documentMode.enableTinyMenuOpening(e),Ni.documentServices.documentMode.enableRenderFixedPositionContainers(e),Ni.documentServices.documentMode.enableRenderFixedPositionBackgrounds(e),Ni.documentServices.documentMode.enableBackToTopButton(e),Ni.documentServices.documentMode.enablePageProtection(!1),Ni.documentServices.documentMode.toggleWixAds(e),Ni.documentServices.documentMode.enableBgVideoAutoplay(e&&Ni.isDesktopEditor()),Ni.documentServices.documentMode.enableSiteMembersDialogsOpening(e),Ni.documentServices.documentMode.enableResetGalleryToOriginalState(e),Ni.documentServices.documentMode.enableResetComponent(!e),Ni.documentServices.documentMode.resetBehaviors(e),Ni.documentServices.documentMode.enableAction("screenIn",e&&Ni.isDesktopEditor()),Ni.documentServices.documentMode.enableAction("viewportEnter",e),Ni.documentServices.documentMode.enableAction("viewportLeave",e),Ni.documentServices.documentMode.enableAction("load",e),Ni.documentServices.documentMode.enableAction("modeChange",e&&Ni.isDesktopEditor()),Ni.documentServices.documentMode.enableAction("exit",e&&Ni.isDesktopEditor()),Ni.documentServices.documentMode.enableAction("bgScrub",e&&Ni.isDesktopEditor()),Ni.documentServices.documentMode.setExtraSiteHeight(e||Ni.isMobileEditor()?0:Ni.editorConfig.extraSiteHeight),Ni.documentServices.documentMode.enableShouldUpdateJsonFromMeasureMap(!e),Ni.documentServices.documentMode.allowSiteOverflow(e),e||(Ni.documentServices.pages.animations.stopAll(),Ni.documentServices.documentMode.runtime.reset()),Ni.documentServices.documentMode.setComponentViewMode(e?"preview":"editor"),Ni.documentServices.documentMode.allowWixCodeInitialization(e),Ni.documentServices.documentMode.showHiddenComponents(e?!e:Ni.getViewTools().showHiddenComponents),Ni.documentServices.documentMode.showControllers(e?!e:Ni.getViewTools().developerModeEnabled)}function Bt(){return se.getState().previewMode}function Nt(){var e=Ni.pages.getCurrentPageId();return Ni.documentServices.pages.isLandingPage(e)}function Lt(){return!Ni.isMobileEditor()}function xt(){return se.getState().isMobileEditor}function Ft(){return Ni.isMobileEditor()?"mobile":"desktop"}function Ht(e){return Ni.components.is.resizeOnlyProportionally(e)}function Ut(){Ni.userPreferences.site.get(n.constants.USER_PREFS.CANT_MAKE_CHANGES.MOBILE_CANT_MAKE_CHANGE_DONT_SHOW_AGAIN)||Ni.panelManager.openPanel("mobileEditor.panels.cantMakeChangeMobile",{},!0)}function Gt(){Ni.setEditorMode(!1)}function Vt(){i.tooltipManager.hide(ue.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE),Ni.userPreferences.site.set(n.constants.USER_PREFS.MOBILE_EDITOR.CHECK_YOUR_MOBILE.DONT_SHOW_AGAIN,!0),Ni.setEditorMode(!0)}function Wt(e,o){if(e!==Ni.isMobileEditor()){t.invokeMap(Ni.deviceTypeChangeCallbacks,t.call),e||Ni.updateState({isMobileEditor:!1,mobileFramePosition:null});var i=e?Ni.documentServices.viewMode.VIEW_MODES.MOBILE:Ni.documentServices.viewMode.VIEW_MODES.DESKTOP;Ni.developerMode.getContext().type===n.constants.DEVELOPER_MODE.CONTEXT_TYPES.PAGE&&Ni.panelManager.closeAllPanels(),Ni.selection.deselectComponents(),Ni.documentServices.viewMode.set(i),Ni.documentServices.waitForChangesApplied(function(){var t=Ni.getPreviewMode()&&!e;Ni.documentServices.documentMode.enableAction("screenIn",t),Ni.documentServices.documentMode.enableAction("load",Ni.getPreviewMode()),Ni.documentServices.documentMode.enableAction("viewportEnter",Ni.getPreviewMode()),Ni.documentServices.documentMode.enableAction("viewportLeave",Ni.getPreviewMode()),Ni.documentServices.documentMode.enableAction("modeChange",t),Ni.documentServices.documentMode.enableAction("exit",t),Ni.documentServices.documentMode.enableAction("bgScrub",t),Ni.documentServices.documentMode.enableAction("pageTransition",t),Ni.documentServices.documentMode.enableBgVideoAutoplay(t),e&&(Ni.mobile.updateLeftBarNotificationsCount(),Ni.panelHelpers.openMobileEditorFirstTimePanelIfNeeded())}),Ni.setRenderPlugins(Ni.getPreviewMode(),e),!o&&e&&Ni.documentServices.history.canUndo()&&Ni.history.add("mobile structure was updated"),Ni.documentServices.documentMode.setExtraSiteHeight(se.getState().previewMode||e?0:Ni.editorConfig.extraSiteHeight),Ni.documentServices.documentMode.resetBehaviors(Ni.getPreviewMode()),Ni.rulers.resetRulersHistory(),e||Ni.documentServices.components.modes.resetAllActiveModes()}}function zt(){return!!Ni.documentServices&&Ni.documentServices.mobile.isOptimized()}function qt(e){Ni.documentServices&&Ni.documentServices.mobile.enableOptimizedView(e)}function jt(e){if(!Ni.components.is.groupedComponent(e)){Ni.selection.deselectComponents();var t=Ni.components.groupComponents(e);Ni.closeCompPanelIfExists(),Ni.history.add("group components"),Ni.documentServices.waitForChangesApplied(function(){Ni.selection.selectComponentByCompRef(t)})}}function Yt(){return se.getState().leftBar.buttonsBoundingRect}function Kt(e,t,o,n){Ai({contextMenu:{editorMousePosition:{x:e,y:t},viewerPosition:{x:o,y:n}}})}function Xt(e){de.isMultiValueExperimentOpen("editorHintsConfigs")&&Ni.rightClickMenuCloseOnOuterClickDisabled||Ai({contextMenu:null},e)}function Zt(){Ni.rightClickMenuCloseOnOuterClickDisabled=!0}function Qt(){Ni.rightClickMenuCloseOnOuterClickDisabled=!1}function Jt(){Ni.panelManager.getPanelsOfType("compPanelFrame").length&&Ni.panelManager.closeAllPanelsOfType("compPanelFrame")}function $t(e){var t=Ni.selection.getSelectedComponentType(e);(Ni.userPreferences.site.get("firstTimePanelsNotToShow")||{})[t]||Ni.isMobileEditor()||Ni.panelManager.openFirstTimePanel(t)}function eo(e){var t;return t=Ni.components.isShowOnAllPages(e)?Ni.documentServices.pages.getReference(Ni.documentServices.pages.getPrimaryPageId()):Ni.documentServices.siteSegments.getSiteStructure(),Ni.components.setContainer(e,t)}function to(e){return!e||se.getState().isOpenTextEditor||Ni.pinMode.isOpened()?{horizontallyMovable:!1,verticallyMovable:!1}:Ni.components.getRestrictions(e,["horizontallyMovable","verticallyMovable"])}function oo(e){var o=Ni.getCompDragRestrictions(e);return e&&t.assign(o,{canMoveForward:Ni.components.arrangement.canMoveForward(e),canMoveBackward:Ni.components.arrangement.canMoveBackward(e)}),o}function no(e){var o=Ni.getCompMoveRestrictions(e);if(e){var n=Ni.components.layout.isPinned(e),i=se.getState().isOpenTextEditor,a=["container","containable","movable","alignable","canMoveUp","resizable","disabledKnobs","duplicatable","fixed","showLegacyFixedPosition","anchorableFrom","anchorableTo"];n||a.push("horizontallyResizable","verticallyResizable","rotatable","duplicatable"),i||a.push("removable"),t.assign(o,Ni.components.getRestrictions(e,a)),n&&(o.horizontallyResizable=!1,o.verticallyResizable=!1,o.rotatable=!1,o.duplicatable=!1),i&&(o.removable=!1),t.assign(o,{resizeableSides:Ni.components.layout.getResizableSides(e),canBeFixed:Ni.components.layout.canBeFixedPosition(e),resizeOnlyProportionally:Ni.resizeOnlyProportionally(e),canToggleShowOnAllPages:Ni.components.canToggleShowOnAllPages(e),canResizeWithAnchors:Ni.components.layout.getResizableWithAnchors(e),canResizeDiagonally:Ni.components.layout.getResizableDiagonally(e)})}return o}function io(e){return Ni.components.getType(e).split(".").pop()}function ao(e,t){Ni.pages.navigateTo(e,function(){Ni.openPagesPanel(t)})}function ro(e,o){o=o||{};var n=ge.selection.selectors.selectSelectedCompsRefs(se.getState()),i=Ni.getComponentType(t.get(o,"selectedComponent",n)),a=Ni.getPanelPathByType(i,e);Ni.panelManager.openComponentPanel(a,o)}function so(e,t){t=t||{};var o=Ni.getComponentType(ge.selection.selectors.selectSelectedCompsRefs(se.getState())),n=Ni.getPanelPathByType(o,e);Ni.panelManager.replaceComponentPanel(n,t)}function lo(e){var t=Ni.utils.findAncestorMatchesCondition(e,Ni.components.is.showMarginsIndicator);if(t&&Ni.components.layout.isCompExceedingContainerMargin(e,t)){Ni.panelHelpers.openCompOutOfGridPanel({},!0),Ni.bi.event(n.bi.events.columns.COLUMNS_ELEMENTS_PLACED_IN_DEAD_SPOT)}else!t&&Ni.components.layout.isCompOutOfPageBounds(e)&&Ni.panelHelpers.openCompOutOfGridPanel()}function co(e,o){var i="compPanels.panels."+e+"."+o;return t.get(u,["panels",e,o])||(Ni.isTpa(e)?o===n.constants.componentPanels.settings&&(i="tpa.compPanels.tpaSettings"):o===n.constants.componentPanels.animation?i="compPanels.dynamicPanels."+n.constants.componentPanels.animation:o===n.constants.componentPanels.stretching?i="compPanels.dynamicPanels."+n.constants.componentPanels.stretching:o===n.constants.componentPanels.filters?i="compPanels.dynamicPanels."+n.constants.componentPanels.filters:o===n.constants.componentPanels.effects?i="compPanels.dynamicPanels."+n.constants.componentPanels.effects:o===n.constants.componentPanels.apply?i="compPanels.dynamicPanels."+n.constants.componentPanels.apply:o===n.constants.componentPanels.design?i="designPanel."+n.constants.componentPanels.design:o===n.constants.componentPanels.customizeDesign&&(i="advancedStylePanel."+n.constants.componentPanels.customizeDesign)),i}function po(t){t&&"string"==typeof t&&e.log.info("opening learn more with key - ",t)}function uo(){return Ni.previewReady}function mo(e,o){var n=t.cloneDeep(se.getState().portalComps);t.isEmpty(o)?delete n[e]:n[e]=o,Ai({portalComps:n})}function go(e){return Ni.documentServices.tpa.isTpaByCompType(Ni.components.getType(e))}function fo(e,t){t?Ai({attachCandidate:e}):Ni.setStateWaitForViewer({attachCandidate:e})}function ho(e){Ni.setStateWaitForViewer({constraintArea:e})}function bo(e,o){var n=t.clone(se.getState().pageSections);t.assign(n,{sections:e,selectedSection:o}),Ni.updateState({pageSections:n})}function yo(){Ni.setPageSections(null,null)}function Po(e,t){e!==se.getState().siteScale&&Ni.updateState({siteScale:e}),Ni.documentServices.site.setScrollAndScale(0,t,e,Ee),Ni.ui.scroll.animateScroll({x:0,y:t},Ee)}function vo(){return!!Ni.clipboard.getItem(n.constants.EDITOR_CLIPBOARD_TYPES.COMPONENT)}function Eo(e,o){var n=e;t.isString(e)&&((n={})[e]=o);var i=t.defaults(n,Ni.getViewTools());Ni.updateState({viewTools:i})}function So(){Ni.panelManager.openPanel("rEditor.panels.editorVersionInfoPanel")}function To(e,o,n,i){Ni.updateState({floatingBubble:t.assign({},se.getState().floatingBubble,{value:e,targetLayout:o,bubbleProps:n,shouldNotHideOnMouseLeaveTarget:i})})}function Co(){var e={value:null,targetLayout:null,bubbleProps:{},shouldNotHideOnMouseLeaveTarget:!1};t.isEqual(se.getState().floatingBubble,e)||Ni.updateState({floatingBubble:e}),window.clearTimeout(Ie)}function Io(e){Ni.updateState({pinPreviewRectStyle:e})}function _o(){var e=se.getState().pinPreviewRectStyle;t.assign(e,{opacity:0}),Ni.updateState({pinPreviewRectStyle:e})}function Oo(){return se.getState().siteScale}function Mo(e){se.getState().registeredMouseMoveAction&&Ni.mouseActions.onMouseUp(e)}function Ao(){var e=window.document.body.clientHeight>window.innerHeight;return!e||e&&window.document.body.clientWidth===window.innerWidth}function wo(){Ni.toggleEditorStateParam("hasDatabaseCollections",!0)}function Ro(e,t){var o={};o[e]=void 0===t?!se.getState()[e]:t,Ni.updateState(o)}function Do(){return se.getState().viewTools.sectionsHandlesEnabled}function ko(e,t){var o=!Ni.sectionsHandles.areSectionsHandlesEnabled();Ni.updateEditorViewTools("sectionsHandlesEnabled",o),Ni.userPreferences.site.set(n.constants.USER_PREFS.VIEW_TOOLS.SECTIONS_HANDLES_ENABLED,o,e,t)}function Bo(){i.tooltipManager.hide(ue.ROOT_COMPS.TOOLTIPS.FIRST_TIME_EXIT_POPUP_MODE),Ni.setSiteScale(.5,0),Ni.documentServices.documentMode.allowShowingFixedComponents(!1),r.keyboardShortcuts.setContext(r.keyboardShortcuts.CONTEXTS.ZOOM_MODE)}function No(){Ni.setSiteScale(1,0),Ni.documentServices.documentMode.allowShowingFixedComponents(!0),r.keyboardShortcuts.setContext(r.keyboardShortcuts.CONTEXTS.EDITOR)}function Lo(){return 1!==se.getState().siteScale}function xo(e,t){t?Ni.updateState({snapData:e}):Ni.setStateWaitForViewer({snapData:e})}function Fo(e){e?Ni.updateState({snapData:null}):Ni.setStateWaitForViewer({snapData:null})}function Ho(e){Ni.updateState({lassoCandidates:e})}function Uo(e){Ni.updateState({lassoLayout:e})}function Go(){Ni.updateState({lassoLayout:null,lassoCandidates:[]})}function Vo(){return se.getState().focusedContainer}function Wo(e,o){var n=t.cloneDeep(se.getState().clipboard);n[e]=o,Ni.updateState({clipboard:n})}function zo(e){return se.getState().clipboard[e]}function qo(e){Ni.panelManager.openPanel("rEditor.panels.applyStylePanel",{selectedComp:e,editorAPI:Ni})}function jo(e,t){se.dispatch(ge.bi.event(e,t))}function Yo(e){return t.map([].concat(e),function(e){var o={};if(e){o.component_id=e.id;var n=Ni.components.getType(e);o.component_type=n,n&&Ni.isTpa(n)&&t.assign(o,Ni.bi.getTpaComponentBIParams(e))}return o})}function Ko(e){var o={};if(!t.isEmpty(e)&&ft(Ni.components.getType(e))){var n=Ni.components.data.get(e)||{},i=Ni.documentServices.tpa.app.getData(n.applicationId);o.app_id=i.appDefinitionId+"",o.app_site_id=i.instanceId+"",o.instance_id=e.id+"",o.widget_id=n.widgetId+"";var a="TPAWidget"===n.type,r=Ni.documentServices.tpa.app.isLastAppComp(n.applicationId)||!(a||Ni.documentServices.tpa.app.isMultiSectionInstalled(n.applicationId));o.is_last_tpa=r?1:0}return o}function Xo(e,o,n){!n||t.isFunction(n)&&n()?t.forEach(o,t.bind(function(o){var n=t.isFunction(o)?o():o;n.is_last=n.is_last||n===Ni,Ni.bi.event(e,n)},o[o.length-1])):t.isFunction(n)&&Ni.biConditionedEventsQueue.push({event:e,biParamArray:o,condition:n})}function Zo(){if(!t.isEmpty(Ni.biConditionedEventsQueue)){var e=t.remove(Ni.biConditionedEventsQueue,function(e){return t.isFunction(e.condition)&&e.condition()});t.forEach(e,function(e){Ni.bi.reportBI(e.event,e.biParamArray)})}}function Qo(){if(Ni._currentTextManager&&(CKEDITOR&&!CKEDITOR.wixDocumentServices&&(CKEDITOR.wixDocumentServices=Ni),!se.getState().isOpenTextEditor)){var e=Ni.selection.getSelectedComponents();Ni._textCompForEdit=t.head(e),le.migrationUtils.isOldTextComponent(Ni._textCompForEdit,Ni)?(Ni.documentServices.bi.error(n.bi.errors.OLD_TEXT_MIGRATION),le.migrationUtils.migrateComponent(Ni._textCompForEdit,Ni),Ni.documentServices.waitForChangesApplied(function(){Ni.updateState({isOpenTextEditor:!0})})):Ni.updateState({isOpenTextEditor:!0})}}function Jo(){se.getState().isOpenTextEditor&&Ni.updateState({isOpenTextEditor:!1})}function $o(e){Ni._currentTextManager=e}function en(){return!!se.getState().isOpenTextEditor}function tn(){Ni._currentTextManager.undo()}function on(){return Ni._currentTextManager.hasUndo}function nn(){Ni._currentTextManager.redo()}function an(){return Ni._currentTextManager.hasRedo}function rn(t,o,n,i){e.log.error("editorAPI.help.openHelpCenter is deprecated. Use panelManager.openHelpCenter instead"),Ni.panelManager.openHelpCenter(t,n,i)}function sn(e,o){var n=Ni.components.asArray(e),i=Ni.components.asArray(o);if(Ni.multiselect.isMultiselect(n)||Ni.multiselect.isMultiselect(i)){if(n.length!==i.length)return!1;var a=t.sortBy(n,"id"),r=t.sortBy(i,"id");return t.every(a,function(e,t){return Ni.documentServices.utils.isSameRef(e,r[t])})}return Ni.documentServices.utils.isSameRef(t.head(n),t.head(i))}function ln(e){var t=Ni.components.asArray(e);return!Ni.multiselect.isMultiselect(t)&&Ni.documentServices.utils.isPage(t[0])}function cn(e){return Ni.components.is.selectable(e)?null:Ni.components.getContainer(e)}function pn(e,t){if(!e)return null;for(var o=Ni.components.getContainer(e);o&&!t(o,e);)o=Ni.components.getContainer(o);return o}function dn(e){var t=Ni.documentServices.siteName.validate(e),o={};return o[Ni.documentServices.siteName.ERRORS.SITE_NAME_IS_EMPTY]="SAVE_SITE_NAME_IS_EMPTY",o[Ni.documentServices.siteName.ERRORS.SITE_NAME_IS_NOT_STRING]="SITE_NAME_IS_NOT_STRING",o[Ni.documentServices.siteName.ERRORS.SITE_NAME_INVALID_CHARS]="SAVE_SITE_NAME_INVALID_CHARS",o[Ni.documentServices.siteName.ERRORS.SITE_NAME_ENDS_WITH_HYPHEN]="SAVE_SITE_NAME_ENDS_WITH_HYPHEN",o[Ni.documentServices.siteName.ERRORS.SITE_NAME_TOO_SHORT]="SAVE_SITE_NAME_TOO_SHORT",o[Ni.documentServices.siteName.ERRORS.SITE_NAME_TOO_LONG]="SAVE_SITE_NAME_TOO_LONG",o[Ni.documentServices.siteName.ERRORS.SITE_NAME_ALREADY_EXISTS]="SAVE_SITE_NAME_ALREADY_EXISTS",t.errorMessage=o[t.errorCode],t}function un(e){Ni.documentServices.siteName.set(e),Ni.domain.isDomainConnected()||Ni.documentServices.generalInfo.setPublicUrl(Ni.domain.getFreeDomainPrefix()+e)}function mn(e){return Ni.documentServices.siteName.sanitize(e)}function gn(e,t,n){var i=r.serviceTopology.editorServerRoot||"//editor.wix.com/html/editor/web";i+="/meta-site-proxy/rename/"+Ni.documentServices.generalInfo.getMetaSiteId(),o.ajax(i,{type:"POST",data:{newName:e},success:function(o){o.success?(Ni.documentServices.siteName.set(e),Ni.domain.isDomainConnected()||Ni.documentServices.generalInfo.setPublicUrl(Ni.domain.getFreeDomainPrefix()+e),t&&t()):n(o)},error:function(){n&&n()}})}function fn(){return se.getState().viewTools.toolbarEnabled}function hn(){Ni.updateEditorViewTools("toolbarEnabled",!Ni.toolbar.isToolbarEnabled())}function bn(){return se.getState().viewTools.developerToolBarEnabled}function yn(){var e=!Ni.developerToolBar.isEnabled(),t=e?"open":"close";Ni.bi.event(me.events.PROPERTIES_PANEL_TOGGLE,{site_id:Ni.documentServices.generalInfo.getSiteId(),state:t}),Ni.updateEditorViewTools("developerToolBarEnabled",e),Ni.userPreferences.site.set(n.constants.USER_PREFS.VIEW_TOOLS.DEVELOPER_TOOLBAR_ENABLED,e)}function Pn(){return se.getState().viewTools.platformToolBarEnabled}function vn(){var e=!Ni.platformToolBar.isEnabled();Ni.updateEditorViewTools("platformToolBarEnabled",e)}function En(e){var t=!Ni.platformToolBar.isEnabled();Ni.updateEditorViewTools("platformToolBarEnabled",t),Ni.updateState({platformToolBarPanelProps:e})}function Sn(){return se.getState().viewTools.showHiddenComponents}function Tn(){var e=!Ni.developerHiddenComponents.isEnabled();Ni.updateEditorViewTools("showHiddenComponents",e),Ni.documentServices.documentMode.showHiddenComponents(e),Ni.userPreferences.site.set(n.constants.USER_PREFS.VIEW_TOOLS.SHOW_HIDDEN_COMPS,e)}function Cn(){return se.getState().viewTools.guidelinesEnabled}function In(e,t){var o=!Ni.grid.guidelines.isGuidelinesEnabled();Ni.updateEditorViewTools("guidelinesEnabled",o),Ni.userPreferences.site.set(n.constants.USER_PREFS.VIEW_TOOLS.GUIDELINES_ENABLED,o,e,t)}function _n(){return se.getState().viewTools.snapToEnabled}function On(e,t){var o=!Ni.grid.snapTo.isSnapToEnabled();Ni.updateEditorViewTools("snapToEnabled",o),Ni.userPreferences.site.set(n.constants.USER_PREFS.VIEW_TOOLS.SNAPTO_ENABLED,o,e,t)}function Mn(){var e=Ni.documentServices.siteSegments;return[e.getFooter(),e.getHeader(),e.getPagesContainer(),e.getSiteStructure()]}function An(){var e=Ni.documentServices.siteSegments.getPagesContainer();return Ni.components.layout.getRelativeToScreen(e)}function wn(){return Ni.documentServices.homePage.get()}function Rn(e){Ni.documentServices.homePage.set(e),g.setHomePagePlugins.run(Ni,e)}function Dn(){if(de.isOpen("se_useDealerAsCampaignEndpoint")){var e=r.serviceTopology.dealerUrl+"/salesSystemResolver";o.getJSON(e,function(e,t){"success"===t&&e&&(Ni.campaignInfo={id:e.payload.campaignId,type:e.payload.type})})}else{var t=r.serviceTopology.salesSystemResolverUrl;o.getJSON(t,function(e,t){"success"===t&&e&&(Ni.campaignInfo={id:e.data.campaignId,type:e.data.type})})}}function kn(){return Ni.campaignInfo}function Bn(e){return!!Ni.campaigns.getActiveCampaignInfo()&&t.includes(Ni.campaigns.getActiveCampaignInfo().id,e.id)}function Nn(e){var o=Ni.campaigns.getActiveCampaignInfo().id.split("_");return 1===o.length?e.defaultDiscount:t.last(o)}function Ln(){return Ni.campaigns.isActiveCampaign(n.constants.CAMPAIGNS.PERSONAL_SALE)||Ni.campaigns.isActiveCampaign(n.constants.CAMPAIGNS.SEASONAL_CAMPAIGN)}function xn(){return Ni.campaigns.getDiscountValue(n.constants.CAMPAIGNS.PERSONAL_SALE)}function Fn(){return n.constants.CAMPAIGNS.PERSONAL_SALE.assetPath}function Hn(){var e=ue.EDITOR_API.BLOCKING_LAYER_STYLE;Ni.renderPlugins.setCompsToShowOnTop(t.map(Ni.selection.getSelectedComponents(),"id")),Ni.renderPlugins.setBlockingLayer(e)}function Un(){Ni.renderPlugins.setCompsToShowOnTop(null),Ni.renderPlugins.setBlockingLayer(null)}function Gn(){var e=ue.EDITOR_API.BLOCKING_LAYER_STYLE;Ni.renderPlugins.setCompsToShowOnTop(t.map(Ni.selection.getSelectedComponents(),"id")),Ni.renderPlugins.setBlockingPopupLayer(e)}function Vn(){Ni.renderPlugins.setCompsToShowOnTop(null),Ni.renderPlugins.setBlockingPopupLayer(null)}function Wn(){Ni.updateState({pinnedCompType:Ni.selection.getSelectedComponentType(),contextMenu:null})}function zn(){Ni.updateState({pinnedCompType:!1})}function qn(e){Ni.toggleEditorStateParam("halfOpacityTools",e)}function jn(e){Ni.toggleEditorStateParam("shouldHideToolsBtnBlink",e)}function Yn(e,o){o=o||se.getState().hideToolsAndMaintainStagePosition;var n=void 0===e?!se.getState().hideTools:e,i=tt();Ni.hideFloatingBubble();var a=o?se.getState().previewPosition:t.defaults({top:We(n)},se.getState().previewPosition);return Ni.updateState({hideToolsAndMaintainStagePosition:n?o:n,hideTools:n,previewPosition:a,halfOpacityTools:!1,shouldHideToolsBtnBlink:!1}),n&&t(i).reject({frameType:ue.PANEL_TYPES.COMP}).reject({name:"panels.toolPanels.linkPanel"}).forEach(function(e){Ni.panelManager.closePanelByName(e.name)}),n}function Kn(){return se.getState().hideToolsAndMaintainStagePosition}function Xn(){return se.getState().hideTools}function Zn(){return se.getState().halfOpacityTools}function Qn(e,t){ce.installApp(Ni,e||"MediaLeftPage",t)}function Jn(){return _e}function $n(e){_e=e}function ei(e,t){var o={x:e,y:t};Ni.cursor.set(o)}function ti(){Ni.updateState({shouldOverlayUpdate:!1})}function oi(){Ni.updateState({shouldOverlayUpdate:!0})}function ni(){return se.getState().shouldOverlayUpdate}function ii(){Ni.updateState({isTooltipsDisabled:!0})}function ai(){Ni.updateState({isTooltipsDisabled:!1})}function ri(e,t){Ni.pluginService.registerPlugin("mouseMoveStartPlugin","*",e),Ni.pluginService.registerPlugin("mouseMoveEndPlugin","*",t)}function si(e){var o=de.isOpen("newTopBar")?{openDropDown:ci,closeDropDown:pi,getOpenedDropDown:li,disableDropDown:ui.bind(this,!1),enableDropDown:ui.bind(this,!0),enableClose:mi.bind(this,!0),shouldBeVisible:t.noop}:e;t.assign(Ni.topBarMenuBar,o)}function li(){return se.getState().topBar.openedDropPanel}function ci(e,o){var n=se.getState().topBar;n.dropPanelDisabled||Ai({topBar:t.assign({},n,{openedDropPanel:e,shouldDropPanelRemainOpen:o&&de.isMultiValueExperimentOpen("editorHintsConfigs")})})}function pi(e){if(!de.isMultiValueExperimentOpen("editorHintsConfigs")&&!se.getState().topBar.shouldDropPanelRemainOpen){var t=se.getState().topBar.openedDropPanel;e&&e!==t||ci(null)}}function di(e,o){if(de.isMultiValueExperimentOpen("editorHintsConfigs")){var n=se.getState().topBar,i={};i[e]=t.isUndefined(o)?!n[e]:!o,Ai({topBar:t.assign({},n,i)})}}function ui(e){di("dropPanelDisabled",e)}function mi(e){di("shouldDropPanelRemainOpen",e)}function gi(e,t){Ni.pluginService.registerPlugin("topBarMenuBarDropDownOpen","*",e),Ni.pluginService.registerPlugin("topBarMenuBarDropDownClose","*",t)}function fi(e){var o=Ni.pluginService.getPlugin("topBarMenuBarDropDownOpen","*");o&&t.isFunction(o)&&o(e)}function hi(e){var o=Ni.pluginService.getPlugin("topBarMenuBarDropDownClose","*");o&&t.isFunction(o)&&o(e)}function bi(e){Ai({topBarPagesFilter:e})}function yi(){return se.getState().topBarPagesFilter}function Pi(){return se.getState().editorIsInit}function vi(){return Ni.panelHelpers.openPagesPanel.apply(this,arguments)}function Ei(){return Ni.panelHelpers.openLinkPanel.apply(this,arguments)}function Si(){return Boolean(Ni.isPreviewReady()&&Ni.documentServices.pages.popupPages.getCurrentPopupId())}function Ti(e){Ni.bi.event(n.bi.events.addPanel.ADD_MENU_DRAG_COMPONENT,e)}function Ci(){Ni.scrollListeners=[]}function Ii(e){t.invokeMap(Ni.scrollListeners,t.call,null,e)}function _i(e){Ni.scrollListeners.push(e)}function Oi(e){Ni.scrollListeners=t.without(Ni.scrollListeners,e)}function Mi(){var e=se.getState().eventCounters,o=t.assign(e,{focus:e.focus+1});se.dispatch(ge.legacy.setState({eventCounters:o}))}function Ai(e,o){t.isFunction(o)&&(null===t.last(ki)&&(ki=[],Bi=-1),ki.push(o));var n=t.defaults({__renderCounter:ki.length},e);se.dispatch(ge.legacy.setState(n))}function wi(e){var o;for(o=Bi+1;o<e;o++)Bi++,t.isFunction(ki[o])&&ki[o](),ki[o]=null}var Ri={scrollTop:0,scrollLeft:0},Di=t.curry(function(e,o){if(!t.isUndefined(o)&&!t.isEqual(o,se.getState()[e])){var n={};n[e]=o,se.dispatch(ge.legacy.setState(n))}}),ki=[],Bi=-1,Ni={onPreviewReady:Oe,onRenderDone:wi,updateState:Ai,isMetaSiteFlagOpen:we,synchronizeSiteSEOToMainPageSEO:Re,initTemplateCharacterSet:De,setDocumentServices:Be,initPlugins:Ne,getLanguageCode:Le,getViewTools:xe,updateUserPreferencesOnPreviewReady:Fe,initWelcomeScreen:He,initDevModeValues:Ue,initViewToolsFromUserPrefs:Ge,initUserAddedColors:Ve,refreshNavControlsSize:Di("navControlsSize"),refreshPreviewPosition:Di("previewPosition"),refreshEditingAreaPosition:Di("editingAreaPosition"),refreshMobileFramePosition:Di("mobileFramePosition"),setEditBoxRotateKnobRect:Di("editBoxRotateKnobRect"),getOpenPanels:tt,openLayoutTractor:ot,closeLayoutTractor:nt,notifyViewerUpdate:it,setStateWaitForViewer:at,setStateUpdateCallback:rt,getPendingStateChanges:st,preventMouseDown:lt,allowMouseDown:ct,preventEvent:pt,onViewerChanged:dt,registerInitUserPrefsCallback:ut,exitEditor:mt,getUserPreferences:gt,isTpa:ft,registerToViewerChange:ht,registerRemovePlugin:bt,registerHidePlugin:yt,registerDuplicatePlugin:Pt,registerCannotRemovePlugin:vt,registerCopyComponentPlugin:Et,registerAddComponentPlugin:St,registerPasteComponentPlugin:Tt,registerSerializeComponentPlugin:It,registerCutComponentPlugin:Ct,registerPageNavigationCallback:_t,registerCompNamePlugin:Ot,registerCompIconPlugin:Mt,registerSitePublishedCallbacks:At,registerDeviceTypeChangeCallbacks:wt,applyPreviewScrollToEditorScroll:Rt,setRenderPlugins:Dt,prepareDocumentForPreviewMode:kt,getPreviewPosition:je,getNavControlsSize:qe,getEditBoxRotateKnobRect:Ye,getEditingAreaPosition:Ke,getMobileFramePosition:Xe,getPreviewMode:Bt,isCurrentPageLandingPage:Nt,isDesktopEditor:Lt,isMobileEditor:xt,getDeviceType:Ft,resizeOnlyProportionally:Ht,openCantCopyPastePanel:Ut,setDesktopEditor:Gt,setMobileEditor:Vt,setEditorMode:Wt,isMobileOptimizedSite:zt,setMobileOptimizedSite:qt,groupComponents:jt,getLeftBarButtonsBoundingRect:Yt,openRightClickMenu:Kt,closeRightClickMenu:Xt,disableRightClickMenuCloseOnOuterClick:Zt,enableRightClickMenuCloseOnOuterClick:Qt,closeCompPanelIfExists:Jt,openFirstTimePanel:$t,toggleShowOnAllPages:eo,getCompDragRestrictions:to,getCompMoveRestrictions:oo,getCompRestrictions:no,getComponentType:io,isPopUpMode:Si,reportAddMenuDrag:Ti,editorIsInit:Pi,navigateAndOpenPagesPanel:ao,openComponentPanel:ro,replaceComponentPanel:so,openCompOutOfGridPanelIfNeeded:lo,openLinkPanel:Ei,openPagesPanel:vi,getPanelPathByType:co,openLearnMore:po,isPreviewReady:uo,setPortalChildren:mo,hasExternalDesign:go,setAttachCandidate:fo,setConstraintArea:ho,setPageSections:bo,clearPageSections:yo,sectionsHandles:{areSectionsHandlesEnabled:Do,toggleSectionsHandles:ko},setSiteScale:Po,zoomMode:{enterZoomMode:Bo,exitZoomMode:No,isInZoomMode:Lo},snapData:{set:xo,clear:Fo},lasso:{setCandidates:Ho,setLayout:Uo,clear:Go},focusBox:{getFocusedContainer:Vo},clipboard:{types:n.constants.EDITOR_CLIPBOARD_TYPES,setItem:Wo,getItem:zo},clipboardContainsComp:vo,text:{startEditing:Qo,stopEditing:Jo,setCurrentTextEditor:$o,isEditingText:en,undo:tn,canUndo:on,redo:nn,canRedo:an},help:{openHelpCenter:rn},utils:{isSameRef:sn,isPage:ln,getParentIfCompCanBeSelected:cn,findAncestorMatchesCondition:pn},siteName:{validate:dn,set:un,sanitize:mn,rename:gn},updateEditorViewTools:Eo,toolbar:{isToolbarEnabled:fn,toggleToolbar:hn},developerToolBar:{isEnabled:bn,toggle:yn},platformToolBar:{isEnabled:Pn,toggle:vn,open:En},developerHiddenComponents:{isEnabled:Sn,toggle:Tn},grid:{guidelines:{isGuidelinesEnabled:Cn,toggleGuidelines:In},snapTo:{isSnapToEnabled:_n,toggleSnapTo:On}},siteSegments:{getRefs:Mn,getPagesContainerAbsLayout:An},tooltipTextService:ae,homePage:{get:wn,set:Rn},openEditorVersionInfoPanel:So,styles:{openApplyStylePanel:qo},bi:{getComponentsBIParams:Yo,getTpaComponentBIParams:Ko,reportBI:Xo,tryFlushingConditionedEvents:Zo},campaigns:{fetchCampaignInfo:Dn,getActiveCampaignInfo:kn,isActiveCampaign:Bn,getDiscountValue:Nn,personalSale:{isActiveCampaign:Ln,getDiscountValue:xn,getAssetPath:Fn}},newEditorWelcomeScreenWrapper:V,showFloatingBubble:To,hideFloatingBubble:Co,showComponentPreviewRect:Io,hideComponentPreviewRect:_o,blockingLayer:{show:Hn,hide:Un},blockingPopupLayer:{show:Gn,hide:Vn},editorControls:{show:zn,hide:Wn},getSiteScale:Oo,endMouseMoveActionIfNeeded:Mo,isVerticalScrollbarHidden:Ao,onCollectionAdded:wo,toggleEditorStateParam:Ro,toolsControl:{toggleHalfOpacityTools:qn,toggleHideToolsBtnBlink:jn,toggleHideTools:Yn,areToolsHiddenAndStagePositionMaintained:Kn,areToolsHidden:Xn,isHalfOpacityTools:Zn},blog:{add:Qn},cursor:{get:Jn,set:$n,updateMousePosition:ei},overlay:{disableUpdate:ti,enableUpdate:oi,shouldUpdate:ni},tooltips:{disable:ii,enable:ai},hints:{registerForMouseEvents:ri},topBarMenuBar:{registerForDropDownActions:gi,onMenuBarDropDownOpen:fi,onMenuBarDropDownClose:hi,registerAPI:si},topBarPagesFilter:{set:bi,get:yi},scroll:{get:et,registerNewScrollPosition:Ze,scrollTo:Qe,animateScrollTo:Je,clearScrollTo:$e,resetScrollListeners:Ci,handleStageScroll:Ii,addScrollListener:_i,removeScrollListener:Oi},setFocus:Mi};return Ni.pluginService=ne.create(),Ni.editorEventRegistry=pe.create(),Ni.history=T.create(Ni),Ni.pinMode=Q.create(Ni),Ni.imageCrop=C.create(Ni),Ni.ui=q.create(Ni),Ni.promotions=J.create(Ni),Ni.preview=$.create(Ni),Ni.pages=K.create(Ni),Ni.wixCode=j.create(Ni),Ni.wixStores=z.create(),Ni.selection=U.create(Ni),Ni.layouters=X.create(Ni),Ni.multiselect=L.create(Ni),Ni.savePublish=A.create(Ni),Ni.leftBar=x.create(Ni),Ni.topBar=H.create(Ni),Ni.rulers=R.create(Ni),Ni.tabIndicationState=D.create(Ni),Ni.domain=_.create(Ni),Ni.site=I.create(Ni),Ni.mainMenu=B.create(Ni),Ni.menu=N.create(Ni),Ni.components=w.create(Ni),Ni.copyPaste=W.create(Ni),Ni.concurrentUsers=E.create(Ni),Ni.columns=Y.create(Ni),Ni.account=ee.create(Ni),Ni.platform=Z.create(Ni),Ni.databaseEditor=G.create(Ni),Ni.selectedComponent=M.create(Ni),Ni.developerMode=O.create(Ni),Ni.feedback=k.create(Ni),Ni.theme=S.create(Ni),Ni.mobile=te.create(Ni),Ni.panelHelpers=m.create(Ni),Ni.mouseActions=oe.create(Ni),r.bindOwnMethodsDeep(Ni,Ni),Ni.previewReady=!1,Ni.documentServices=null,Ni.userPreferences=new h,Ni.store=se,Ni.editorConfig=fe(),Ni.pendingStateChanges={},Ni.pendingEditorStateUpdateCallbacks=[],Ni.removePlugins={},Ni.hidePlugins={},Ni.duplicatePlugins={},Ni.compNamePlugins={},Ni.compIconPlugins={},Ni.cannotRemovePlugins={},Ni.copyComponentPlugins={},Ni.pasteComponentPlugins={},Ni.cutComponentPlugins={},Ni.addComponentPlugins={},Ni.serializeComponentPlugins={},Ni.pageNavigationCallbacks=[Ni.mobile.updateLeftBarNotificationsCount],Ni.viewerUpdateCallbacks=[dt],Ni.userPreferencesInitCallbacks=[Ni.initViewToolsFromUserPrefs,Ni.initUserAddedColors,Ni.initWelcomeScreen,Ni.initDevModeValues,Pe],Ni.sitePublishedCallbacks=[],Ni.deviceTypeChangeCallbacks=[],Ni.biConditionedEventsQueue=[],Ni.registeredHideBubbleOnPreview=!1,Ni.isSavedInCurrentSession=!1,Ni.pasteLogic=re,Ni.mediaServices=new d,Ni.panelManager=a.PanelManager.create(se),Ni.saveManager=b.createSaveManager(Ni,e.log),Ni.publishManager=b.createPublishManager(Ni),Ni.autosaveManager=b.createAutosaveManager(Ni),Ni.scroll.resetScrollListeners(),window.testApi&&window.testApi.domSelectors&&(window.testApi.editorAPI=Ni,window.testApi.bi=r.automationUtil.bi),Ni}var ve=r.serviceTopology.dashboardUrl.replace(/create\//,"")+"/"||"http://www.wix.com/my-account/",Ee=.5,Se=i.uiConstants,Te={toolbarEnabled:!0,developerModeEnabled:!1,showHiddenComponents:!0,guidelinesEnabled:!0,sectionsHandlesEnabled:!0,snapToEnabled:!0,rulersEnabled:void 0,rulers:{guidesState:{},selectedGuide:void 0,isHovered:!1,isDragging:null}},Ce=["latin"],Ie=null,_e={};return{create:Pe}}),define("rEditor/rootComps/editorMain",["reactDOM","lodash","util","core","react","reduxLibs","rEditor/rootComps/editor","rEditor/app/EditorAPI","stateManagement","experiment","constants"],function(e,t,o,n,i,a,r,s,l,c,p){function d(e){e.debugTools&&(window.testApi=t.assign({},window.testApi,{domSelectors:e.qaAutomation.getDomSelectors(e.react,e.reactDOM),helpers:e.debugTools.helpers,clientSelectors:e.debugTools.clientSelectors})),e.qaAutomation&&e.qaAutomation.init(window),e.tpaIntegrationEditor&&e.tpaIntegrationEditor.init(window,e.tpa,e.util,e.savePublish,e.panels),e.uiLibIntegrationEditor&&e.uiLibIntegrationEditor.init(window,e.tpa,e.util,e.savePublish,e.panels),e.platformIntegrationEditor&&e.platformIntegrationEditor.init(window,e.platform)}function u(e){o.url.getParameterByName("debug")&&(window.editorAPI=e)}function m(e){function i(){o.animationFrameUtils.request(i);var r=e.getState(),s=r.performingMouseMoveAction,c=r.registeredMouseMoveAction;if(s||y.start)if(!s&&y.start){var p=window.performance.now(),d=1e3*y.frameCounter/(p-y.start),u=l.bi.event(n.bi.events.editor.FRAME_RATE,{frames_per_second:parseInt(d,10),action_name:y.actionType});d>0&&e.dispatch(u),g()}else if(s&&!y.start){if(!c.type||t.includes(a,c.type))return;y.start=window.performance.now(),y.actionType=c.type}else y.frameCounter++}var a=[p.MOUSE_ACTION_TYPES.DEFAULT,p.MOUSE_ACTION_TYPES.DRAG_ATTEMPT,p.MOUSE_ACTION_TYPES.LASSO];i()}function g(){y.start=null,y.end=null,y.frameCounter=0,y.actionType=null}function f(t){window.document.title=o.translate("EDITOR_BROWSER_TAB_NAME"),d(t),o.imageTransform.init(),o.polyfills.register(),c.isOpen("qualaroo")&&o.qualaroo.start(),c.isOpen("se_fullstory")&&o.fullStory.start(),o.fedopsLogger.create();var n=l.createEditorStore(),a=l.throttledStore(o.animationFrameUtils.request,n),p=s.create(a),g={editorAPI:p,isLeavePagePopUpDisabled:"false"===o.url.getParameterByName("leavePagePopUp")},f=window.document.getElementById("root"),y=l.connect(function(e){return{editorIsInit:e.editorIsInit,previewMode:e.previewMode}})(r),P=i.createElement(y,g),v=i.createElement(h.Provider,{store:a},P);window.rendered=e.render(v,f),u(p),b&&m(n)}var h=a.reactRedux,b=c.isOpen("reportFrameRate"),y={actionType:null,frameCounter:0,start:null};return{start:f}}),define("rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel.rt",["react","lodash","baseUILib","baseUI","util","core","compPanels"],function(e,t,o,n,i,a,r){return function(){function i(e,o){var n=t.assign({},e,o);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(n.className=o.className+" "+e.className),n}function a(){var t=this.getPopupProps()||{};return e.createElement(r.compPanelFrame,i({title:"Popups_OverlaySettings_Panel_Header",className:"popup-overlay-settings-panel",contentClass:"settings-panel",helpId:this.getHelpId()},this.getFrameProps()),e.createElement(o.Divider,{long:!1}),e.createElement(n.toggle,{key:"clickClosesOverlay",label:"Popups_OverlaySettings_ClickCloses_Toggle",valueLink:this.linkPopupPropsValue(t,"closeOnOverlayClick")}))}return a.apply(this,[])}}),define("rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel",["create-react-class","lodash","core","compPanels","helpIds","rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel.rt"],function(e,t,o,n,i,a){return e({displayName:"overlaySettingsPanel",mixins:[n.compPanelMixin],render:a,componentDidMount:function(){this.getEditorAPI().bi.event(o.bi.events.popups.setup_overlay_clicked,{})},getHelpId:function(){return i.UTILS.getSettingsHelpId(i.COMP_TYPES.POPUP_OVERLAY,this.getEditorAPI().isMobileEditor())},getPage:function(){return this.getEditorAPI().pages.popupPages.getCurrentPopup()},getPopupProps:function(){return t.get(this.getEditorAPI().pages.properties.get(this.getPage()),"popup",{})},openHelpPanelFrame:function(){this.openHelpCenter(this.getHelpId(),!0)},linkPopupPropsValue:function(e,o){return{value:e&&e[o],requestChange:function(e){var n=this.getEditorAPI(),i=n.pages.properties.get(this.getPage());t.set(i,["popup",o],e),n.pages.properties.update(this.getPage(),i),n.history.add("toggle close popup by click on overlay")}.bind(this)}}})}),define("rEditor/pagesMenu/specialPagesMenuMixin",["core"],function(e){return{mixins:[e.mixins.editorAPIMixin],getInitialState:function(){return{selectedSectionPage:null}},openSpecialPagesMenu:function(e){this.setState({selectedSectionPage:e})},closeSpecialPagesMenu:function(){this.setState({selectedSectionPage:null}),this.props.closeSpecialPageMenu(),this.getEditorAPI().bi.event(e.bi.events.topbar.pages.top_bar_PAGES_special_pages_back_click)},isSpecialPagesPanelOpen:function(){return Boolean(this.state.selectedSectionPage)}}}),define("rEditor/pagesMenu/quickActionsMenuItemsMixin",["lodash","pagesMenu","core"],function(e,t,o){function n(e,t,o,n){var i=e.documentServices.viewMode.get();i===e.documentServices.viewMode.VIEW_MODES.DESKTOP&&p.setHidden(e,t,n),i===e.documentServices.viewMode.VIEW_MODES.MOBILE&&p.setHidden(e,t,void 0,n)}function i(e,t,o){this.props.openSettingsPanel(t,o)}function a(e,t){var o=t.pageData.id,n=e.documentServices.platform.getAppDataByAppDefId(e.documentServices.platform.editorApps.DATA_BINDING.appDefId);e.documentServices.platform.notifyApplication(n.applicationId,{eventType:"addDynamicPageClicked",eventPayload:{pageRef:e.documentServices.pages.getReference(o),origin:"quickActionsMenu"}})}function r(e){return function(t,o){i.call(this,t,o,e)}}function s(t,o,n){t.openLinkPanel({visibleSections:{NoLink:!1},showAllPopups:!0,hidePageLinks:!0,link:n,pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"What do you want to link to?",callback:e.once(o)})}function l(t,n){var i=["tabPageInfo","tabLayout","tabPermissions","tabSEO"],a=e.includes(i,n)?"settings":n;t.bi.event(o.bi.events.topbar.pages.top_bar_PAGES_quick_actions_menu_select_click,{category:a})}var c,p=t.pageMenuItemHelpers;return c={tabPageInfo:r("page"),tabLayout:r("layout"),tabPermissions:r("privacy"),tabSEO:r("seo"),settings:i,setAsDynamicPage:a,rename:function(e,t,o){t.pageData?p.renamePage(e,t.pageData,o):p.renameMenuItem(e,t,o)},duplicate:function(e,t){p.duplicateMenuItem(e,t,function(e){this.props.closeSettingsPanel(),this.props.editedItemIdLink.requestChange(e)}.bind(this))},unhide:e.partialRight(n,!1),hide:e.partialRight(n,!0),subpage:p.subpage,moveup:p.moveUp,remove:function(e,t){this.props.closeSettingsPanel(),p.removeMenuItem(e,t),t.pageData&&e.bi.event(o.bi.events.topbar.pages.page_or_pop_up_deleted,{page_or_popup:"page",page_popup_string_id:t.pageData.id,page_popup_name:t.pageData.title})},changeLink:function(t,o){s(t,function(n){var i=t.data.createItem(n.type);e.assign(i,e.omit(n,["type"])),p.updateLink(t,o.id,i)},t.data.getById(o.id).link)}},{onActionMenuItemsSelected:function(t,o,n){e.isFunction(c[t])&&c[t].call(this,this.getEditorAPI(),o,n),l(this.getEditorAPI(),t)}}}),define("rEditor/pagesMenu/pageNode/pageInfoTextHelper",["core"],function(e){var t=e.utils.tpaTypeUtils,o=e.utils.blogTypeUtils,n=e.utils.wixStoreTypeUtils;return{getInfoTextForSpecialPage:function(e,i){if(o.isBlog(e,i))return"Pages_Blog_Post_Info_WhatisText";if(t.isTPA(i)){if(!n.isWixStore(e,i))return"TPA pages";if(n.isWixStoreProductPage(i))return"Pages_Store_Product_Info_WhatisText";if(n.isWixStoreCartPage(i))return"Pages_Store_Cart_Info_WhatisText";if(n.isWixStoreThankYouPage(i))return"Pages_Store_Thankyou_Info_WhatisText"}},getInfoTextForSectionPage:function(e,i){return o.isBlog(e,i)?"Pages_Menu_Blog_Tooltip":t.isTPA(i)?n.isWixStore(e,i)?"Pages_Store_Panel_Title":"TPA pages":void 0},getInfoTextForNonPage:function(e){return e.type.isLink?"Pages_Menu_Link_Tooltip":e.type.isDropdown?"Pages_Menu_Dropdown_Tooltip":void 0}}}),define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell.rt",["react","lodash","pagesMenu","baseUI","core","symbols","util","rEditor/pagesMenu/pageNode/pageInfoTextHelper"],function(e,t,o,n,i,a,r,s){return function(){return e.createElement(o.nodeContentCommon,t.assign({},{isVisible:void 0===this.props.isVisible?this.props.dataSource.isVisibleMobile:this.props.isVisible},this.props),e.createElement("a",{href:"javascript://settings",className:"action-button action-settings",onClick:this.onClick},e.createElement(a.symbol,{name:"quickActionsSettings"})),"\n\n    ",this.props.children,"\n")}}),define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell",["create-react-class","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell.rt"],function(e,t){return e({displayName:"nodeContentMobileShell",onClick:function(){this.props.actions.openSettingsPanel(this.props.dataSource)},render:t})}),define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileSimplePage.rt",["react","lodash","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell"],function(e,t,o){return function(){return e.createElement(o,this.props)}}),define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileNotPage.rt",["react","lodash","baseUI","symbols","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell","rEditor/pagesMenu/pageNode/pageInfoTextHelper"],function(e,t,o,n,i,a){return function(){function t(){var t=a.getInfoTextForNonPage(this.props.dataSource);return e.createElement(i,this.getNotPageProps(),e.createElement("a",{href:"#",key:"action-button-info-subpage",className:"action-button"},e.createElement(o.infoIcon,{symbolName:"actionButtonInfo",text:t,ref:"infoIcon"})))}return t.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileSectionPage.rt",["react","lodash","pagesMenu","baseUI","core","symbols","util","rEditor/pagesMenu/pageNode/pageInfoTextHelper","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileShell"],function(e,t,o,n,i,a,r,s,l){return function(){function t(e){this.props.actions.openSubPagesMenu(this.props.dataSource)}function o(){var o=s.getInfoTextForSectionPage(this.getEditorAPI(),this.props.dataSource.pageData);return e.createElement(l,this.props,e.createElement("a",{className:"action-button action-button-special-pages-mobile",onClick:t.bind(this,o)},e.createElement(n.infoIcon,{symbolName:"actionButtonSpecialPages",propagate:!0,text:o})))}return o.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/common/nodeContentSubPage.rt",["react","lodash","baseUI","rEditor/pagesMenu/pageNode/pageInfoTextHelper","pagesMenu","symbols"],function(e,t,o,n,i,a){return function(){function r(e){this.props.actions.openSettingsPanel(this.props.dataSource)}function s(){var s=n.getInfoTextForSpecialPage(this.props.editorAPI,this.props.dataSource.pageData);return e.createElement(i.nodeContentCommon,t.assign({},{isVisible:!0},this.props),e.createElement("a",{href:"javascript://settings",className:"action-button action-settings",onClick:r.bind(this,s)},e.createElement(a.symbol,{name:"quickActionsSettings"})),e.createElement("a",{href:"#",className:"action-button"},e.createElement(o.infoIcon,{symbolName:"actionButtonInfo",text:s})))}return s.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon.rt",["react","lodash","pagesMenu"],function(e,t,o){return function(){return e.createElement(o.nodeContentCommon,t.assign({},{isVisible:void 0===this.props.isVisible?this.props.dataSource.isVisible:this.props.isVisible},this.props),"\n\n    ",this.props.children,"\n\n")}}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon",["create-react-class","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon.rt"],function(e,t){return e({displayName:"nodeContentDesktopCommon",render:t})}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon.rt",["react","lodash","baseUI","symbols","util","pagesMenu","experiment"],function(e,t,o,n,i,a,r){return function(){function t(){var t=this.props.dataSource,s=i.translate,l=a.pageMenuItemHelpers,c=this.props.editorAPI;return e.createElement(o.dropDown.contextMenu,{shouldTranslate:!1,icon:"moreRegular",className:"quick-actions action-button",shrink:this.props.shrink,onClick:this.handleClick,onNotificationClick:this.props.onNotificationClick,notificationCount:this.props.notificationCount,onChange:this.actionSelectedHandler,"data-hint-id":r.isMultiValueExperimentOpen("editorHintsConfigs")?this.props.pageMoreHintId:null},"\n\n    ",this.props.children,"\n\n    ",e.createElement(o.dropDown.option,{value:"rename",key:"quick-actions-rename"},e.createElement("div",{className:"svg-container"},e.createElement(n.symbol,{name:"quickActionsRename"})),e.createElement("span",{className:"qa-label"},s("Pages_Actions_Page_Rename"))),l.canDuplicate(c,t)?e.createElement(o.dropDown.option,{key:"quick-actions-duplicate",value:"duplicate"},e.createElement("div",{className:"svg-container"},e.createElement(n.symbol,{name:"qaDuplicate"})),e.createElement("span",{className:"qa-label"},s("Pages_Actions_Page_Duplicate"))):null,r.isOpen("dpages")&&this.isDeveloperModeEnabled()&&l.canBeSetAsDynamicPage(c,t)?e.createElement(o.dropDown.option,{key:"quick-actions-set-as-dynamic-page",value:"setAsDynamicPage"},e.createElement("div",{className:"svg-container"},e.createElement(n.symbol,{name:"page_dynamic_icon"})),e.createElement("span",{className:"qa-label"},s("Platform_Page_Actions_Set_Dynamic_Page"))):null,l.canUnhide(c,t)?e.createElement(o.dropDown.option,{key:"quick-actions-unhide",value:"unhide"},e.createElement("div",{className:"svg-container"},e.createElement(n.symbol,{name:"quickActionsShow"})),e.createElement("span",{className:"qa-label"},s("Pages_Actions_Page_Unhide"))):null,l.canHide(c,t)?e.createElement(o.dropDown.option,{key:"quick-actions-hide",value:"hide"},e.createElement("div",{className:"svg-container"},e.createElement(n.symbol,{name:"quickActionsHide"})),e.createElement("span",{className:"qa-label"},s("Pages_Actions_Page_Hide"))):null,this.isSubpageActive(t)?e.createElement(o.dropDown.option,{key:"quick-actions-subpage",value:"subpage"},e.createElement("div",{className:"svg-container"},e.createElement(n.symbol,{name:"quickActionsSubpage"})),e.createElement("span",{className:"qa-label"},s("Pages_Actions_Page_Subpage"))):null,this.isMoveUpActive(t)?e.createElement(o.dropDown.option,{key:"quick-actions-moveup",value:"moveup"},e.createElement("div",{className:"svg-container"},e.createElement(n.symbol,{name:"quickActionsMainPage"})),e.createElement("span",{className:"qa-label"},s("Pages_Actions_Page_MoveUp"))):null,l.canRemoveMenuItem(c,t)?e.createElement(o.dropDown.option,{key:"quick-actions-remove",value:"remove"},e.createElement("div",{className:"svg-container"},e.createElement(n.symbol,{name:"qaDelete"})),e.createElement("span",{className:"qa-label"},s("Pages_Actions_Page_Delete"))):null)}return t.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon",["create-react-class","prop-types","core","pagesMenu","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon.rt","experiment"],function(e,t,o,n,i,a){return e({displayName:"quickActionsMenuCommon",mixins:[n.mixins.quickActionRenameMixin],propTypes:{dataSource:t.object.isRequired,editorAPI:t.object.isRequired,editedPageIdLink:t.object.isRequired,onActionSelected:t.func.isRequired},isSubpageActive:function(e){return n.pageMenuItemHelpers.canSubpage(e)&&"tree"===this.props.structureType},isMoveUpActive:function(e){return n.pageMenuItemHelpers.canMoveUp(e)&&"tree"===this.props.structureType},handleClick:function(){if(this.props.setSelected(),a.isOpen("pagesFirstTimeSteps")){var e=this.props.dataSource.pageData,t={page_on_top:0===this.props.dataSource.position,page_ind:e?e.id:"non-page"};this.props.editorAPI.bi.event(o.bi.events.topbar.pages.pages_panel_page_settings_click,t)}},isDeveloperModeEnabled:function(){return this.props.editorAPI.developerMode.isEnabled()},render:i})}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage.rt",["react","lodash","baseUILib","baseUI","symbols","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon","experiment","util"],function(e,t,o,n,i,a,r,s){return function(){function r(){var r=s.translate;return e.createElement(a,t.assign({},{onNotificationClick:this.getOnNotificationClick(),notificationCount:1},this.props),e.createElement(n.dropDown.option,{key:"quick-action-tab-page-info",value:"tabPageInfo",className:"primary psp-qa"},e.createElement(i.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"0 7px 0 5px"}}),e.createElement("span",{className:"qa-label"},r("Pages_Actions_Page_Info"))),e.createElement(n.dropDown.option,{key:"quick-action-tab-layout",value:"tabLayout",className:"primary psp-qa"},e.createElement(i.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"0 7px 0 5px"}}),e.createElement("span",{className:"qa-label"},r("Pages_Actions_Page_Layouts"))),e.createElement(n.dropDown.option,{key:"quick-action-tab-permissions",value:"tabPermissions",className:"primary psp-qa"},e.createElement(i.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"0 7px 0 5px"}}),e.createElement("span",{className:"qa-label"},r("Pages_Actions_Page_Permissions"))),e.createElement(n.dropDown.option,{key:"quick-action-tab-seo",value:"tabSEO",className:"primary psp-qa"},e.createElement(i.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"0 7px 0 5px"}}),e.createElement("span",{className:"qa-label"},r("Pages_Actions_Page_SEO"))),e.createElement(n.dropDown.option,{key:"quick-action-separator",className:"separator"},e.createElement(o.Divider,{long:!0})),e.createElement(n.dropDown.option,{key:"quick-action-settings",value:"settings",className:"primary"},e.createElement(i.symbol,{name:"quickActionsSettings",style:{position:"relative",top:"4px",left:"-1px"}}),e.createElement("span",{className:"qa-label"},r("Pages_Actions_Page_Settings"))))}return r.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage",["create-react-class","pagesMenu","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage.rt"],function(e,t,o){return e({displayName:"quickActionsMenuPage",getOnNotificationClick:function(){var e=this.props.actions.openSettingsPanel,o=this.props.dataSource;if(t.utils.quickActions.hasNotification(this.props.editorAPI,this.props.dataSource.pageData.id))return function(){e(o,"page")}},render:o})}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopSimplePage.rt",["react","lodash","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage"],function(e,t,o,n){return function(){return e.createElement(o,this.props,e.createElement(n,this.props))}}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopSectionPage.rt",["react","lodash","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuPage","rEditor/pagesMenu/pageNode/pageInfoTextHelper","baseUI"],function(e,t,o,n,i,a){return function(){function t(e,t){this.props.actions.openSubPagesMenu(e)}function r(){var r=this.props.dataSource,s=i.getInfoTextForSectionPage(this.getEditorAPI(),this.props.dataSource.pageData);return e.createElement(o,this.props,e.createElement(n,this.props),e.createElement("a",{href:"#",className:"action-button",onClick:t.bind(this,r,s)},e.createElement(a.infoIcon,{symbolName:"actionButtonSpecialPages",propagate:!0,text:s})))}return r.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuNotPage.rt",["react","lodash","baseUI","symbols","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuCommon","rEditor/pagesMenu/pageNode/pageInfoTextHelper","util"],function(e,t,o,n,i,a,r){return function(){function t(){var t=this.props.dataSource,a=r.translate;return e.createElement(i,this.props,t.type.isLink?e.createElement(o.dropDown.option,{key:"quick-actions-rename-link",value:"changeLink"},e.createElement(n.symbol,{name:"quickActionsLink"}),e.createElement("span",{className:"qa-label"},a("Pages_Actions_Link_Change"))):null)}return t.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuNotPage",["create-react-class","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuNotPage.rt"],function(e,t){return e({displayName:"quickActionsMenuNotPage",render:t})}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopNotPage.rt",["react","lodash","baseUI","rEditor/pagesMenu/pageNode/pageInfoTextHelper","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuNotPage"],function(e,t,o,n,i,a){return function(){function t(){var t=n.getInfoTextForNonPage(this.props.dataSource);return e.createElement(i,this.getNotPageProps(),e.createElement(a,this.props),e.createElement("a",{href:"#",key:"action-button-info-subpage",className:"action-button"},e.createElement(o.infoIcon,{symbolName:"actionButtonInfo",text:t,ref:"infoIcon"})))}return t.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuDynamicPage.rt",["react","lodash","baseUI","baseUILib","symbols","util"],function(e,t,o,n,i,a){return function(){function r(t,n,a,r){return e.createElement(o.dropDown.option,{value:a.event,key:"page-settings-action"+r},e.createElement(i.symbol,{name:"quickActionsLinkArrow",style:{position:"relative",margin:"3px 7px 0 4px"}}),"\n        ",a.title)}function s(t,n,a,r){return e.createElement(o.dropDown.option,{value:a.event,key:"page-actions"+r},e.createElement(i.symbol,{name:a.icon||"file",style:{position:"relative",margin:"3px 7px 0 4px"}}),"\n        ",a.title,"\n    ")}function l(){var i=this.props.dataSource,l=a.translate;return e.createElement.apply(this,[o.dropDown.contextMenu,{shouldTranslate:!1,icon:"moreRegular",className:"quick-actions action-button",onClick:this.handleClick,onChange:this.actionSelectedHandler},t.map(this.pageSettingsOptions,r.bind(this,i,l)),this.isDeveloperModeEnabled()?e.createElement(o.dropDown.option,{key:"quick-action-separator",className:"separator"},e.createElement(n.Divider,{long:!0})):null,this.isDeveloperModeEnabled()?t.map(this.pageActionsOptions,s.bind(this,i,l)):null])}return l.apply(this,[])}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuDynamicPage",["create-react-class","lodash","platform","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuDynamicPage.rt"],function(e,t,o,n){var i={PAGE_SETTINGS:"pageSettings",PAGE_ACTIONS:"pageActions"};return e({displayName:"quickActionsMenuDynamicPage",render:n,componentWillMount:function(){var e=this.props.editorAPI;this.pageActionsOptions=e.pages.dynamicPages.getDynamicPageOptions(this.props.dataSource.pageData.id,i.PAGE_ACTIONS),this.pageSettingsOptions=e.pages.dynamicPages.getDynamicPageOptions(this.props.dataSource.pageData.id,i.PAGE_SETTINGS)},isDeveloperModeEnabled:function(){return this.props.editorAPI.developerMode.isEnabled()},getApplicationId:function(e){var o=this.props.editorAPI,n=o.documentServices.routers.get.byRef(e);return t.get(o.documentServices.platform.getAppDataByAppDefId(n.appDefinitionId),"applicationId")},notifyApplicationOnEvent:function(e){var t=this.props.editorAPI,o=t.documentServices.pages.getReference(this.props.dataSource.pageData.id),n=t.documentServices.routers.getRouterRef.byPage(o),i={routerRef:n,publicUrl:t.documentServices.generalInfo.getPublicUrl(),pageRef:o,origin:"quickActionsMenu"};t.documentServices.platform.notifyApplication(this.getApplicationId(n),{eventType:e,eventPayload:i})},actionSelectedHandler:function(e){var n=o.constants,a=[].concat(this.pageActionsOptions,this.pageSettingsOptions),r=t.find(a,{event:e});r.type!==i.PAGE_SETTINGS?e!==n.pages.page_actions.rename.title?this.notifyApplicationOnEvent(r.event):this.props.editedPageIdLink.requestChange(this.props.dataSource.pageData.id):this.props.actions.openSettingsPanel(this.props.dataSource,r.title,this.pageSettingsOptions)}})}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopDynamicPage.rt",["react","lodash","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuDynamicPage"],function(e,t,o,n){return function(){return e.createElement(o,this.props,e.createElement(n,this.props))}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuRouter.rt",["react","lodash","baseUI","symbols","util"],function(e,t,o,n,i){return function(){function a(t,i,a,r){return e.createElement(o.dropDown.option,{value:a.event,key:"router-actions"+r},e.createElement(n.symbol,{name:a.icon||"file",style:{position:"relative",margin:"0 7px 0 5px"}}),"\n        ",a.title,"\n    ")}function r(){var n=this.props.dataSource,r=i.translate;return e.createElement.apply(this,[o.dropDown.contextMenu,{key:"router-context-menu",shouldTranslate:!1,icon:"moreRegular",className:"quick-actions action-button",onClick:this.handleClick,onChange:this.actionSelectedHandler},t.map(this.getRouterActionOptions(),a.bind(this,n,r))])}return this.isDeveloperModeEnabled()?r.apply(this,[]):null}}),define("rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuRouter",["create-react-class","lodash","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuRouter.rt"],function(e,t,o){return e({displayName:"quickActionsMenuRouter",isDeveloperModeEnabled:function(){return this.props.editorAPI.developerMode.isEnabled()},getRouterActionOptions:function(){return this.props.editorAPI.pages.dynamicPages.getRouterActionOptions(this.props.dataSource.prefix)},getApplicationId:function(e){var o=this.props.editorAPI,n=o.documentServices.routers.get.byRef(e);return t.get(o.documentServices.platform.getAppDataByAppDefId(n.appDefinitionId),"applicationId")},notifyApplicationOnEvent:function(e){var t=this.props.editorAPI,o=t.documentServices.routers.getRouterRef.byPrefix(this.props.dataSource.prefix),n={routerRef:o,publicUrl:t.documentServices.generalInfo.getPublicUrl(),origin:"quickActionsMenu"};t.documentServices.platform.notifyApplication(this.getApplicationId(o),{eventType:e,eventPayload:n})},actionSelectedHandler:function(e){this.notifyApplicationOnEvent(e)},render:o})}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopRouter.rt",["react","lodash","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopCommon","rEditor/pagesMenu/pageNode/desktop/quickActionsMenu/quickActionsMenuRouter"],function(e,t,o,n){return function(){return e.createElement(o,this.props,e.createElement(n,this.props))}}),define("rEditor/pagesMenu/pageNodeRenderers",["rEditor/pagesMenu/pageNode/mobile/nodeContentMobileSimplePage.rt","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileNotPage.rt","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileSectionPage.rt","rEditor/pagesMenu/pageNode/common/nodeContentSubPage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopSimplePage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopSectionPage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopNotPage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopDynamicPage.rt","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopRouter.rt"],function(e,t,o,n,i,a,r,s,l){function c(n,i){return n.type.isPage||n.type.isDynamicPage||n.type.isRouter?i?o:e:n.type.isLink||n.type.isDropdown?t:void 0}function p(e,t){return e.type.isPage?t?a:e.type.isDynamicPage?s:i:e.type.isLink||e.type.isDropdown?r:e.type.isRouter?l:void 0}return{mobile:{mainMenu:c},desktop:{mainMenu:p},common:{subPages:function(){return n}}}}),define("rEditor/pagesMenu/pageNode/common/nodeContentSubPage",["create-react-class","rEditor/pagesMenu/pageNodeRenderers"],function(e,t){return e({displayName:"nodeContentMobileSubPage",render:function(){return t.common.subPages(this.props.dataSource).call(this)}})}),define("rEditor/pagesMenu/subPages/subPages.rt",["react","lodash","baseUI","baseUILib","core","symbols","util","rEditor/pagesMenu/pageNode/common/nodeContentSubPage"],function(e,t,o,n,i,a,r,s){return function(){function t(e){e.preventDefault(),this.props.closeSubPagesMenu()}return e.createElement("div",{className:"pages-tree-container pages-menu"},e.createElement("div",{className:"pages-tree-controls"},e.createElement("a",{href:"#",className:"panel-header-close",onClick:t.bind(this)},e.createElement("button",{className:"button-control back-to-pages"},e.createElement(a.symbol,{name:"arrowLeft"})),e.createElement("span",{},r.translate("pages_blog_panel_back")))),e.createElement(n.CustomScroll,{},e.createElement(o.treeView,{editedPageIdLink:this.isSubpageRenamingAllowed()?this.props.editedItemIdLink:void 0,onActionSelected:this.isSubpageRenamingAllowed()?this.onActionMenuItemsSelected:void 0,className:"pages-tree ",dataSource:this._pagesList,nodeContent:s,equalityComparer:this.equalityComparer,editorAPI:this.getEditorAPI(),actions:{openSettingsPanel:this.props.openSettingsPanel,closeSettingsPanel:this.props.closeSettingsPanel},valueLink:this.linkPage(this._curPageData.id),isRoot:!0})))}}),define("rEditor/pagesMenu/subPages/subPages",["lodash","react","create-react-class","prop-types","core","pagesMenu","rEditor/pagesMenu/quickActionsMenuItemsMixin","experiment","rEditor/pagesMenu/subPages/subPages.rt"],function(e,t,o,n,i,a,r,s,l){return o({displayName:"subPages",mixins:[t.addons.LinkedStateMixin,i.mixins.editorAPIMixin,r],propTypes:{userPrefs:n.object,sectionMenuItem:n.object,openSettingsPanel:n.func.isRequired,closeSubPagesMenu:n.func.isRequired,selectedMenuItemChanged:n.func.isRequired},linkPage:function(e){return{value:e,requestChange:function(e){this.props.selectedMenuItemChanged(e),e&&e.pageData&&this.getEditorAPI().pages.navigateTo(e.pageData.id)}.bind(this)}},getCurrentPagePageData:function(){var e=this.getEditorAPI();return e.documentServices.pages.data.get(e.documentServices.pages.getPrimaryPageId())},equalityComparer:function(e,t){return e.pageData&&e.pageData.id===t},isSubpageRenamingAllowed:function(){var t=e.get(this,"props.sectionMenuItem.pageData.id");return s.isOpen("se_blogChangeSinglePostPageName")&&!0===this.getEditorAPI().documentServices.wixapps.classics.blog.isFeed(t)},render:function(){var e,t=this.getEditorAPI();return this._curPageData=this.getCurrentPagePageData(),e=a.specialPages.menuLogic.getSpecialPagesListBySectionPageOrBySibling(t,this.props.sectionMenuItem&&this.props.sectionMenuItem.pageData||this._curPageData),this._pagesList=t.mainMenu.convertPagesDataListToMenuItemsList(e),l.call(this)}})}),define("rEditor/pagesMenu/emptyPagesAndPopups/emptyPagesAndPopups.rt",["react","lodash","util","symbols"],function(e,t,o,n){return function(){return e.createElement("div",{className:"empty-pages-and-popups"},e.createElement("figure",{className:"empty-figure"},e.createElement(n.symbol,{name:"noSearchResultStructureSite"})),e.createElement("div",{className:"main-message"},o.translate("POPUPS_SiteStructure_EmptySearch_Title")),e.createElement("div",{className:"try-again-message"},o.translate("POPUPS_SiteStructure_EmptySearch_Text")))}}),define("rEditor/pagesMenu/emptyPagesAndPopups/emptyPagesAndPopups",["create-react-class","rEditor/pagesMenu/emptyPagesAndPopups/emptyPagesAndPopups.rt"],function(e,t){return e({displayName:"emptyPagesAndPopups",render:t})}),define("rEditor/pagesMenu/popups/quickActions/popupQuickActions.rt",["react","lodash","baseUI","symbols","util"],function(e,t,o,n,i){return function(){function t(e){this.props.actionSelected(this.props.popupData,e)}return e.createElement(o.dropDown.contextMenu,{shouldTranslate:!1,icon:"moreRegular",className:"quick-actions action-button",onClick:this.props.onClick,onChange:t.bind(this)},e.createElement(o.dropDown.option,{value:"settings"},e.createElement(n.symbol,{name:"qaPopupSettings"}),e.createElement("span",{className:"qa-label"},i.translate("Pages_Actions_Popups_Settings"))),e.createElement(o.dropDown.option,{value:"startRename"},e.createElement(n.symbol,{name:"quickActionsRename"}),e.createElement("span",{className:"qa-label"},i.translate("Pages_Actions_Page_Rename"))),e.createElement(o.dropDown.option,{value:"duplicate"},e.createElement(n.symbol,{name:"qaDuplicate"}),e.createElement("span",{className:"qa-label"},i.translate("Pages_Actions_Page_Duplicate"))),e.createElement(o.dropDown.option,{value:"remove"},e.createElement(n.symbol,{name:"qaDelete"}),e.createElement("span",{className:"qa-label"},i.translate("Pages_Actions_Page_Delete"))))}}),define("rEditor/pagesMenu/popups/quickActions/popupQuickActions",["lodash","create-react-class","prop-types","rEditor/pagesMenu/popups/quickActions/popupQuickActions.rt"],function(e,t,o,n){return t({displayName:"popupQuickActions",propTypes:{popupData:o.object.isRequired},render:n})}),define("rEditor/pagesMenu/pageNode/common/nodeContentNotPageMixin",["lodash"],function(e){return{showTooltip:function(){this.refs.infoIcon&&this.refs.infoIcon.showTooltip()},hideTooltip:function(){this.refs.infoIcon&&this.refs.infoIcon.hideTooltip()},getNotPageProps:function(){return e.assign({},this.props,{onClick:this.showTooltip,onMouseLeave:this.hideTooltip})}}}),define("rEditor/pagesMenu/pageNode/common/nodeContentForList",["create-react-class","core","rEditor/pagesMenu/pageNode/common/nodeContentNotPageMixin","rEditor/pagesMenu/pageNodeRenderers"],function(e,t,o,n){return e({displayName:"nodeContentForList",mixins:[t.mixins.editorAPIMixin,o],getDefaultProps:function(){return{structureType:"list"}},render:function(){var e=this.getEditorAPI().isDesktopEditor()?"desktop":"mobile";return n[e].mainMenu(this.props.dataSource,this.props.isSectionPage).call(this)}})}),define("rEditor/pagesMenu/pagesAndPopUpsList/pagesAndPopUpsList.rt",["react","lodash","pagesMenu","rEditor/pagesMenu/popups/quickActions/popupQuickActions","rEditor/pagesMenu/pageNode/common/nodeContentForList","baseUI","baseUILib","util"],function(e,t,o,n,i,a,r,s){return function(){function a(t,o){return e.createElement("li",{className:"item",key:t.id},e.createElement(i,this.getMenuItemProps(t)))}function l(t,i){return e.createElement("li",{className:"item",key:t.id},e.createElement(o.pageItem,this.getPopupItemProps(t),this.isShowPopupQuickActions()?e.createElement(n,{key:"popup-quick-actions",popupData:t,actionSelected:this.onActionPopUpSelected}):null))}return e.createElement("div",{className:"pages-and-popups-list"},e.createElement(r.CustomScroll,{ref:"customScroll",heightRelativeToParent:"100%"},this.isPagesVisible()?e.createElement("section",{className:"list list-of-pages",key:"list-of-pages"},e.createElement("h1",{className:"list-label"},s.translate("POPUPS_SiteStructure_Panel_Pages")),e.createElement.apply(this,["ul",{className:"popups-list"},t.map(this.props.menuItemsList,a.bind(this))])):null,this.isPopUpsVisible()?e.createElement("section",{className:"list list-of-pop-ups",key:"list-of-popups"},e.createElement("h1",{className:"list-label"},s.translate("POPUPS_SiteStructure_Panel_Popups")),e.createElement.apply(this,["ul",{className:"pages-list"},t.map(this.props.popupsList,l.bind(this))])):null))}}),define("rEditor/pagesMenu/quickActionsPopupsMixin",["lodash","core","pagesMenu"],function(e,t,o){var n,i=o.pageMenuItemHelpers;return n={settings:function(){var e=this.getEditorAPI(),t=e.pages.popupPages.getPopupContainer();e.selection.selectComponentByCompRef(t),e.openComponentPanel("settingsPanel",{initiatorName:"quickActions"})},startRename:function(e,t){this.props.editedItemIdLink.requestChange(t.id)},rename:function(e,t,o){i.renamePage(e,t,o),this.props.editedItemIdLink.requestChange(null)},duplicate:function(e,t){i.duplicatePopup(e,t,function(e){this.props.closeSettingsPanel(),this.props.editedItemIdLink.requestChange(e)}.bind(this))},remove:function(e,o){i.removePopup(e,o.id),e.bi.event(t.bi.events.topbar.pages.page_or_pop_up_deleted,{page_or_popup:"pop up",page_popup_string_id:o.id,page_popup_name:o.title})}},{onActionPopUpSelected:function(t,o,i){e.isFunction(n[o])&&n[o].call(this,this.getEditorAPI(),t,i)}}}),define("rEditor/pagesMenu/navigateToMixin",["core"],function(e){return{navigateToPageById:function(t,o){var n=this.getEditorAPI();(n.documentServices.pages.getFocusedPageId()!==t||o)&&(n.pages.navigateToAndScroll(t,o,n.applyPreviewScrollToEditorScroll),n.bi.event(e.bi.events.topbar.pages.top_bar_PAGES_navigate_to_page,{page_id:t}))},scrollToAnchor:function(e){var t=e.pageId&&e.pageId.replace("#","");this.navigateToPageById(t,e.anchorDataId)}}}),define("rEditor/pagesMenu/pagesAndPopUpsList/pagesAndPopUpsList",["create-react-class","prop-types","lodash","core","rEditor/pagesMenu/pagesAndPopUpsList/pagesAndPopUpsList.rt","rEditor/pagesMenu/quickActionsMenuItemsMixin","rEditor/pagesMenu/quickActionsPopupsMixin","rEditor/pagesMenu/navigateToMixin"],function(e,t,o,n,i,a,r,s){return e({displayName:"pagesAndPopUpsList",mixins:[n.mixins.editorAPIMixin,a,r,s],propTypes:{popupsList:t.array.isRequired,menuItemsList:t.array.isRequired,openSettingsPanel:t.func.isRequired,closeSettingsPanel:t.func.isRequired,openSpecialPageMenu:t.func.isRequired,closeSpecialPageMenu:t.func.isRequired,isSectionPage:t.func.isRequired,editedItemIdLink:t.object.isRequired,selectedItemInfoLink:t.object.isRequired,changeSelectedMenuItem:t.func.isRequired,openSectionPageMenu:t.func.isRequired},onRenameDone:function(e,t){this.onActionPopUpSelected(e,"rename",t)},isShowPopupQuickActions:function(){return this.getEditorAPI().isDesktopEditor()},isPagesVisible:function(){return this.props.menuItemsList.length},isPopUpsVisible:function(){return this.props.popupsList.length},setSelectedPage:function(e){e.type.isPage?this.navigateToPageById(e.pageData.id):e.type.isLink&&"AnchorLink"===e.type.raw&&this.scrollToAnchor(e.link),this.props.changeSelectedMenuItem(e),this.props.selectedItemInfoLink.requestChange({id:e.id,isPageOrPopup:e.isPage})},getPopupItemProps:function(e){return{value:e.title,label:e.title,onChange:o.partial(this.onRenameDone,e),isVisible:!0,isSelected:this.props.selectedItemInfoLink.value.id===e.id,editModeLink:this.linkEditMode(e.id),onClick:o.partial(this.onPopUpClick,e),onContextMenu:this.props.setSelected}},getMenuItemProps:function(e){return{editorAPI:this.getEditorAPI(),dataSource:e,editedPageIdLink:this.props.editedItemIdLink,isSelected:this.props.selectedItemInfoLink.value.id===e.id,onActionSelected:this.onActionMenuItemsSelected,setSelected:this.setSelectedPage.bind(this,e),isSectionPage:this.props.isSectionPage(e),actions:{openSettingsPanel:this.props.openSettingsPanel,closeSettingsPanel:this.props.closeSettingsPanel,openSubPagesMenu:this.props.openSectionPageMenu}}},onPopUpClick:function(e,t){t.stopPropagation(),this.getEditorAPI().pages.popupPages.open(e.id),this.props.closeSettingsPanel(),this.props.selectedItemInfoLink.requestChange({id:e.id,isPageOrPopUp:!0})},linkEditMode:function(e){return{value:e===this.props.editedItemIdLink.value,requestChange:function(t){this.props.editedItemIdLink.requestChange(t?e:null)}.bind(this)}},render:i})}),define("rEditor/pagesMenu/filterPagesAndPopups/filterPagesAndPopups.rt",["react","lodash","rEditor/pagesMenu/subPages/subPages","rEditor/pagesMenu/emptyPagesAndPopups/emptyPagesAndPopups","rEditor/pagesMenu/pagesAndPopUpsList/pagesAndPopUpsList"],function(e,t,o,n,i){return function(){function a(){var a=this.getEditorAPI().getUserPreferences();return e.createElement("div",{className:"filtered-pages-and-popups"},this.isSpecialPagesPanelOpen()?null:e.createElement("div",{className:"without-special-page",key:"list-of-filtered-pages-and-popups"},this.isHasSomeItems()?e.createElement(i,t.assign({},{key:"filtered-pages-and-popups-not-empty"},this.getProps())):null,this.isHasSomeItems()?null:e.createElement(n,{key:"filtered-pages-and-popups-empty"})),this.isSpecialPagesPanelOpen()?e.createElement(o,{key:"subpages-menu",userPrefs:a,sectionMenuItem:this.state.selectedSectionPage,openSettingsPanel:this.props.openSpecialPageMenu,closeSubPagesMenu:this.closeSpecialPagesMenu,selectedMenuItemChanged:this.props.changeSpecialPage}):null)}return a.apply(this,[])}}),define("rEditor/pagesMenu/filterPagesAndPopups/filterPagesAndPopups",["react","create-react-class","prop-types","core","lodash","rEditor/pagesMenu/specialPagesMenuMixin","rEditor/pagesMenu/filterPagesAndPopups/filterPagesAndPopups.rt"],function(e,t,o,n,i,a,r){return t({displayName:"filterPagesAndPopups",mixins:[e.addons.LinkedStateMixin,a],propTypes:{popupsList:o.array.isRequired,menuItemsList:o.array.isRequired,openSettingsPanel:o.func.isRequired,closeSettingsPanel:o.func.isRequired,openSpecialPageMenu:o.func.isRequired,closeSpecialPageMenu:o.func.isRequired,isSectionPage:o.func.isRequired,editedItemIdLink:o.object.isRequired,selectedItemInfoLink:o.object.isRequired,changeSelectedMenuItem:o.func.isRequired},isHasSomeItems:function(){return 0!==this.props.menuItemsList.length||0!==this.props.popupsList.length},getProps:function(){return i.assign({},this.props,{openSectionPageMenu:this.openSpecialPagesMenu})},render:r})}),define("rEditor/pagesMenu/mainMenuTreeState",["lodash"],function(e){function t(e,t){a[e]=Boolean(t)}function o(e,t){return a.hasOwnProperty(e)?a[e]:t||!1}function n(i){e.forEach(i,function(e){e.isCollapsed=o(e.id),e.items.length>0?n(e.items):e.isCollapsed&&(e.isCollapsed=!1,t(e.id,!1))})}function i(n,i){return n.isCollapsed=o(n.id,i),e.get(n,"items.length",0)<=0&&n.isCollapsed&&(n.isCollapsed=!1,t(n.id,!1)),n}var a={};return{setMenuItemCollapsed:t,reflectStateToMenuTree:n,reflectStateToMenuItem:i}}),define("rEditor/pagesMenu/addPageMenuPanel/addPageMenuPanel.rt",["react","lodash","symbols","baseUI","util","experiment"],function(e,t,o,n,i,a){return function(){function t(){var t=i.translate;return e.createElement("ul",{className:"tooltip-pages-add-menu"},e.createElement("li",{},e.createElement("div",{onClick:this.props.addPage},e.createElement("span",{className:"icon"},e.createElement(o.symbol,{name:"addPagePanelPage"})),e.createElement("div",{},e.createElement("span",{className:"title"},t("Pages_Menu_Add_Page_Title")),e.createElement("span",{className:"description"},t("Pages_Menu_Add_Page_Text"))))),a.isOpen("dpages")&&this.props.isEditorInDeveloperMode?e.createElement("li",{key:"dynamic_page"},e.createElement("div",{onClick:this.props.addDynamicPage},e.createElement("span",{className:"icon"},e.createElement(o.symbol,{name:"addPagePanelDynamicPage"})),e.createElement("div",{},e.createElement("span",{className:"title"},"\n                    ",t("Platform_Pages_Menu_Add_Dynamic_Page_Title"),"\n                "),e.createElement("span",{className:"description"},t("Platform_Pages_Menu_Add_Dynamic_Page_Text"))))):null,e.createElement("li",{},e.createElement("div",{onClick:this.props.addLink},e.createElement("span",{className:"icon"},e.createElement(o.symbol,{name:"addPagePanelLink"})),e.createElement("div",{},e.createElement("span",{className:"title"},"\n                    ",t("Pages_Menu_Add_Link_Title"),"\n                    ",e.createElement(n.tooltip,{value:"Pages_Menu_Add_Link_Tooltip",width:"228",alignment:n.uiConstants.TOOLTIP.ALIGNMENT.TOP},e.createElement("div",{className:"title-help-icon"},e.createElement(o.symbol,{name:"infoSmall"})))),e.createElement("span",{className:"description"},t("Pages_Menu_Add_Link_Text"))))),e.createElement("li",{},e.createElement("div",{onClick:this.props.addDropdown},e.createElement("span",{className:"icon"},e.createElement(o.symbol,{name:"addPagePanelDropDown"})),e.createElement("div",{},e.createElement("span",{className:"title"},"\n                    ",t("Pages_Menu_Add_Dropdown_Title"),"\n                    ",e.createElement(n.tooltip,{value:this.getTooltipValue(),width:"240px",alignment:n.uiConstants.TOOLTIP.ALIGNMENT.TOP},e.createElement("div",{className:"title-help-icon"},e.createElement(o.symbol,{name:"infoSmall"})))),e.createElement("span",{className:"description"},t("Pages_Menu_Add_Dropdown_Text"))))))}return t.apply(this,[])}}),define("rEditor/pagesMenu/addPageMenuPanel/addPageMenuPanel",["create-react-class","prop-types","lodash","baseUI","rEditor/pagesMenu/addPageMenuPanel/addPageMenuPanel.rt"],function(e,t,o,n,i){return e({displayName:"addPageMenuPanel",mixins:[],propTypes:{addPage:t.func.isRequired,addLink:t.func.isRequired,addDropdown:t.func.isRequired,addDynamicPage:t.func,isEditorInDeveloperMode:t.bool},getTooltipValue:function(){return{classPath:"baseUI.popoverTemplates.imageAndTextTooltip",props:{image:"addDropDownHint",imageContainerStyle:{backgroundColor:"#17a8a4"},text:"Pages_Menu_Add_Dropdown_Tooltip"}}},render:i})}),define("rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsUtils",["util"],function(e){var t={none:"Pages_Menu_Transitions_None",swipeHorizontalFullScreen:"Pages_Menu_Transitions_SwipeH_Selected",swipeVerticalFullScreen:"Pages_Menu_Transitions_SwipeV_Popup",crossfade:"Pages_Menu_Transitions_CrossFade",outIn:"Pages_Menu_Transitions_OutIn"},o={outIn:"outIn",crossfade:"crossfade",shrinkfade:"crossfade",swipeHorizontal:"swipeHorizontalFullScreen",swipeHorizontalFullScreen:"swipeHorizontalFullScreen",swipeVertical:"swipeVerticalFullScreen",swipeVerticalFullScreen:"swipeVerticalFullScreen",none:"none"};return{calcNewIdFromLegacy:function(e){return o[e]?o[e]:o.none},getTransitionLabelKey:function(e){var o=this.calcNewIdFromLegacy(e);return t[o]},getTransitionLabelTranslated:function(t){return e.translate(this.getTransitionLabelKey(t))}}}),define("rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsPanel.rt",["react","lodash","baseUI","core","symbols","util","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsUtils","baseUILib"],function(e,t,o,n,i,a,r,s){return function(){return e.createElement("section",{className:"page-transitions",tabIndex:"0"},e.createElement(s.PanelHeader,{className:"dark",onClose:this.close,onHelp:this.helpClicked},e.createElement("span",{},a.translate("Pages_Menu_Transitions_Title"))),e.createElement("div",{className:"content"},e.createElement(o.thumbnails,{className:"with-labels",maxThumbsPerRow:"3",options:this.props.transitionsToShow,value:r.calcNewIdFromLegacy(this.getEditorAPI().pages.transitions.get()),onChange:this.onTransitionChange})),e.createElement("i",{className:"triangle"}))}}),define("rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsPanel",["reactDOM","create-react-class","prop-types","lodash","baseUI","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsPanel.rt","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsUtils","core","util"],function(e,t,o,n,i,a,r,s,l){var c=i.tooltipManager,p=[{id:"none",symbolName:"transition-none"},{id:"swipeHorizontalFullScreen",symbolName:"transition-pages-horizontal"},{id:"swipeVerticalFullScreen",symbolName:"transition-pages-vertical"},{id:"crossfade",symbolName:"transition-pages-crossfade"},{id:"outIn",symbolName:"transition-pages-inout"}];return t({displayName:"pageTransitionsPanel",mixins:[s.mixins.editorAPIMixin,l.outerClickMixin],render:a,propTypes:{onClose:o.func},getDefaultProps:function(){return{transitionsToShow:n.map(p,function(e){return{value:e.id,label:r.getTransitionLabelKey(e.id),symbolName:e.symbolName}})}},componentDidMount:function(){e.findDOMNode(this).focus()},onTransitionChange:function(e){this.getEditorAPI().pages.transitions.set(e),this.getEditorAPI().bi.event(s.bi.events.topbar.pages.top_bar_PAGES_page_transition_selected_click,{category:e}),this.performAnimationSimulation()},flattenMenuData:function(e){var t=[];return n.forEach(e.mainMenu.getMenu(!0),function(e){t.push(e),t=t.concat(e.items||[])}),t},performAnimationSimulation:function(){var e=this.getEditorAPI(),t=e.documentServices.pages.getPrimaryPageId(),o=n.filter(this.flattenMenuData(e),function(e){return!!e.link&&"PageLink"===e.link.type}),i=n.map(n.map(o,"link"),"pageId"),a=i.indexOf("#"+t),r=a+1;a===i.length-1&&(r=0),r!==a&&e.pages.navigateTo(i[r].slice(1))},helpClicked:function(){var e=this.getEditorAPI(),t={panel_name:this.props.id,origin:s.constants.BI.HELP.ORIGIN.PAGES,learn_more:!1};e.panelManager.openHelpCenter("dfc95824-954a-4d20-aad2-7971d3fbdb98",null,t),c.hide(this.props.id)},close:function(){this.props.onClose&&this.props.onClose(),c.hide(this.props.id)},onOuterClick:function(){this.close()}})}),define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPageMixin",["lodash","core","rEditor/pagesMenu/mainMenuTreeState","rEditor/pagesMenu/navigateToMixin","experiment"],function(e,t,o,n,i){function a(t){return e.reduce(t||[],function(e,t){return t.isCollapsed||(e+=a(t.items)),e+1},0)}function r(t,o){return e.forEach(t,function(e,t){e.items&&e.items.length&&(e.items=r(e.items,o));for(var n=0;n<o.length;n+=1)e=o[n](e,t)}),t}function s(e,t){return e.position=t,e}return{mixins:[t.mixins.editorAPIMixin,n],onPageToggled:function(e,t){var n=e.props.dataSource.id;o.setMenuItemCollapsed(n,t),this.forceUpdate()},linkPage:function(){var t=this.props.selectedItemInfoLink.value,o=Boolean(t.isPageOrPopup),n=t.id;return{value:{pageId:o?n:null,menuItemId:o?null:n,isPage:o},requestChange:function(t){this.props.selectedItemInfoLink.requestChange({id:t.type.isPage?e.get(t.pageData,"id"):t.id,isPageOrPopup:t.type.isPage}),this.props.changeSelectedMenuItem(t),t.type.isPage?this.navigateToPageById(t.pageData.id):t.type.isLink&&"AnchorLink"===t.type.raw&&this.scrollToAnchor(t.link)}.bind(this)}},closePanel:function(){this.props.onClose()},shouldShrinkMenu:function(){return a(this._menuTree)>17},equalityComparer:function(e,t){return t.isPage&&e.pageData&&e.pageData.id===t.pageId||t.menuItemId===e.id},getTreeDockerScrollTop:function(){return this.refs.pagesTree.getScrollTop()},renderTemplate:function(e){var t=this.getEditorAPI(),n=t.documentServices.pages.getPagesData(),a=this.props.menuItemsTree,l=!!i.isOpen("pagesPanelOpenCollapsed")&&n.length>40;if(a=r(a,[function(e){return o.reflectStateToMenuItem(e,l)},s]),this._menuTree=a,i.isOpen("dpages")){var c=t.pages.dynamicPages.getMenuItems();c=r(c,[function(e){return o.reflectStateToMenuItem(e,l)}]),this._menuDynamicTree=c}return e.call(this)}}}),define("rEditor/pagesMenu/pagesTree/pagesTree.rt",["react","lodash","baseUI","baseUILib","experiment"],function(e,t,o,n,i){return function(){return e.createElement(n.CustomScroll,{ref:"customScroll"},e.createElement(o.treeView,t.assign({},{className:this.getTreeViewClasses(),dataSource:this.props.pagesList,collapsedSelector:"isCollapsed",editorAPI:this.getEditorAPI(),isRoot:!0},this.filteredProps())),i.isOpen("dpages")?e.createElement(o.treeView,t.assign({},{key:"dynamicPagesTree",className:"dynamic-pages",dataSource:this.props.dynamicPagesList,collapsedSelector:"isCollapsed",editorAPI:this.getEditorAPI(),isRoot:!0},this.filteredProps())):null)}}),define("rEditor/pagesMenu/pagesTree/pagesTree",["reactDOM","lodash","create-react-class","prop-types","core","rEditor/pagesMenu/pagesTree/pagesTree.rt"],function(e,t,o,n,i,a){return o({displayName:"pagesTree",mixins:[i.mixins.editorAPIMixin],propTypes:{pagesList:n.any.isRequired,dynamicPagesList:n.any.isRequired},filteredProps:function(){return t.omit(this.props,["dynamicPagesList","pagesList","dataSource","className","nodeTemplate","collapsedSelector","editorAPI"])},getScrollTop:function(){return this.refs.customScroll.getScrollTop()},scrollToSelectedNode:function(){this._scrollToSelectedNode=!0},componentDidUpdate:function(){var t,o,n,i,a=NaN;this._scrollToSelectedNode&&(this._scrollToSelectedNode=!1,(o=(t=e.findDOMNode(this)).querySelector(".pages-tree-item.selected"))&&(n=t.getBoundingClientRect(),(i=o.getBoundingClientRect()).top<n.top?a=this.getScrollTop()+(i.top-n.top):i.bottom>n.bottom&&(a=this.getScrollTop()+(i.bottom-n.bottom)),isNaN(a)||this.refs.customScroll.updateScrollPosition(Math.max(0,a))))},getTreeViewClasses:function(){return"pages-tree "},render:a})}),define("rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopMainMenu",["create-react-class","core","rEditor/pagesMenu/pageNode/common/nodeContentNotPageMixin","rEditor/pagesMenu/pageNodeRenderers"],function(e,t,o,n){return e({displayName:"nodeContentDesktopMainMenu",mixins:[t.mixins.editorAPIMixin,o],render:function(){var e=this.props.dataSource;return n.desktop.mainMenu(e,this.props.isSectionPage(e)).call(this)}})}),define("rEditor/pagesMenu/pagesMenuContextMenu/pagesMenuContextMenu.rt",["react","lodash","rEditor/rootComps/rightClickMenu/menuItems/rcmItemBasic","util"],function(e,t,o,n){return function(){function i(){var i=n.translate;return e.createElement("div",{key:"pagesMenuContextMenuContainer",style:{position:"absolute",top:this.state.position.y,left:this.state.position.x},className:t({rightClickMenu:!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("ul",{},e.createElement(o,{className:t({"item-basic":!0,hoverable:!0,rightClickItemPageMenu:!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"pagesMenuContextMenuAddPage",label:i(this.addPageItem.label),shouldTranslate:!1,item:this.addPageItem,onClick:this.addPageClickHandler}),e.createElement(o,{className:t({"item-basic":!0,hoverable:!0,rightClickItemPageMenu:!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"pagesMenuContextMenuAddLink",label:i(this.addLinkItem.label),shouldTranslate:!1,item:this.addLinkItem,onClick:this.addLinkClickHandler}),e.createElement(o,{className:t({"item-basic":!0,hoverable:!0,rightClickItemPageMenu:!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"pagesMenuContextMenuAddDropdown",label:i(this.addDropdownItem.label),shouldTranslate:!1,item:this.addDropdownItem,onClick:this.addDropdownClickHandler})),e.createElement("ul",{},e.createElement(o,{className:t({"item-basic":!0,hoverable:!0,rightClickItemPageMenu:!0}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),key:"pagesMenuContextMenuChangeTransition",label:i(this.changeTransitionItem.label),shouldTranslate:!1,item:this.changeTransitionItem,onClick:this.changeTransitionClickHandler})))}return this.state.isContextMenuOpen?i.apply(this,[]):null}}),define("rEditor/pagesMenu/pagesMenuContextMenu/pagesMenuContextMenu",["create-react-class","prop-types","core","lodash","baseUI","rEditor/pagesMenu/pagesMenuContextMenu/pagesMenuContextMenu.rt"],function(e,t,o,n,i,a){var r=i.tooltipManager;return e({displayName:"pagesMenuContextMenu",mixins:[o.mixins.editorAPIMixin],propTypes:{addPage:t.func,addLink:t.func,addDropdown:t.func,transitionPanelId:t.string},addPageItem:{label:"Pages_Menu_Context_Menu_Add_Page",enabled:!0},addLinkItem:{label:"Pages_Menu_Context_Menu_Add_Link",enabled:!0},addDropdownItem:{label:"Pages_Menu_Context_Menu_Add_Dropdown",enabled:!0},changeTransitionItem:{label:"Pages_Menu_Context_Menu_Change_Transition",enabled:!0},closeContextMenu:function(){this.setState({isContextMenuOpen:!1})},getInitialState:function(){return{isContextMenuOpen:!1,position:null}},show:function(e){this.setState({isContextMenuOpen:!0,position:e});var t={origin:"right_click"};this.getEditorAPI().bi.event(o.bi.events.topbar.pages.top_bar_PAGES_Add_pages_click,t)},addPageClickHandler:function(){this.closeContextMenu();var e={origin:"right_click"};this.props.addPage(void 0,e)},addLinkClickHandler:function(){this.closeContextMenu();var e={origin:"right_click"};this.props.addLink(void 0,e)},addDropdownClickHandler:function(){this.closeContextMenu();var e={origin:"right_click"};this.props.addDropdown(void 0,e)},changeTransitionClickHandler:function(){this.closeContextMenu(),r.show(this.props.transitionPanelId);var e={origin:"right_click"};this.getEditorAPI().bi.event(o.bi.events.topbar.pages.top_bar_PAGES_page_transition_click,e)},render:a})}),define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesDesktop.rt",["react","lodash","baseUI","core","symbols","util","rEditor/pagesMenu/pageNode/common/nodeContentSubPage","rEditor/pagesMenu/pagesTree/pagesTree","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsUtils","rEditor/pagesMenu/pageNode/desktop/nodeContentDesktopMainMenu","rEditor/pagesMenu/pagesMenuContextMenu/pagesMenuContextMenu","experiment"],function(e,t,o,n,i,a,r,s,l,c,p,d){return function(){function n(e,t,o){this.movePage(o,this.props.menuItemsTree)}function r(){var r=this.getEditorAPI(),u=a.translate;return e.createElement("div",{className:t({"pages-menu":!0,"pages-panel-settings-opened":!!this.state.menuItemIdToShowSettingsFor}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("div",{className:t({"pages-tree-container":!0,"disable-drag":this.hasEditedPages()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onMouseDown:this.mouseDownHandler,onContextMenu:this.rightClickHandler},e.createElement(o.treeDocker,{className:t({"pages-tree-docker":!0,"pages-tree-shrinked":this.shouldShrinkMenu()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" "),onNodeMoved:n.bind(this,r,u),treeClass:"pages-tree",treeNodeClass:"pages-tree-node",treeNodeLabelClass:"pages-tree-item",draggedClass:"rotated",previewClass:"shadow",cantBeChildClass:"cant-be-child",isDragAvailable:!this.hasEditedPages(),scrollTopGetter:this.getTreeDockerScrollTop,collapsedClass:"tree-collapsed"},e.createElement(s,{ref:"pagesTree",nodeContent:c,structureType:"tree",equalityComparer:this.equalityComparer,pagesList:this._menuTree,dynamicPagesList:d.isOpen("dpages")?this._menuDynamicTree:void 0,onNodeToggled:this.onPageToggled,isSectionPage:this.props.isSectionPage,actions:{openSettingsPanel:this.props.openSettingsPanel,openSubPagesMenu:this.props.openSubPagesMenu},onActionSelected:this.onActionMenuItemsSelected,editedPageIdLink:this.props.editedMenuItemIdLink,valueLink:this.linkPage()}))),e.createElement("footer",{},e.createElement(o.tooltip,{value:this.getAddPageMenu(),alignment:"right",width:"296",marginsFromWindow:"75",openTriggers:[o.uiConstants.TOOLTIP.TRIGGERS.CLICK],closeTriggers:[o.uiConstants.TOOLTIP.TRIGGERS.OUTER_CLICK],onClose:this.onAddPageMenuClose,id:"addPageMenuPopoverId",className:"popover-add-page-menu"},e.createElement(o.button,{label:"Pages_Menu_Add_Button",icon:"addPage",onClick:this.reportClick("add"),hintId:"Pages_NewPage"})),e.createElement(o.tooltip,{value:this.getPageTransitionsPanel(),alignment:"right",width:"296",marginsFromWindow:"0",openTriggers:[o.uiConstants.TOOLTIP.TRIGGERS.CLICK],closeTriggers:[o.uiConstants.TOOLTIP.TRIGGERS.OUTER_CLICK],id:this.getPageTransitionsPanelId()},e.createElement("div",{className:"page-transition",onClick:this.reportClick("transition")},e.createElement("div",{className:"icon"},e.createElement(i.symbol,{name:"truck"})),e.createElement("div",{},e.createElement("span",{},u("Pages_Menu_Transitions_Caption")),e.createElement(o.button,{className:"btn-text",label:l.getTransitionLabelKey(r.pages.transitions.get())}))))),e.createElement(p,{addPage:this.addPage,addLink:this.addLink,addDropdown:this.addDropdown,transitionPanelId:this.getPageTransitionsPanelId(),ref:"pagesMenuContextMenu"}))}return r.apply(this,[])}}),define("rEditor/pagesMenu/pagePanelContextMenu/pagePanelContextMenuMixin",[],function(){return{mouseDownHandler:function(){this.refs.pagesMenuContextMenu.closeContextMenu()},rightClickHandler:function(e){var t;"inner-container"===e.target.className&&(e.preventDefault(),t=e.target.getBoundingClientRect(),this.refs.pagesMenuContextMenu.closeContextMenu(),this.refs.pagesMenuContextMenu.show({x:e.clientX-t.left,y:e.clientY-t.top}))}}}),define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesDesktop",["react","create-react-class","prop-types","core","lodash","baseUI","util","pagesMenu","rEditor/pagesMenu/mainMenuTreeState","rEditor/pagesMenu/addPageMenuPanel/addPageMenuPanel","rEditor/pagesMenu/pageTransitionsPanel/pageTransitionsPanel","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPageMixin","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesDesktop.rt","rEditor/pagesMenu/quickActionsMenuItemsMixin","rEditor/pagesMenu/pagePanelContextMenu/pagePanelContextMenuMixin","experiment"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m,g,f){function h(e,t,o){e.openLinkPanel({visibleSections:{NoLink:!1},hidePageLinks:!0,link:o,showAllPopups:!0,pageTabTitle:"LINK_PANEL_TAB_ANCHOR",pageTabPageDropDownTitle:"PLATFORM_LINK_MENU_PAGE_PAGE_OPTION",anchorTabPageDropDownTitle:"LINK_PANEL_PAGE_DROP_DOWN_PAGELINK_LABEL",title:"What do you want to link to?",callback:i.once(t)})}var b=s.pageMenuItemHelpers;return t({displayName:"mainMenuPagesDesktopPopups",mixins:[d,m,g],propTypes:{pageAdded:o.func,mainMenuTree:o.any,onActionPagesSelected:o.func,selectedItemInfoLink:o.object},componentWillMount:function(){this.editorAPI=this.getEditorAPI(),this.dataBindingAppData=this.editorAPI.documentServices.platform.getAppDataByAppDefId(this.editorAPI.documentServices.platform.editorApps.DATA_BINDING.appDefId)},biData:{page:{category:"page"},link:{category:"link"},dropdown:{category:"dropdown menu"}},getInitialState:function(){return{isPageTransitionPanelOpened:!1}},movePage:function(e,t){var o={items:t},i=e.from.findIn(o,"items"),a=i.id,r=e.to.parent().findIn(o,"items").id||null,s=e.to.findIn(o,"items"),c=s?s.position:e.to.atRight(),p=this.getEditorAPI();a&&(r&&l.setMenuItemCollapsed(r,!1),p.mainMenu.moveItem(a,r,c),p.history.add("moving a page"),p.documentServices.waitForChangesApplied(function(e){r&&this.refs.pagesTree.scrollToSelectedNode(),this.refs.pagesTree.props.valueLink.requestChange(e)}.bind(this,i)),p.bi.event(n.bi.events.topbar.pages.top_bar_PAGES_menu_drag),r&&1===e.from.length()?p.bi.event(n.bi.events.topbar.pages.top_bar_PAGES_menu_sub_page_created,{category:"drag"}):!r&&e.from.length()>1&&p.bi.event(n.bi.events.topbar.pages.top_bar_PAGES_menu_user_reverted_to_main_page,{category:"drag"}))},closePageTransitionsPanel:function(){this.setState({isPageTransitionPanelOpened:!1})},_onAddPageMenuCloseHandler:i.noop,onAddPageMenuClose:function(){this._onAddPageMenuCloseHandler(this.props.pageAdded||i.noop),this._onAddPageMenuCloseHandler=i.noop},addPage:function(){var e=this.getEditorAPI(),t=r.translate("Pages_Menu_Add_New_Page"),o=b.addPage(e,t,null,this.props.selectedItemInfoLink.value.id||e.mainMenu.getMenuItemIdForCurrentPage(),function(e,t){this.renameMenuItemById(t),this.props.selectedItemInfoLink.requestChange({id:t,isPageOrPopUp:!0})}.bind(this)),i=(e.documentServices.generalInfo.urlFormat.isSlash()?e.pages.data.pageUriSEO:s.utils).convertPageNameToUrl(t);e.pages.data.update(o.id,{pageUriSEO:i}),e.bi.event(n.bi.events.topbar.pages.top_bar_PAGES_Add_pages_expand_menu_selection_click,this.biData.page)},addDynamicPage:function(){f.isOpen("dpages")&&this.editorAPI.documentServices.platform.notifyApplication(this.dataBindingAppData.applicationId,{eventType:"addDynamicPageClicked",eventPayload:{origin:"mainMenuPageDesktop"}})},addLink:function(){var e=this.getEditorAPI(),t=function(t){var o=e.data.createItem(t.type);i.assign(o,i.omit(t,["type"])),b.addLink(e,o,r.translate("Pages_Menu_Add_New_Link"),this.props.selectedItemInfoLink.value.id||e.mainMenu.getMenuItemIdForCurrentPage(),function(e){this.renameMenuItemById(e),this.props.selectedItemInfoLink.requestChange({id:e,isPageOrPopUp:!0})}.bind(this))}.bind(this);h(e,t),e.bi.event(n.bi.events.topbar.pages.top_bar_PAGES_Add_pages_expand_menu_selection_click,this.biData.link)},addDropdown:function(){var e=this.getEditorAPI();b.addDropdown(e,r.translate("Pages_Menu_Add_New_Category"),this.props.selectedItemInfoLink.value.id||e.mainMenu.getMenuItemIdForCurrentPage(),function(e){this.renameMenuItemById(e),this.props.selectedItemInfoLink.requestChange({id:e,isPageOrPopUp:!0})}.bind(this)),e.bi.event(n.bi.events.topbar.pages.top_bar_PAGES_Add_pages_expand_menu_selection_click,this.biData.dropdown)},_setAddPageHandlerAndHideTooltip:function(){this._onAddPageMenuCloseHandler=this.addPage,a.tooltipManager.hide("addPageMenuPopoverId",!0)},_setAddLinkHandlerAndHideTooltip:function(){this._onAddPageMenuCloseHandler=this.addLink,a.tooltipManager.hide("addPageMenuPopoverId",!0)},_setAddDropdownHandlerAndHideTooltip:function(){this._onAddPageMenuCloseHandler=this.addDropdown,a.tooltipManager.hide("addPageMenuPopoverId",!0)},_setAddDynamicPageHandlerAndHideTooltip:function(){this._onAddPageMenuCloseHandler=this.addDynamicPage,a.tooltipManager.hide("addPageMenuPopoverId",!0)},getAddPageMenu:function(){return e.createElement(c,{addPage:this._setAddPageHandlerAndHideTooltip,addLink:this._setAddLinkHandlerAndHideTooltip,addDropdown:this._setAddDropdownHandlerAndHideTooltip,isEditorInDeveloperMode:this.isEditorInDeveloperMode(),addDynamicPage:this._setAddDynamicPageHandlerAndHideTooltip})},getPageTransitionsPanel:function(){var t=this.getEditorAPI();return e.createElement(p,{biEvent:t.bi.event,userPrefs:t.getUserPreferences(),id:this.getPageTransitionsPanelId()})},isEditorInDeveloperMode:function(){return this.getEditorAPI().developerMode.isEnabled()},getPageTransitionsPanelId:function(){return"getPageTransitionsPanelId"},hasEditedPages:function(){return Boolean(this.props.editedMenuItemIdLink.value)},renameMenuItemById:function(e){this.props.editedMenuItemIdLink.requestChange(e)},reportClick:function(e){var t=this.getEditorAPI();switch(e){case"add":return function(){t.bi.event(n.bi.events.topbar.pages.top_bar_PAGES_Add_pages_click)};case"transition":return function(){t.bi.event(n.bi.events.topbar.pages.top_bar_PAGES_page_transition_click)}}},render:function(){return this.renderTemplate(u)}})}),define("rEditor/pagesMenu/pageNode/mobile/nodeContentMobileMainMenu",["create-react-class","core","rEditor/pagesMenu/pageNode/common/nodeContentNotPageMixin","rEditor/pagesMenu/pageNodeRenderers"],function(e,t,o,n){return e({displayName:"nodeContentMobileMainMenu",mixins:[t.mixins.editorAPIMixin,o],render:function(){var e=this.props.dataSource;return n.mobile.mainMenu(e,this.props.isSectionPage(e)).call(this)}})}),define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesMobile.rt",["react","lodash","baseUI","core","symbols","util","rEditor/pagesMenu/pagesTree/pagesTree","rEditor/pagesMenu/pageNode/mobile/nodeContentMobileMainMenu","experiment"],function(e,t,o,n,i,a,r,s,l){return function(){return e.createElement("div",{className:"pages-menu"},e.createElement("div",{className:t({"pages-tree-container":!0,"pages-tree-shrinked":this.shouldShrinkMenu()}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement(r,{ref:"pagesTree",structureType:"tree",nodeContent:s,pagesList:this._menuTree,dynamicPagesList:l.isOpen("dpages")?this._menuDynamicTree:void 0,equalityComparer:this.equalityComparer,onNodeToggled:this.onPageToggled,isSectionPage:this.props.isSectionPage,actions:{openSettingsPanel:this.props.openSettingsPanel,openSubPagesMenu:this.props.openSubPagesMenu,closeSettingsPanel:this.props.closeSettingsPanel},valueLink:this.linkPage()}),0===this.props.menuItemsTree.length?e.createElement("div",{key:"noPagesFoundSymbolContainer",className:"no-pages"},e.createElement(i.symbol,{name:"noPagesFound"}),e.createElement("div",{},a.translate("Pages_Menu_Empty_Title")),e.createElement("div",{},a.translate("Pages_Menu_Empty_Text"))):null))}}),define("rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesMobile",["create-react-class","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPageMixin","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesMobile.rt"],function(e,t,o){return e({displayName:"mainMenuPagesMobilePopups",mixins:[t],openSettingsPanel:function(e){this.props.closeSettingsPanel(),this.props.openSettingsPanel(e)},render:function(){return this.renderTemplate(o)}})}),define("rEditor/pagesMenu/popups/popupsList/popupsList.rt",["react","lodash","baseUI","baseUILib","pagesMenu","rEditor/pagesMenu/popups/quickActions/popupQuickActions"],function(e,t,o,n,i,a){return function(){function r(n,r){return e.createElement("li",{className:"page-node-list-item",key:n.id},e.createElement(i.pageItem,this.getPopupItemProps(n),this.isQuickActionsVisible()?e.createElement(a,{key:n.id+"-popup-item-quick-action-menu",popupData:n,onClick:t.partial(this.onClick,n.id),actionSelected:this.onActionPopUpSelected}):null,this.isPagesListHintVisible(n)?e.createElement("a",{href:"#",key:"pages-related-to-popup-"+n.id,className:"action-button"},e.createElement(o.infoIcon,{symbolName:"actionButtonInfo",shouldTranslate:!1,text:this.getHintWithRelatedPages(n),ref:"infoIcon"})):null))}return e.createElement("div",{className:"popups-list"},e.createElement("div",{className:"scroll-wrapper"},e.createElement(n.CustomScroll,{ref:"customScroll",heightRelativeToParent:"100%"},e.createElement.apply(this,["ul",{className:"page-node-list popups-list"},t.map(this.props.popupsList,r.bind(this))]))))}}),define("rEditor/pagesMenu/popups/popupsList/popupsList",["lodash","create-react-class","prop-types","core","util","rEditor/pagesMenu/quickActionsPopupsMixin","rEditor/pagesMenu/popups/popupsList/popupsList.rt"],function(e,t,o,n,i,a,r){return t({displayName:"popupList",mixins:[n.mixins.editorAPIMixin,i.translationMixin,a],propTypes:{popupsList:o.any.isRequired,selectedItemInfoLink:o.object,editedItemIdLink:o.object},getKey:function(e){return"popup-quick-action-menu"+e},onClick:function(e){var t=this.getEditorAPI();this.props.selectedItemInfoLink.requestChange({id:e,isPageOrPopUp:!0}),this.props.closeSettingsPanel(),t.pages.navigateTo(e,function(){t.selection.selectComponentByCompRef(t.pages.popupPages.getPopupContainer(e))}),t.bi.event(n.bi.events.topbar.pages.top_bar_PAGES_navigate_to_pop_up,{pop_up_id:e})},getPopupItemProps:function(t){return{value:t.title,label:t.title,onChange:e.partial(this.onRenameDone,t),isVisible:!0,isSelected:t.id===e.get(this.props,"selectedItemInfoLink.value.id"),editModeLink:this.linkEditMode(t.id),onClick:e.partial(this.onClick,t.id),onContextMenu:this.props.setSelected}},onRenameDone:function(e,t){this.onActionPopUpSelected(e,"rename",t)},linkEditMode:function(e){var t=this.props.editedItemIdLink;return{value:t&&t.value===e,requestChange:function(o){t&&t.requestChange(o?e:null)}}},filteredProps:function(){return e.omit(this.props,["pagesList","dataSource","className","nodeTemplate","collapsedSelector","editorAPI"])},isQuickActionsVisible:function(){return this.getEditorAPI().isDesktopEditor()},isPagesListHintVisible:function(e){var t=e.pagesListToShowOnLoad;return this.getEditorAPI().isDesktopEditor()&&(t.titles.length>0||t.showOnAllPages)},_formatMessageForFewPages:function(t){var o,n=t.length,i=this.getEditorAPI(),a=this.translateTemplate("Pages_Menu_Popup_Tooltip_Start_Section",{$PAGE_NAME:e.head(t)},i),r=this.translateTemplate("Pages_Menu_Popup_Tooltip_End_Section",{$PAGE_NAME:e.last(t)},i);return 1===n?o=a:2===n?o=a+" "+r:(o=e.reduce(e.slice(t,1,-1),e.bind(function(e,t){return e+" "+this.translateTemplate("Pages_Menu_Popup_Tooltip_Middle_Section",{$PAGE_NAME:t},i)},this),a),o+=" "+r),o},getHintWithRelatedPages:function(e){var t=e.pagesListToShowOnLoad.titles;return e.pagesListToShowOnLoad.showOnAllPages?this.translateIfNeeded("Pages_Menu_Popup_Tooltip_Set_To_All"):this._formatMessageForFewPages(t)},render:r})}),define("rEditor/pagesMenu/popups/popups/popups.rt",["react","lodash","baseUI","rEditor/pagesMenu/popups/popupsList/popupsList"],function(e,t,o,n){return function(){return e.createElement("div",{className:"popups-tab"},e.createElement(n,t.assign({},{className:"popups-list"},this.props)),this.isFooterHidden()?null:e.createElement("footer",{key:"popup-list-key"},e.createElement(o.button,{label:"POPUPS_SiteStructure_Panel_Button_Add",icon:"addPage",className:"control-button",onClick:this.onAddClick})))}}),define("rEditor/pagesMenu/popups/popups/popups",["lodash","react","create-react-class","prop-types","core","rEditor/pagesMenu/popups/popups/popups.rt"],function(e,t,o,n,i,a){return o({displayName:"popups",mixins:[i.mixins.editorAPIMixin,t.addons.LinkedStateMixin],propTypes:{popupsList:n.any.isRequired,selectedItemInfoLink:n.object.isRequired,editedItemIdLink:n.object.isRequired},onAddClick:function(){this.getEditorAPI().getUserPreferences().session.set("addPanelCategoryIdOnClose","popup"),this.getEditorAPI().leftBar.openAddPanel()},isFooterHidden:function(){return this.getEditorAPI().isMobileEditor()},render:a})}),define("rEditor/pagesMenu/unfilteredPagesAndPopups/unfilteredPagesAndPopups.rt",["react","lodash","rEditor/pagesMenu/subPages/subPages","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesDesktop","rEditor/pagesMenu/mainMenuPagesPopups/mainMenuPagesMobile","pagesMenu","baseUI","rEditor/pagesMenu/popups/popups/popups"],function(e,t,o,n,i,a,r,s){return function(){function a(e,o){var n=t.assign({},e,o);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(n.className=o.className+" "+e.className),n}return e.createElement("div",{className:"unfiltered-pages-and-popups"},this.isTabsVisible()?e.createElement(r.horizontalTabs,{key:"unfiltered-pages-popups-tabs",options:this.getTabs(),valueLink:this.props.unfilteredSelectedTabLink,className:"arrowed tabs-pages-and-popups"}):null,this.isMainMenuVisible()?e.createElement(n,a({className:"pages-tab",ref:"mainMenuPagesDesktop",key:"main-menu-pages-desktop",editedMenuItemIdLink:this.props.editedItemIdLink,openSettingsPanel:this.props.openSettingsPanel,closeSettingsPanel:this.props.closeSettingsPanel,openSubPagesMenu:this.openSpecialPagesMenu,onActionPagesSelected:this.onActionPagesSelected,selectedItemInfoLink:this.props.selectedItemInfoLink,changeSelectedMenuItem:this.props.changeSelectedMenuItem},this.props)):null,this.isMainMenuMobileVisible()?e.createElement(i,a({className:"pages-tab",ref:"mainMenuPagesMobile",key:"main-menu-pages-mobile",editedMenuItemIdLink:this.props.editedItemIdLink,openSettingsPanel:this.props.openSettingsPanel,closeSettingsPanel:this.props.closeSettingsPanel,openSubPagesMenu:this.openSpecialPagesMenu,onActionPagesSelected:this.onActionPagesSelected,selectedItemInfoLink:this.props.selectedItemInfoLink,changeSelectedMenuItem:this.props.changeSelectedMenuItem},this.props)):null,this.isSpecialPagesVisible()?e.createElement(o,{key:"subpages-menu",editedItemIdLink:this.props.editedItemIdLink,userPrefs:this.getUserPrefs(),sectionMenuItem:this.state.selectedSectionPage,openSettingsPanel:this.props.openSpecialPageMenu,closeSubPagesMenu:this.closeSpecialPagesMenu,selectedMenuItemChanged:this.props.changeSpecialPage}):null,this.isPopupsTabActive()?e.createElement(s,{key:"popups-tab",className:"popup-tab",closeSettingsPanel:this.props.closeSettingsPanel,popupsList:this.props.popupsList,editedItemIdLink:this.props.editedItemIdLink,onActionSelected:this.onActionPopUpSelected,selectedItemInfoLink:this.props.selectedItemInfoLink}):null)}}),define("rEditor/pagesMenu/unfilteredPagesAndPopups/unfilteredPagesAndPopups",["react","create-react-class","prop-types","core","rEditor/pagesMenu/specialPagesMenuMixin","rEditor/pagesMenu/unfilteredPagesAndPopups/unfilteredPagesAndPopups.rt"],function(e,t,o,n,i,a){var r=[{label:"POPUPS_SiteStructure_Panel_Pages",value:"pages"},{label:"POPUPS_SiteStructure_Panel_Popups",value:"popups"}];return t({displayName:"unfilteredPagesAndPopups",mixins:[e.addons.LinkedStateMixin,i],propTypes:{popupsList:o.array.isRequired,menuItemsTree:o.array.isRequired,openSettingsPanel:o.func.isRequired,closeSettingsPanel:o.func.isRequired,openSpecialPageMenu:o.func.isRequired,closeSpecialPageMenu:o.func.isRequired,isSectionPage:o.func.isRequired,editedItemIdLink:o.object.isRequired,selectedItemInfoLink:o.object.isRequired,unfilteredSelectedTabLink:o.object.isRequired},getTabs:function(){return r},isTabsVisible:function(){return this.props.popupsList.length>0},isMainMenuVisible:function(){return this.isPagesTabActive()&&this.getEditorAPI().isDesktopEditor()},isMainMenuMobileVisible:function(){return this.isPagesTabActive()&&this.getEditorAPI().isMobileEditor()},isSpecialPagesVisible:function(){return this.state.selectedSectionPage&&this.isPagesTabActive()},isPagesTabActive:function(){return 0===this.props.popupsList.length||"pages"===this.props.unfilteredSelectedTabLink.value},isPopupsTabActive:function(){return this.props.popupsList.length>0&&"popups"===this.props.unfilteredSelectedTabLink.value},getUserPrefs:function(){return this.getEditorAPI().getUserPreferences()},render:a})}),define("rEditor/rootComps/panels/pagesAndPopupsPanel.rt",["react","lodash","panels","util","pagesMenu","baseUI","experiment","core","rEditor/pagesMenu/filterPagesAndPopups/filterPagesAndPopups","rEditor/pagesMenu/unfilteredPagesAndPopups/unfilteredPagesAndPopups"],function(e,t,o,n,i,a,r,s,l,c){return function(){function t(){var t=n.translate,a=i.settingsPanels.desktop.mainMenu,p=i.settingsPanels.mobile.mainMenu,d=i.settingsPanels.desktop.subpage,u=i.settingsPanels.mobile.subpage,m=this.getFilter();return e.createElement(o.frames.pagesPanelFrame,{ref:"frame",panelName:this.props.panelName,title:t(this._panelTitle),helpId:this.getHelpId(),"}":!0},e.createElement("div",{className:"pages-panel-shadow"}),r.isOpen("pagesFirstTimeSteps")&&!r.isMultiValueExperimentOpen("editorHintsConfigs")&&this.getEditorAPI().isDesktopEditor()?e.createElement(s.lazyComponent,{key:"pagesPanelController",moduleName:"firstTimeExperience.pagesPanelController",target:this.state.firstPageItemNode,isPopupsTabSelected:"popups"===this.state.unfilteredSelectedTab}):null,this.isMainMenuDesktopOpened()?e.createElement(a,{key:"page-settings-panel",ref:"mainMenuDesktop",menuItem:this.state.menuItemToShowSettingsFor,activeTab:this.state.selectedSettingsTab,helpId:"2f65df85-2eba-4b41-a9bf-2a841a5e5a53",closeSettingsPanel:this.closeMainMenu,token:this.props.token,actions:{duplicate:this.duplicate,closeSettingsPanel:this.closeMainMenu}}):null,this.isMainMenuMobileOpened()?e.createElement(p,{key:"page-settings-panel",ref:"mainMenuMobile",menuItem:this.state.menuItemToShowSettingsFor,isDeveloperModeEnabled:this.isDeveloperModeEnabled(),helpId:"2f65df85-2eba-4b41-a9bf-2a841a5e5a53",closeSettingsPanel:this.closeMainMenu,actions:{duplicate:this.duplicate,closeSettingsPanel:this.closeMainMenu}}):null,this.isSpecialPagesDesktopMenuOpened()?e.createElement(d,{key:"page-settings-panel",ref:"pageSettingsPanelSubpages",menuItem:this.state.specialPage,closeSettingsPanel:this.closeSpecialPageMenu,actions:{openBlogManager:this.openBlogManager,openStoreManager:this.openStoreManager}}):null,this.isSpecialPagesMobileMenuOpened()?e.createElement(u,{key:"page-settings-panel",ref:"pageSettingsPanelSubpages",menuItem:this.state.specialPage,closeSettingsPanel:this.closeSpecialPageMenu,actions:{openBlogManager:this.openBlogManager,openStoreManager:this.openStoreManager}}):null,m?null:e.createElement(c,{key:"unfilteredPagesAndPopUps",ref:"unfilteredPagesAndPopUps",popupsList:this._popupsList,menuItemsTree:this._menuItemsTree,openSettingsPanel:this.openMainMenu,closeSettingsPanel:this.closeMainMenu,changeSelectedMenuItem:this.changeSelectedMenuItem,openSpecialPageMenu:this.openSpecialPageMenu,closeSpecialPageMenu:this.closeSpecialPageMenu,isSectionPage:this._isSectionPage,editedItemIdLink:this.linkState("editedItemId"),changeSpecialPage:this.changeSpecialPage,selectedItemInfoLink:this.linkState("selectedItemInfo"),unfilteredSelectedTabLink:this.linkUnfilteredSelectedTab()}),m?e.createElement(l,{key:"filterPagesAndPopups",ref:"filterPagesAndPopups",popupsList:this._popupsList,menuItemsList:this._menuItemsList,openSettingsPanel:this.openMainMenu,closeSettingsPanel:this.closeMainMenu,changeSelectedMenuItem:this.changeSelectedMenuItem,openSpecialPageMenu:this.openSpecialPageMenu,closeSpecialPageMenu:this.closeSpecialPageMenu,isSectionPage:this._isSectionPage,editedItemIdLink:this.linkState("editedItemId"),changeSpecialPage:this.changeSpecialPage,selectedItemInfoLink:this.linkState("selectedItemInfo")}):null)}return t.apply(this,[])}}),define("rEditor/rootComps/panels/pagesAndPopupsPanel",["reactDOM","react","create-react-class","prop-types","core","lodash","pagesMenu","blog","tpa","helpIds","experiment","rEditor/rootComps/panels/pagesAndPopupsPanel.rt"],function(e,t,o,n,i,a,r,s,l,c,p,d){function u(e,t,o){var n=o.toLowerCase();return a.filter(e,function(e){return~(e[t]||"").toLowerCase().indexOf(n)})||[]}function m(e,t){return u(e||[],"label",t)}function g(e,t){return u(e||[],"title",t)}function f(e,t){return e?P.FILTERED_PAGES_POPUPS_TITLE:t.length>0?P.POPUPS_AND_PAGES_LABEL_KEY:P.PAGES_TITLE}function h(e,t){var o=r.specialPages.menuLogic.getSectionPagesIds(e,t);return function(e){return e.type.isPage&&a.includes(o,e.pageData.id)}}function b(e,t,o,n){var i=a.zipObject(a.map(t,"id"),a.map(t,"title")),r=a.groupBy(o,"popupId"),s=n.documentServices.siteSegments.getSiteStructureId();return a.forEach(e,function(e){var t,o=r[e.id],n=!!o&&o[0].pageId===s;t=a.map(o,"pageId"),e.pagesListToShowOnLoad={showOnAllPages:n,titles:a.map(t,a.partial(a.get,i))||[]}}),e}function y(e){return e.documentServices.pages.getFocusedPageId()}var P={POPUPS_AND_PAGES_LABEL_KEY:"POPUPS_SiteStructure_Panel_Title",PAGES_TITLE:"Pages_Menu_Title_Title",FILTERED_PAGES_POPUPS_TITLE:"POPUPS_SiteStructure_Panel_Title"};return o({displayName:"pagesAndPopupsPanel",mixins:[i.mixins.editorAPIMixin,t.addons.LinkedStateMixin],propTypes:{filter:n.any},getInitialState:function(){var e={menuItemToShowSettingsFor:this.props.menuItemToShowSettingsFor||null,selectedSettingsTab:this.props.selectedSettingsTab||null,specialPage:null,editedItemId:null,selectedItemInfo:{id:y(this.getEditorAPI()),isPageOrPopup:!0},unfilteredSelectedTab:this.getEditorAPI().documentServices.pages.popupPages.isPopupOpened()?"popups":"pages"};return p.isOpen("pagesFirstTimeSteps")&&a.assign(e,{firstPageItemNode:null}),e},isDeveloperModeEnabled:function(){return this.getEditorAPI().developerMode.isEnabled()},componentWillReceiveProps:function(e){var t=y(this.getEditorAPI());p.isOpen("dpages")&&this.state.selectedSettingsTab!==e.selectedSettingsTab&&this.setState({selectedSettingsTab:e.selectedSettingsTab}),this.state.selectedItemInfo.isPageOrPopup&&this.state.selectedItemInfo.id!==t&&this.setState({selectedItemInfo:{id:t,isPageOrPopup:!0}}),this.updateMenuItemAndSpecialPage()},updateMenuItemAndSpecialPage:function(){var e=this.getEditorAPI(),t=e.documentServices.pages.getPagesData(),o=p.isOpen("dpages")?e.pages.dynamicPages.getMenuItems():[],n=a.flatMap(o,"items"),i=e.mainMenu.getMenuItemsFlattened(t),r=this.state.menuItemToShowSettingsFor,s=this.state.specialPage;if(r){var l;l=p.isOpen("dpages")?a.find(i,{id:this.state.menuItemToShowSettingsFor.id})||a.find(n,{id:this.state.menuItemToShowSettingsFor.id}):a.find(i,{id:this.state.menuItemToShowSettingsFor.id}),this.setState({menuItemToShowSettingsFor:l})}s&&s.pageData&&this.setState({specialPage:a.merge(s,{pageData:a.find(t,{id:s.pageData.id})})})},getDefaultProps:function(){return{filter:""}},componentDidMount:function(){this.panelDOMNode=e.findDOMNode(this),this.updateFirstPageItemNodeIfNeeded()},componentDidUpdate:function(){this.updateFirstPageItemNodeIfNeeded()},updateFirstPageItemNodeIfNeeded:function(){if(p.isOpen("pagesFirstTimeSteps")){var e=this.panelDOMNode.querySelector(".pages-first-item");e!==this.state.firstPageItemNode&&this.setState({firstPageItemNode:e})}},duplicate:function(e){r.pageMenuItemHelpers.duplicateMenuItem(this.getEditorAPI(),e,function(e){this.setState({editedMenuItemId:e,menuItemToShowSettingsFor:null})}.bind(this))},changeSelectedMenuItem:function(e){this.state.menuItemToShowSettingsFor&&(e.type.isPage?this.openMainMenu(e):this.closeMainMenu())},openMainMenu:function(e,t){this.setState({menuItemToShowSettingsFor:e,selectedSettingsTab:t||null},function(){var e=this.getEditorAPI().isDesktopEditor(),o=e?this.refs.mainMenuDesktop:this.refs.mainMenuMobile;t&&e&&o.setSettingsTab(t)}.bind(this))},closeMainMenu:function(){this.setState({menuItemToShowSettingsFor:null})},openSpecialPageMenu:function(e){this.setState({specialPage:e})},closeSpecialPageMenu:function(){this.setState({specialPage:null})},changeSpecialPage:function(e){this.state.menuItemToShowSettingsFor&&(this.setState({menuItemToShowSettingsFor:null}),this.openSpecialPageMenu(e)),this.state.specialPage&&this.setState({specialPage:e})},isMainMenuDesktopOpened:function(){return this.getEditorAPI().isDesktopEditor()&&this.state.menuItemToShowSettingsFor},isMainMenuMobileOpened:function(){return this.getEditorAPI().isMobileEditor()&&this.state.menuItemToShowSettingsFor},isSpecialPagesDesktopMenuOpened:function(){return this.getEditorAPI().isDesktopEditor()&&this.state.specialPage},isSpecialPagesMobileMenuOpened:function(){return this.getEditorAPI().isMobileEditor()&&this.state.specialPage},openBlogManager:function(){s.openBlogManagerFrame(this.getEditorAPI(),"allPosts")},openStoreManager:function(){l.superApps.openDashboardUrl(l.superApps.superAppsConstants.ECOM_APP_DEF_ID,"90%","100%"),this.getEditorAPI().bi.event(i.bi.events.topbar.pages.top_bar_PAGES_store_pages_store_manager_click)},getHelpId:function(){return"popups"===this.state.unfilteredSelectedTab&&!this.getFilter()?this.getEditorAPI().isMobileEditor()?c.EXTERNAL.MOBILE_POPUPS_PANEL:c.EXTERNAL.POPUPS_PANEL:c.EXTERNAL.PAGES_PANEL},addAdditionalClassesForPageItem:function(e,t){this._menuItemsTree[e].additionalClasses=t},linkUnfilteredSelectedTab:function(){return{value:this.state.unfilteredSelectedTab,requestChange:function(e){this.setState({unfilteredSelectedTab:e}),this.getEditorAPI().bi.event(i.bi.events.topbar.pages.pages_menu_tab_click,{value:"popups"===e?"pop ups":"pages"})}.bind(this)}},getFilter:function(){return p.isOpen("newTopBar")?this.getEditorAPI().topBarPagesFilter.get():this.props.filter},render:function(){var e=this.getEditorAPI(),o=this.getFilter(),n=e.documentServices.pages.getPagesData(),i=e.mainMenu.getMenuItemsTreeForMainMenu(n),a=e.mainMenu.getMenuItemsFlattened(n),r=e.pages.popupPages.getOpenBehaviorsForPopups(),s=g(b(e.pages.popupPages.getDataListOrdered(),n,r,e),o);if(this._menuItemsTree=i,this._menuItemsList=m(a,o),this._popupsList=s,this._panelTitle=f(o,s),this._isSectionPage=h(e,n),p.isOpen("pagesFirstTimeSteps")&&this.addAdditionalClassesForPageItem(0,["pages-first-item"]),p.isMultiValueExperimentOpen("editorHintsConfigs")&&require.defined("editorHints")){var l=require("editorHints");return t.createElement(l.hintsNotify,{id:l.hintsContainers.PAGES_PANEL},d.call(this))}return d.call(this)}})}),define("rEditor/rootComps/panels/thumbNailItemRow.rt",["react","lodash","baseUI"],function(e,t,o){return function(){return e.createElement("li",{onClick:this.props.onClick,className:"panel-button"},e.createElement("div",{className:"panel-button-inner"},e.createElement("div",{className:"label"},e.createElement(o.symbol,{name:this.props.itemName}),e.createElement("span",{className:"button-label"},this.props.itemLabel)),e.createElement("div",{className:"action"},e.createElement(o.symbol,{name:"arrowWithStates"}))))}}),define("rEditor/rootComps/panels/thumbNailItemRow",["create-react-class","prop-types","lodash","rEditor/rootComps/panels/thumbNailItemRow.rt"],function(e,t,o,n){return e({propTypes:{onClick:t.func,itemName:t.string,itemLabel:t.string},displayName:"myUploadItem",render:n})}),define("rEditor/rootComps/panels/myMediaPanel.rt",["react","lodash","baseUI","baseUILib","util","core","panels","rEditor/rootComps/panels/thumbNailItemRow"],function(e,t,o,n,i,a,r,s){return function(){function o(t,o){return e.createElement(s,{key:t.itemName,onClick:t.onClick,itemName:t.itemName,itemLabel:i.translate(t.itemLabel)})}return e.createElement(r.frames.leftPanelFrame,{className:"panel-background",panelName:this.props.panelName,panelClass:"my-uploads-panel",panelIndex:this.props.panelIndex,label:i.translate("MY_UPLOADS_PANEL_HEADER_TITLE"),helpId:"e1df1248-6bd6-4497-ad2a-2a42cd357eae"},e.createElement("div",{className:"listWrapper"},e.createElement(n.CustomScroll,{addScrolledClass:!0,heightRelativeToParent:"100%"},e.createElement.apply(this,["ul",{},t.map(this.getUploadItems(),o.bind(this))]))))}}),define("rEditor/rootComps/panels/myMediaPanelAddCompData",["lodash","util"],function(e,t){function o(t,o,n){var i=r.getMediaPlayerVideoProperties([t],o),a=r.getAspectRatio(i),s=r.getMediaProportionSize(a),l=n.addPanel.getCategory("video"),c=e.find(l.items,{title:"add_section_media_player_title"}),p=e.cloneDeep(e.get(c,["props","items",0,"structure"]));return p.design.background.mediaRef=i,p.layout={width:s.width,height:s.height},e.forEach(p.components,function(e){"wysiwyg.viewer.components.MediaOverlayControls"===e.componentType?e.layout={width:82,height:82,x:(s.width-82)/2,y:(s.height-82)/2}:"wysiwyg.viewer.components.MediaControls"===e.componentType&&(e.props.showStoryboard=r.getStoryboardDisplayValue(i),e.layout={width:s.width,height:44,x:0,y:s.height-44})}),p}function n(e){var t=Math.min(600,e.width);return{componentType:"wysiwyg.viewer.components.WPhoto",layout:{width:t,height:Math.floor(t*e.height/e.width)},data:{width:e.width,height:e.height,alt:"",uri:e.uri,title:e.title,type:"Image",description:""}}}function i(e){var t=e.uri.split(".").pop();return{componentType:"wysiwyg.viewer.components.documentmedia.DocumentMedia",layout:{width:90,height:140},data:{title:e.title,uri:s[t]||s.other,description:"",width:105,height:141,type:"Image",link:{docId:e.uri,name:e.title,type:"DocumentLink"}},style:"dm1",props:{type:"DocumentMediaProperties",showTitle:!1}}}function a(e){return{componentType:"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer",layout:{width:304,height:60},data:{originalFileName:e.title,uri:e.uri,type:"SingleAudioPlayer"},props:{autoplay:!1,loop:!1,showArtist:!0,showTrack:!0,volume:50,type:"SingleAudioPlayerProperties"},style:"SingleAudioPlayer_1"}}var r=t.backgroundPanelUtils,s={pdf:"40d80b8089c8418a961cb75d96d491f7.png",doc:"b8964aa7650d463fac3b77e0d00e8f12.png",docx:"b8964aa7650d463fac3b77e0d00e8f12.png",ppt:"a41192b40f324972a1d919a8350965f8.png",ppx:"a41192b40f324972a1d919a8350965f8.png",xls:"757aeccaa7f4409b93913c55e36a194d.png",xlsx:"757aeccaa7f4409b93913c55e36a194d.png",odp:"ac1fbe0592434c58889947de5714b3c7.png",odt:"ac1fbe0592434c58889947de5714b3c7.png",other:"046956f7d55f4143a30b3b54669ee243.png"};return{picture:n,document:i,music:a,video:o}}),define("rEditor/rootComps/panels/myMediaPanel",["create-react-class","lodash","core","util","rEditor/rootComps/panels/myMediaPanel.rt","rEditor/rootComps/panels/myMediaPanelAddCompData","coreUtilsLib","experiment"],function(e,t,o,n,i,a,r,s){function l(e,t,o){var n=a[e.mediaType];if(n)return n(e,t,o);r.log.error("Unsupported media type",e.mediaType)}var c=n.backgroundPanelUtils,p=o.bi.events.singleVideoPlayer;return e({displayName:"MyMediaPanel",mixins:[o.mixins.editorAPIMixin,n.blockOuterScrollMixin],titleMap:{IMAGE:"MMGR_API_IMAGE_MANAGE_TITLE",VIDEO:"MMGR_API_VIDEO_MANAGE_TITLE",MUSIC:"MMGR_API_MUSIC_MANAGE_TITLE",DOCUMENT:"MMGR_API_DOCUMENT_MANAGE_TITLE"},submitButtonMap:{IMAGE:"MMGR_submitbutton_uploads_myimages_add",VIDEO:"MMGR_submitbutton_uploads_myvideos_add",MUSIC:"MMGR_submitbutton_uploads_mytracks_add",DOCUMENT:"MMGR_submitbutton_uploads_mydocs_add"},mediaManagerOpen:function(e){var t=this.getEditorAPI();t.bi.event(o.bi.events.myMediaPanel.my_uploads_panel_section_click,{section:e}),t.mediaServices.mediaManager.open(e,{multiSelect:!0,callback:this.onItemsSelected.bind(this,e),translation:{title:n.translate(this.titleMap[e]),submitButton:n.translate(this.submitButtonMap[e])}})},mediaManagerManage:function(e){var t=this.getEditorAPI();t.bi.event(o.bi.events.myMediaPanel.my_uploads_panel_section_click,{section:e}),t.mediaServices.mediaManager.manage(e)},fontsManagerOpen:function(){this.getEditorAPI().panelManager.openPanel("panels.toolPanels.fontsUploadPanel",{},!0)},onItemsSelected:function(e,o,n){o&&(this.getEditorAPI().pasteLogic.addContext.resetPastePosition(),t.forEach(o,t.bind(function(t,o,i){this.addComponent(e,n,t,o,i)},this)))},addComponent:function(e,n,i,a,r){var s=this.getEditorAPI(),d=l(i,n,s),u=s.documentServices.pages.getFocusedPageId(),m=s.pasteLogic.addContext.getPastePosition(s,d.layout,u);t.merge(d.layout,m);var g=s.documentServices.pages.getReference(u);s.documentServices.waitForChangesApplied(function(){s.components.add(g,d,void 0,function(n){a===r.length-1&&(s.selection.selectComponentByCompRef(n),s.history.add("added component")),s.bi.event(o.bi.events.addPanel.COMPONENT_ADDED_TO_STAGE,{origin:"my_uploads",category:t.get(s,["mediaServices.mediaManager",e,"mmgrParams.mediaType"]),component_type:d.componentType,component_id:n.id,adding_method:"click"}),"video"===e.toLowerCase()&&c.sendChangeVideoBiEvent(s,p.video_player_video_changed,i,"my_uploads")})})},isWixMusic:function(){return this.getEditorAPI().documentServices.tpa.app.isInstalled("13bb5d67-1add-e770-a71f-001277e17c57")},getUploadItems:function(){var e={itemName:"my_uploads_fonts",itemLabel:"MY_UPLOADS_MY_FONTS_LINK_LABEL",onClick:this.fontsManagerOpen,shouldDisplay:s.isOpen("fontsUpload")||s.isOpen("fontsUploadAsync")},o={itemName:"my_uploads_images",itemLabel:"MY_UPLOADS_MY_IMAGES_LINK_LABEL",onClick:this.mediaManagerOpen.bind(this,"IMAGE"),shouldDisplay:!0},n={itemName:"my_uploads_video",itemLabel:"MY_UPLOADS_MY_VIDEOS_LINK_LABEL",onClick:this.mediaManagerOpen.bind(this,"VIDEO"),shouldDisplay:!0},i={itemName:"my_uploads_single_tracks",itemLabel:"MY_UPLOADS_MY_MUSIC_LINK_LABEL",onClick:this.mediaManagerOpen.bind(this,"MUSIC"),shouldDisplay:!this.isWixMusic()},a={itemName:"my_uploads_wix_music",itemLabel:"MY_UPLOADS_MUSIC_PRO_LINK_LABEL",onClick:this.mediaManagerManage.bind(this,"MUSIC_PRO"),shouldDisplay:this.isWixMusic()},r={itemName:"my_uploads_docs",itemLabel:"MY_UPLOADS_MY_DOCUMENT_LINK_LABEL",onClick:this.mediaManagerOpen.bind(this,"DOCUMENT"),shouldDisplay:!0},l=[e,o,n,i,a,r];return s.isOpen("changeMyUploadOrder")&&(l=[o,n,e,r,i,a]),t.filter(l,"shouldDisplay")},render:i})}),define("rEditor/rootComps/panels/backgroundPanel/backgroundDesktopPresets.json",[],function(){return[{presetIndex:1,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Electric Darkness",videoId:"video/11062b_6a134fc09ea34833a17d295e295ab517",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_6a134fc09ea34833a17d295e295ab517f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:6,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_24}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"#0AFCFC",colorOverlayOpacity:.2}},{presetIndex:2,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Floating Particles",videoId:"video/11062b_03c50f8fe4a34cc297a984e483a282ef",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_03c50f8fe4a34cc297a984e483a282eff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:18,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"#000000",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#02B0AD",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:3,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Bananas",uri:"8034aa3291a54c489a7b7a3121d994f9.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1177,height:1200,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:4,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rain Clouds",videoId:"video/11062b_8e792646ca71495b96677c20e27e9122",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_8e792646ca71495b96677c20e27e9122f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:14,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47427758",name:"bisgtock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#000000",colorOverlayOpacity:.4,imageOverlay:""}},{presetIndex:5,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Deep Sea Waves",videoId:"video/11062b_f1fbf8b243e942a692e564fac5382513",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_f1fbf8b243e942a692e564fac5382513f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:10,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47427890",name:"bisgtock"}},color:"#052F5B",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:6,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Divers Underwater",uri:"bbde6e2b4387431ca37f8e093bcb0e8e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4368,height:2912,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:7,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dot Pattern",uri:"70127753074e4bf694b4b889710f0b7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:202,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:8,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Aurelia Jellyfish",uri:"884454ad07cf46a5bb7fb6aef2e02358.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2700,height:2160,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:9,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Swaying Palms",videoId:"video/11062b_d013b164dadb47ec8e746ab178aacfbb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_d013b164dadb47ec8e746ab178aacfbbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:29,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v51654467",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:10,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Girl in the Window",uri:"acb4853a0d8543b3ac291da735e9959b.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:6048,height:4032,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:11,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"In the Office",videoId:"video/11062b_6743da5900054f1f8e69f53302930a6a",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_6743da5900054f1f8e69f53302930a6af000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"color_11",colorOverlayOpacity:.25,imageOverlay:""}},{presetIndex:12,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Winter Sports",videoId:"video/11062b_14ca44a138d942f78374f7751ac5942f",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_14ca44a138d942f78374f7751ac5942ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},opacity:1,duration:31,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"vD19_13_002&vD187_89_019&vD116_16_121&vD116_16_117&vD116_16_051&v17A041_676",name:"Dissolve&Dissolve&Dissolve&Dissolve&Dissolve&Dissolve"}},color:"#2BFCF9",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:13,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Boats in the Water",uri:"edafc906071647ad940aad43e3fdbe07.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:3500,height:2318,artist:{id:"",name:""}},color:"#CCE2E2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:14,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Water Drop",videoId:"video/11062b_830709c744404d6ea7a10dcfd88e3a48",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_830709c744404d6ea7a10dcfd88e3a48f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:15,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v81193529",name:"bigstock"}},color:"#439CE6",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:15,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Submerged",videoId:"video/11062b_64ae2a899006496dac01c2e81fac97f1",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_64ae2a899006496dac01c2e81fac97f1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:24,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47427800",name:"bisgtock"}},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#439CE6",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:16,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue Checkers",uri:"a60710612bbc4609ac93e78a1fa234c0.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:17,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Road Trip",videoId:"video/11062b_1c6001b9888a4ba89939a510eee406d1",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_1c6001b9888a4ba89939a510eee406d1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:21,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"vD330_2_176",name:"dissolve"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#8AEDFF",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:18,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Mountain Landscape",uri:"0bb83114d47e4ca0a9fa5a9ea6a16530.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4442,height:2961,artist:{id:"",name:""}},color:"#EEFDFF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:19,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Sparkling Water",videoId:"video/11062b_7bb9944945af4723ad2aefa5caed46a4",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7bb9944945af4723ad2aefa5caed46a4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:18,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47421608",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:20,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rolling Tide",videoId:"video/11062b_f0d5e0c342cc49dca298de0225d2247c",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_f0d5e0c342cc49dca298de0225d2247cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:17,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47428379",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:21,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Abstract Horizon",uri:"5afe60462baf41e79586f3fdaf78d664.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1980,height:1200,artist:{id:"",name:""}},color:"#006C6D",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:22,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Misty Slopes",uri:"99ec98fdb81945c29c25a3ad6c5606b1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1920,height:1280,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:23,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blurred Beach",uri:"a97014d3cac6454b822f786b7d1f2878.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:2351,height:1302,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:24,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue to Cream Gradient",uri:"356d0cee84164a4cb8304d44630a7ea6.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:25,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Vintage Gramophone",videoId:"video/11062b_bd026287ff784f5198fbfdbbbbba2489",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_bd026287ff784f5198fbfdbbbbba2489f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:7,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v50768873",name:"bigstock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:26,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Plant",uri:"117d700ff79f490587e0bbaad89bc84f.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2507,height:1674,artist:{id:"",name:""}},color:"#1C8A43",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:27,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graph Paper",uri:"1beffca589a04014a3e62f00a022b875.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:192,height:192,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:28,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Leaves Pattern",uri:"278019192ae045d191a9430cf507c7f6.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:974,height:966,artist:{id:"",name:""}},color:"#F1FFF6",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:29,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropic Birds",uri:"b59b6c0afac149c1825e76ad4381c9ca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:552,height:552,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:30,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rainforest Canopy",videoId:"video/11062b_7488edba38234bd69b0603ad498efdf5",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7488edba38234bd69b0603ad498efdf5f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:35,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v50652950",name:"bigstock"}},color:"#BFBF43",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:31,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-sketched Lines",uri:"3978993e99184d5e8c21f0204cd07bca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:150,height:150,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:32,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees",uri:"3cd1de924697419088c1e033bb3384ef.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1280,artist:{id:"",name:""}},color:"#BDBF37",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:33,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Snowfall",videoId:"video/11062b_7124ff06fc56498d96722413f5f4846f",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7124ff06fc56498d96722413f5f4846ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i2800",name:"pexels"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:34,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"City Park",videoId:"video/11062b_ed5fd19d3b3c4a979ecfd7aa035320eb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_ed5fd19d3b3c4a979ecfd7aa035320ebf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56}}},{presetIndex:35,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Dogs in the Park",videoId:"video/11062b_dadf974a47664e5cb42f939b7f17bec8",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_dadf974a47664e5cb42f939b7f17bec8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:26,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:""}},{presetIndex:36,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"House Cat",videoId:"video/11062b_be8b8d6a9d5a4bc59aa76a8b25fd9888",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_be8b8d6a9d5a4bc59aa76a8b25fd9888f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:26,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"#DAB89C",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#D9B79C",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:37,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tree Stump",uri:"11a91072527049689406d272d5a6d6c4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1280,height:768,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:38,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Asparagus",uri:"4d24dcfa04684a81bf3f1701a847af81.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:2e3,height:1333,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:39,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Tropical Light",videoId:"video/11062b_af392b5325e7416eb2d8b6f9b1b3c634",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_af392b5325e7416eb2d8b6f9b1b3c634f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i158598041",name:"shutterstock"}},color:"{color_16}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:40,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Gold Bunnies",uri:"6060bf9757224155bc8cbd95029ee720.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:459,height:287,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:41,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pineapple Pattern",uri:"eeef56698522480caf7deba849718afe.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:534,height:809,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:42,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Yellow to Blue Gradient",uri:"98e04ee03335423bb5a47bd2f377df2e.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#35EBE7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:43,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Spades",uri:"7d0fa0c9f87547b0a75b80f38ed48183.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:267,artist:{id:"",name:""}},color:"color_31",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:44,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Urban View",videoId:"video/11062b_3e2f37c297534f9ead156265242fbca8",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_3e2f37c297534f9ead156265242fbca8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v49780622&v493478872&v49737086&v318347",name:"bigstock&bigstock&bigstock&clipcanvas"}},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#F0C930",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:45,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Light Spots",videoId:"video/11062b_2042bb7351284f0f982e4787d37415e6",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_2042bb7351284f0f982e4787d37415e6f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:14,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"#FFF369",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#FFF269",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:46,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Pink Particles",videoId:"video/11062b_155feccf8d494b18b70adcd7716b6646",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_155feccf8d494b18b70adcd7716b6646f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:50,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#FFCC00",colorOverlayOpacity:.5,imageOverlay:""}},{presetIndex:47,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Sunflowers",videoId:"video/11062b_7fb923cf2d6748e195e980d74c4059f2",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_7fb923cf2d6748e195e980d74c4059f2f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i145590430",name:"shutterstock"}},color:"color_29",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:48,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flower in Sunlight",uri:"175c71a9a7384ca68d97b39947203da8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1080,artist:{id:"",name:""}},color:"#F17424",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:49,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Golden Dots",uri:"80e0917312df4df5853a6c2a861e7a63.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:466,height:766,artist:{id:"",name:""}},color:"#FAEECD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:50,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Lifeguard Tower",uri:"f7f8700159f142b3b23e349c23338337.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4608,height:3072,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:51,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Meadow",videoId:"video/11062b_84f0c9aa252b4b2ab1114febc012eacb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_84f0c9aa252b4b2ab1114febc012eacbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i144673559",name:"shutterstock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:52,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Lakeside",videoId:"video/11062b_10927dd4d14046e4ac23f51f0a5448b3",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_10927dd4d14046e4ac23f51f0a5448b3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i205250962",name:"shutterstock"}},color:"#FFF5A8",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:53,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebra Crossing",uri:"fd559363ad5645958cc2ccdc6005fbd6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:5682,height:3990,artist:{id:"",name:""}},color:"#F1CC01",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:54,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Paradise Serenity",videoId:"video/11062b_46d3e749db4d4169987b00279493eaa7",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_46d3e749db4d4169987b00279493eaa7f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:10,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i152767760",name:"shutterstock"}},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:55,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zigzag",uri:"4d24ad2c7b8f47bbbfe14399bd41dc54.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:64,height:50,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:56,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Miami Beach",videoId:"video/11062b_75ff30e8c38545348bad91473b78ab7c",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_75ff30e8c38545348bad91473b78ab7cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:20,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i100070693",name:"shutterstock"}},color:"#D41746",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#D41746",colorOverlayOpacity:.3,imageOverlay:""}},{presetIndex:57,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Leaves",uri:"0396af7423c344a39107ad593c4500f8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:3264,height:2448,artist:{id:"",name:""}},color:"#B22087",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:58,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Geometric Shapes",uri:"f833450526164f5e80b7e8ef0f50844c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:300,artist:{id:"",name:""}},color:"#F2668F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:59,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink to Orange Gradient",uri:"af7a8b002af842f8bab87691c1d8640f.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1920,height:1080,artist:{id:"",name:""}},color:"#C37DB3",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:60,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rain Drops",uri:"95f3448913a746f28b30670b23da4157.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:216,height:216,artist:{id:"",name:""}},color:"#C65AA5",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:61,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Cotton Candy",videoId:"video/11062b_808b40c463104f22943c284c625d31c3",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_808b40c463104f22943c284c625d31c3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:4,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_30}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#E31B22",colorOverlayOpacity:.25,imageOverlay:""}},{presetIndex:62,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Ink and Water",videoId:"video/11062b_74ef3d923f9b451492d3ed9278991873",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_74ef3d923f9b451492d3ed9278991873f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v50768402",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:63,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Red Confetti",uri:"21ff2961e4d94522b96543b873b063dc.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:121,height:107,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:64,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Woman Running Legs",uri:"0983ceb77a4e49c6978e4515d8a454f6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:65,path:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flamingos",uri:"88d74a1559c84402a4a957527a839260.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",width:1920,height:1080,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:66,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Foxes and Rabbits",uri:"f7c0cc732a8e458caf88ad42b251fbdf.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:571,height:514,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:67,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Ink Splash",videoId:"video/11062b_aa1eeb25fbd3484dbde611d71d7c5747",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_aa1eeb25fbd3484dbde611d71d7c5747f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47428268",name:"bisgtock"}},color:"#F1F1F1",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:68,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees Beach View",uri:"2465a22a212e41cd96a05e3e3fe5adc4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:69,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Moon Jellyfish",videoId:"video/11062b_77c6bfa45ec6417fa8b1b37fd3f7a108",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_77c6bfa45ec6417fa8b1b37fd3f7a108f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:10,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v50790908",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:70,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Modern Chicago Skyline",uri:"5b7e139d046c40c1a1acde7162607721.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4085,height:2696,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:71,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Pink Jellyfish",videoId:"video/11062b_ea61c0ecc8b34ecd942c42470507e640",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_ea61c0ecc8b34ecd942c42470507e640f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:20,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47440688",name:"bigstock"}},color:"{color_19}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_2326357be59441978a570bec687a94d0.png",width:3,height:3},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:72,path:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Spaceman",videoId:"video/11062b_fcd00d59140f45d5b2295fe8a4c17edb",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_fcd00d59140f45d5b2295fe8a4c17edbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",width:1920,height:1080},opacity:1,duration:25,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"i111095258&i241509286",name:"shutterstock&shutterstock"}},color:"{color_20}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:73,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rotating Crystal Glass",videoId:"video/11062b_58249d8a53aa452492e328c962b036e9",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_58249d8a53aa452492e328c962b036e9f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:14,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47440709",name:"bisgtock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_8b89980121844d37be099f0dbe33e3e3.png",width:6,height:6},colorOverlay:"#5C3B1B",colorOverlayOpacity:.4}},{presetIndex:74,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Spinning Record",videoId:"video/11062b_0f1e951461494c1894d86c9ab85a11cf",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_0f1e951461494c1894d86c9ab85a11cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},opacity:1,duration:10,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v560888",name:"clipcanvas"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_8fae2cc5b7bf477fb13faa1f2582dbd2.png",width:4,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:75,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Vegan Trio",uri:"180ba81999a64ad3aa42735d409ecab6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4253,height:2825,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:76,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-drawn Feathers",uri:"8eee3a6c7d5842429beba0f7eaeef38c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:77,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Rotating Gears",videoId:"video/11062b_d9801124f3cb4deca350acfd66b547cf",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_d9801124f3cb4deca350acfd66b547cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:7,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v50768483",name:"bigstock"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#F0C930",colorOverlayOpacity:.05,imageOverlay:""}},{presetIndex:78,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Workspace",uri:"fa34b31dc6244a4a854ef6eb8f02ff74.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4e3,height:3e3,artist:{id:"",name:""}},color:"#B7121B",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:79,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles",uri:"d59a233b62cf44b2bf1ebed57aac24de.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:343,height:410,artist:{id:"",name:""}},color:"#DBB89A",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:80,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Wood",uri:"1149de6bf15f40c587573bf9311dc32c.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:4990,height:3326,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:81,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Classical Compilation",videoId:"video/11062b_35727d5e825d405bbb007bc615000a15",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_35727d5e825d405bbb007bc615000a15f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},opacity:1,duration:19,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v51653993&v795016&v639989&v249088&v527322",name:"bigstock&clipcanvas&clipcanvas&clipcanvas&clipcanvas"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#ffffff",colorOverlayOpacity:.2,imageOverlay:""}},{presetIndex:82,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Metal Stairs on Wooden Facade",uri:"cf8156766df64118b0653b3ac4bd5605.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1440,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:83,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Illustrator",videoId:"video/11062b_ebcab620e7584e1693f939e597be3777",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_ebcab620e7584e1693f939e597be3777f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},opacity:1,duration:30,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:84,path:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Pattern",uri:"5c688cc2a5ec4ad2b86ed53d5df46f47.png",description:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",width:1920,height:1080,artist:{id:"",name:""}},color:"#3D9BE9",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:85,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Tiger",videoId:"video/11062b_6ceb80744f45401caf9eb666caeb9887",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_6ceb80744f45401caf9eb666caeb9887f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},opacity:1,duration:28,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v49350467",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:""}},{presetIndex:86,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Subway",videoId:"video/11062b_8b85f288687943b59677b4e3e56ef8f8",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_8b85f288687943b59677b4e3e56ef8f8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:3,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v342278662",name:"pexels"}},color:"#303030",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#000000",colorOverlayOpacity:.45,imageOverlay:""}},{presetIndex:87,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Stack of Magazines",uri:"d532b29bc0c448b29f47672da7b07613.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:88,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Office",uri:"d1c5cd0055c94e3bb1acee9e2fda9f0e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:89,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Record Player",uri:"ee15442532e84041a495a5e46c465b12.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:5616,height:3744,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:90,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Floating Shapes Gray",videoId:"video/11062b_d2398715eb2e43348e6907b6b3383815",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_d2398715eb2e43348e6907b6b3383815f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:28,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:91,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Forest Clouds",videoId:"video/11062b_2e77c1d1a7d84393becbcecd189fe80e",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_2e77c1d1a7d84393becbcecd189fe80ef000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:25,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47440175",name:"bisgtock"}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:""}},{presetIndex:92,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Metronome",videoId:"video/11062b_80a0d0745a884541ae8fae22c02c9e74",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_80a0d0745a884541ae8fae22c02c9e74f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},opacity:1,duration:17,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v49780622",name:"bigstock"}},color:"#271504",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_8b89980121844d37be099f0dbe33e3e3.png",width:6,height:6},colorOverlay:"#ffffff",colorOverlayOpacity:.25}},{presetIndex:93,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Dots",uri:"92533e06635940e5b152eb4b0f9c1c4b.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:180,height:101,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:94,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Backstage",uri:"8a6b22a6b8d84e728c2253794ee37f98.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4500,height:3e3,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:95,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Melting Ice",videoId:"video/11062b_9480d9d800bd4bda938057d5ac1ebc42",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_9480d9d800bd4bda938057d5ac1ebc42f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},opacity:1,duration:18,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47428211",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:96,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Crosses",uri:"56adecff887f459297d81ee5a451ca0e.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:97,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Street Sports",videoId:"video/11062b_b3ee9353cba84f2fba11b18497edd49c",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_b3ee9353cba84f2fba11b18497edd49cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},opacity:1,duration:27,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"vD26_7_556&vD26_7_549&vD26_7_021&vD200_3_014&vD187_87_017",name:"dissolve&dissolve&dissolve&dissolve&dissolve"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_9dd9479cdafd4871b1944d50caa91db0.png",width:6,height:6},colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:98,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Mist Over the Bridge",videoId:"video/11062b_66b9234563324488b85be02dcf1db183",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_66b9234563324488b85be02dcf1db183f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},opacity:1,duration:21,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v523546",name:"clipcanvas"}},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:99,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Marble Surface",uri:"bc3ec7bc825c4e6ca746c659189cea83.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:1920,height:1080,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:100,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Suit",uri:"8ca1d4b1209f4712a582d259e1d041c4.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:232,height:200,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:101,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Flowing Viscous Liquid",videoId:"video/11062b_9f421918574743b48202cb0dacbd77d4",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_9f421918574743b48202cb0dacbd77d4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:17,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v47428877",name:"bisgtock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:102,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Concrete Facade",uri:"d05d3b5e9b8c442f8616127098f1e7b0.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#232323",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:103,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Horizontal Stripes",uri:"251cb06bbba2403296cacacc122c1833.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:105,height:88,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:104,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Dance Studio",videoId:"video/11062b_58d9b7991aa04b99a4f1580a1efc4f7f",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_58d9b7991aa04b99a4f1580a1efc4f7ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},opacity:1,duration:34,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6}}},{presetIndex:105,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cat Pattern",uri:"e62cc2e57d9e4debae58f332bc5f7c13.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1001,height:780,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:106,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Popsicles",uri:"16bc88db91d04e34969d6d9ff99d4f27.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:107,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Gray Waterfall",videoId:"video/11062b_18eee1c4914c4ef79687cd68f3cf6990",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_18eee1c4914c4ef79687cd68f3cf6990f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},opacity:1,duration:3,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"v49347887",name:"bigstock"}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",imageOverlay:{type:"Image",title:"",uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:4,height:6},colorOverlay:"color_11",colorOverlayOpacity:.5}},{presetIndex:108,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"NYC Skyline BW",uri:"ea66f0de45ec4109b5eb190bed2244d1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:109,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebras",uri:"049b8cffb8e449e19cce019a499e72b3.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:650,height:593,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:110,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles Pattern",uri:"09ad59ce71ae4243bc54251181afab81.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",width:94,height:89,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:111,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cloudy Fog",uri:"d8b91ec474404d93a7be5aefff9abd54.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4928,height:3264,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:112,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Arrows",uri:"be48a6ed702649778e0248921b018462.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:113,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Particles",uri:"65361f1a835843df8f46f809b1b05a7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#F7F7F7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0,imageOverlay:""}},{presetIndex:114,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"WixVideo",title:"Falling shapes White",videoId:"video/11062b_2ed9e9ea388343a59c387bccf3539098",qualities:[{quality:"480p",width:854,height:480,formats:["mp4","webm"]},{quality:"720p",width:1280,height:720,formats:["mp4","webm"]},{quality:"1080p",width:1920,height:1080,formats:["mp4","webm"]}],posterImageRef:{type:"Image",title:"",uri:"/11062b_2ed9e9ea388343a59c387bccf3539098f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},opacity:1,duration:28,loop:!0,autoplay:!0,preload:"auto",mute:!0,artist:{id:"",name:""}},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"#D5D4D6",colorOverlayOpacity:.35,imageOverlay:""}}]}),define("rEditor/rootComps/panels/backgroundPanel/backgroundMobilePresets.json",[],function(){return[{presetIndex:1,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Electric Darkness",uri:"/11062b_6a134fc09ea34833a17d295e295ab517f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_24}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:2,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Particles",uri:"/11062b_03c50f8fe4a34cc297a984e483a282eff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#000000",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:3,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Bananas",uri:"8034aa3291a54c489a7b7a3121d994f9.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1177,height:1200,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:4,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rain Clouds",uri:"/11062b_8e792646ca71495b96677c20e27e9122f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:5,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Deep Sea Waves",uri:"/11062b_f1fbf8b243e942a692e564fac5382513f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"#052F5B",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:6,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Divers Underwater",uri:"bbde6e2b4387431ca37f8e093bcb0e8e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4368,height:2912,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:7,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dot Pattern",uri:"70127753074e4bf694b4b889710f0b7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:202,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:8,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Aurelia Jellyfish",uri:"884454ad07cf46a5bb7fb6aef2e02358.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2700,height:2160,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:9,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Swaying Palms",uri:"/11062b_d013b164dadb47ec8e746ab178aacfbbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:10,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Girl in the Window",uri:"acb4853a0d8543b3ac291da735e9959b.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:6048,height:4032,artist:{id:"",name:""}},color:"#002E5D",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:11,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"In the Office",uri:"/11062b_6743da5900054f1f8e69f53302930a6af000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:12,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Winter Sports",uri:"/11062b_14ca44a138d942f78374f7751ac5942ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},color:"#2BFCF9",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:13,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Boats in the Water",uri:"edafc906071647ad940aad43e3fdbe07.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:3500,height:2318,artist:{id:"",name:""}},color:"#CCE2E2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:14,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Water Drop",uri:"/11062b_830709c744404d6ea7a10dcfd88e3a48f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#439CE6",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:15,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Submerged",uri:"/11062b_64ae2a899006496dac01c2e81fac97f1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_17}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:16,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue Checkers",uri:"a60710612bbc4609ac93e78a1fa234c0.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:17,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Road Trip",uri:"/11062b_1c6001b9888a4ba89939a510eee406d1f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:18,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Mountain Landscape",uri:"0bb83114d47e4ca0a9fa5a9ea6a16530.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4442,height:2961,artist:{id:"",name:""}},color:"#EEFDFF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:19,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Sparkling Water",uri:"/11062b_7bb9944945af4723ad2aefa5caed46a4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:20,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rolling Tide",uri:"/11062b_f0d5e0c342cc49dca298de0225d2247cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:21,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Abstract Horizon",uri:"5afe60462baf41e79586f3fdaf78d664.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1980,height:1200,artist:{id:"",name:""}},color:"#006C6D",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:22,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Misty Slopes",uri:"99ec98fdb81945c29c25a3ad6c5606b1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1920,height:1280,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:23,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blurred Beach",uri:"a97014d3cac6454b822f786b7d1f2878.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:2351,height:1302,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:24,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Blue to Cream Gradient",uri:"356d0cee84164a4cb8304d44630a7ea6.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#8BD0CD",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:25,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Vintage Gramophone",uri:"/11062b_bd026287ff784f5198fbfdbbbbba2489f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:26,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Plant",uri:"117d700ff79f490587e0bbaad89bc84f.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:2507,height:1674,artist:{id:"",name:""}},color:"#1C8A43",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:27,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graph Paper",uri:"1beffca589a04014a3e62f00a022b875.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:192,height:192,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:28,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Leaves Pattern",uri:"278019192ae045d191a9430cf507c7f6.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:974,height:966,artist:{id:"",name:""}},color:"#F1FFF6",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:29,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropic Birds",uri:"b59b6c0afac149c1825e76ad4381c9ca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:552,height:552,artist:{id:"",name:""}},color:"#002E5D",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:30,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rainforest Canopy",uri:"/11062b_7488edba38234bd69b0603ad498efdf5f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#BFBF43",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:31,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-sketched Lines",uri:"3978993e99184d5e8c21f0204cd07bca.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:150,height:150,artist:{id:"",name:""}},color:"#CAE9BD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:32,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees",uri:"3cd1de924697419088c1e033bb3384ef.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1280,artist:{id:"",name:""}},color:"#BDBF37",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:33,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Snowfall",uri:"/11062b_7124ff06fc56498d96722413f5f4846ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:34,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"City Park",uri:"/11062b_ed5fd19d3b3c4a979ecfd7aa035320ebf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:35,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dogs in the Park",uri:"/11062b_dadf974a47664e5cb42f939b7f17bec8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:36,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"House Cat",uri:"/11062b_be8b8d6a9d5a4bc59aa76a8b25fd9888f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"#DAB89C",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:37,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tree Stump",uri:"11a91072527049689406d272d5a6d6c4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1280,height:768,artist:{id:"",name:""}},color:"#114C22",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:38,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Asparagus",uri:"4d24dcfa04684a81bf3f1701a847af81.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:2e3,height:1333,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:39,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Light",uri:"/11062b_af392b5325e7416eb2d8b6f9b1b3c634f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_16}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:40,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Gold Bunnies",uri:"6060bf9757224155bc8cbd95029ee720.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:459,height:287,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:41,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pineapple Pattern",uri:"eeef56698522480caf7deba849718afe.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:534,height:809,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:42,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Yellow to Blue Gradient",uri:"98e04ee03335423bb5a47bd2f377df2e.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:8e3,height:4500,artist:{id:"",name:""}},color:"#35EBE7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:43,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Spades",uri:"7d0fa0c9f87547b0a75b80f38ed48183.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:267,artist:{id:"",name:""}},color:"color_31",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:44,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Urban View",uri:"/11062b_3e2f37c297534f9ead156265242fbca8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:45,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Light Spots",uri:"/11062b_2042bb7351284f0f982e4787d37415e6f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#FFF369",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:46,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink Particles",uri:"/11062b_155feccf8d494b18b70adcd7716b6646f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:47,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Sunflowers",uri:"/11062b_7fb923cf2d6748e195e980d74c4059f2f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"color_29",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:48,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flower in Sunlight",uri:"175c71a9a7384ca68d97b39947203da8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:1920,height:1080,artist:{id:"",name:""}},color:"#F17424",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:49,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Golden Dots",uri:"80e0917312df4df5853a6c2a861e7a63.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:466,height:766,artist:{id:"",name:""}},color:"#FAEECD",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:50,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Lifeguard Tower",uri:"f7f8700159f142b3b23e349c23338337.jpeg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4608,height:3072,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:51,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Meadow",uri:"/11062b_84f0c9aa252b4b2ab1114febc012eacbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:52,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Lakeside",uri:"/11062b_10927dd4d14046e4ac23f51f0a5448b3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#FFF5A8",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:53,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebra Crossing",uri:"fd559363ad5645958cc2ccdc6005fbd6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:5682,height:3990,artist:{id:"",name:""}},color:"#F1CC01",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:54,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Paradise Serenity",uri:"/11062b_46d3e749db4d4169987b00279493eaa7f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_31}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:55,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zigzag",uri:"4d24ad2c7b8f47bbbfe14399bd41dc54.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:64,height:50,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:56,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Miami Beach",uri:"/11062b_75ff30e8c38545348bad91473b78ab7cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#D41746",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:57,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tropical Leaves",uri:"0396af7423c344a39107ad593c4500f8.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1f0bcd55-6ccc-49e7-a743-30179f6f3783",width:3264,height:2448,artist:{id:"",name:""}},color:"#B22087",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:58,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Geometric Shapes",uri:"f833450526164f5e80b7e8ef0f50844c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:300,height:300,artist:{id:"",name:""}},color:"#F2668F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:59,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink to Orange Gradient",uri:"af7a8b002af842f8bab87691c1d8640f.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:1920,height:1080,artist:{id:"",name:""}},color:"#C37DB3",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:60,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rain Drops",uri:"95f3448913a746f28b30670b23da4157.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:216,height:216,artist:{id:"",name:""}},color:"#C65AA5",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:61,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cotton Candy",uri:"/11062b_808b40c463104f22943c284c625d31c3f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_30}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:62,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Ink and Water",uri:"/11062b_74ef3d923f9b451492d3ed9278991873f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:63,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Red Confetti",uri:"21ff2961e4d94522b96543b873b063dc.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:121,height:107,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:64,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Woman Running Legs",uri:"0983ceb77a4e49c6978e4515d8a454f6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#F9C7A7",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:65,path:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flamingos",uri:"88d74a1559c84402a4a957527a839260.png",description:"public/491df47b-5958-4dc7-9029-37f428755d45/c2a37dfc-36cf-4bfd-b940-55bac7bdc9e6",width:1920,height:1080,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:66,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Foxes and Rabbits",uri:"f7c0cc732a8e458caf88ad42b251fbdf.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:571,height:514,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:67,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Ink Splash",uri:"/11062b_aa1eeb25fbd3484dbde611d71d7c5747f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"#F1F1F1",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:68,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Palm Trees Beach View",uri:"2465a22a212e41cd96a05e3e3fe5adc4.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#DAF2FF",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:69,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Moon Jellyfish",uri:"/11062b_77c6bfa45ec6417fa8b1b37fd3f7a108f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:70,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Modern Chicago Skyline",uri:"5b7e139d046c40c1a1acde7162607721.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4085,height:2696,artist:{id:"",name:""}},color:"#FAC2D2",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:71,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Pink Jellyfish",uri:"/11062b_ea61c0ecc8b34ecd942c42470507e640f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_19}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:72,path:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Spaceman",uri:"/11062b_fcd00d59140f45d5b2295fe8a4c17edbf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/a85e50b3-f78c-4792-a226-040ce52b983c",width:1920,height:1080},color:"{color_20}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:73,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rotating Crystal Glass",uri:"/11062b_58249d8a53aa452492e328c962b036e9f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:74,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Spinning Record",uri:"/11062b_0f1e951461494c1894d86c9ab85a11cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:75,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Vegan Trio",uri:"180ba81999a64ad3aa42735d409ecab6.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4253,height:2825,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:76,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Hand-drawn Feathers",uri:"8eee3a6c7d5842429beba0f7eaeef38c.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:77,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Rotating Gears",uri:"/11062b_d9801124f3cb4deca350acfd66b547cff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:78,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Workspace",uri:"fa34b31dc6244a4a854ef6eb8f02ff74.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4e3,height:3e3,artist:{id:"",name:""}},color:"#B7121B",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:79,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles",uri:"d59a233b62cf44b2bf1ebed57aac24de.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:343,height:410,artist:{id:"",name:""}},color:"#DBB89A",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:80,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Wood",uri:"1149de6bf15f40c587573bf9311dc32c.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:4990,height:3326,artist:{id:"",name:""}},color:"#DBB89A",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:81,path:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Classical Compilation",uri:"/11062b_35727d5e825d405bbb007bc615000a15f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/305292cb-8a7a-4825-87ca-52882fbdf8ff",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:82,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Metal Stairs on Wooden Facade",uri:"cf8156766df64118b0653b3ac4bd5605.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1440,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:83,path:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Illustrator",uri:"/11062b_ebcab620e7584e1693f939e597be3777f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/db9e3e42-59d2-461f-b589-6cbbf7c2c06e",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:84,path:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Pattern",uri:"5c688cc2a5ec4ad2b86ed53d5df46f47.png",description:"public/921f85b0-261d-4406-964a-cf47e2744c69/bd176e29-5534-4d9f-87a6-a8177517ea4f",width:1920,height:1080,artist:{id:"",name:""}},color:"#3D9BE9",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:85,path:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Tiger",uri:"/11062b_6ceb80744f45401caf9eb666caeb9887f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/09309800-7aa0-4352-8f8a-101028e04bf1",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:86,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Subway",uri:"/11062b_8b85f288687943b59677b4e3e56ef8f8f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#303030",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:87,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Stack of Magazines",uri:"d532b29bc0c448b29f47672da7b07613.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:88,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Graphic Design Office",uri:"d1c5cd0055c94e3bb1acee9e2fda9f0e.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1920,height:1280,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:89,path:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Record Player",uri:"ee15442532e84041a495a5e46c465b12.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/660a54c1-0fe7-46ec-b502-d9e7c53554d9",width:5616,height:3744,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:90,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Shapes Gray",uri:"/11062b_d2398715eb2e43348e6907b6b3383815f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:91,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Forest Clouds",uri:"/11062b_2e77c1d1a7d84393becbcecd189fe80ef000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:92,path:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Metronome",uri:"/11062b_80a0d0745a884541ae8fae22c02c9e74f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/babd428d-abdf-463a-ac71-a23e3cafaffa",width:1920,height:1080},color:"#271504",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:93,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Dots",uri:"92533e06635940e5b152eb4b0f9c1c4b.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:180,height:101,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:94,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Backstage",uri:"8a6b22a6b8d84e728c2253794ee37f98.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:4500,height:3e3,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:95,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Melting Ice",uri:"/11062b_9480d9d800bd4bda938057d5ac1ebc42f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:96,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Black Crosses",uri:"56adecff887f459297d81ee5a451ca0e.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:97,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Street Sports",uri:"/11062b_b3ee9353cba84f2fba11b18497edd49cf000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:98,path:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Mist Over the Bridge",uri:"/11062b_66b9234563324488b85be02dcf1db183f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/f219085a-ca93-4f05-bc3f-5146ce3e6c8f",width:1920,height:1080},color:"{color_15}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:99,path:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Marble Surface",uri:"bc3ec7bc825c4e6ca746c659189cea83.jpg",description:"public/a0c10733-b2a6-4330-a431-537a9f05c353/c9440526-5aa9-4a6f-8d66-9cf5fa50020d",width:1920,height:1080,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:100,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Suit",uri:"8ca1d4b1209f4712a582d259e1d041c4.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:232,height:200,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:101,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Flowing Viscous Liquid",uri:"/11062b_9f421918574743b48202cb0dacbd77d4f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:102,path:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Concrete Facade",uri:"d05d3b5e9b8c442f8616127098f1e7b0.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/37fb1297-82aa-4be6-a319-4195d317efe3",width:1980,height:1200,artist:{id:"",name:""}},color:"#232323",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:103,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Horizontal Stripes",uri:"251cb06bbba2403296cacacc122c1833.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:105,height:88,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:104,path:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Dance Studio",uri:"/11062b_58d9b7991aa04b99a4f1580a1efc4f7ff000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/bfa1c2d0-17a0-425d-9a6b-15cc467f0736",width:1920,height:1080},color:"#FFFFFF",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:105,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cat Pattern",uri:"e62cc2e57d9e4debae58f332bc5f7c13.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:1001,height:780,artist:{id:"",name:""}},color:"#A7A7A7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:106,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Popsicles",uri:"16bc88db91d04e34969d6d9ff99d4f27.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:400,height:400,artist:{id:"",name:""}},color:"#232323",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:107,path:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Gray Waterfall",uri:"/11062b_18eee1c4914c4ef79687cd68f3cf6990f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/5abaf36e-05be-41b2-8a0c-e9999bc48c51",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}},{presetIndex:108,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"NYC Skyline BW",uri:"ea66f0de45ec4109b5eb190bed2244d1.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:1980,height:1200,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"fixed",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:109,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Zebras",uri:"049b8cffb8e449e19cce019a499e72b3.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:650,height:593,artist:{id:"",name:""}},color:"{color_11}",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:110,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Triangles Pattern",uri:"09ad59ce71ae4243bc54251181afab81.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/bc345090-ef04-4363-9211-3642d0f687f8",width:94,height:89,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"center",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:111,path:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Cloudy Fog",uri:"d8b91ec474404d93a7be5aefff9abd54.jpg",description:"public/491df47b-5958-4dc7-9029-37f428755d45/1fc8b92f-8f6a-403a-a60b-26f7e3bed04f",width:4928,height:3264,artist:{id:"",name:""}},color:"#4F4F4F",alignType:"center",fittingType:"fill",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:112,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Grey Arrows",uri:"be48a6ed702649778e0248921b018462.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#FFFFFF",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:113,path:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Floating Particles",uri:"65361f1a835843df8f46f809b1b05a7a.png",description:"public/6d05b962-a2eb-42f1-afe4-7981bca4bff1/ea934aee-5729-4c5e-aed1-ac25f5489914",width:200,height:200,artist:{id:"",name:""}},color:"#F7F7F7",alignType:"top_left",fittingType:"legacy_tile",scrollType:"scroll",colorOverlay:"",colorOverlayOpacity:0}},{presetIndex:114,path:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",ref:{type:"BackgroundMedia",mediaRef:{type:"Image",title:"Falling shapes White",uri:"/11062b_2ed9e9ea388343a59c387bccf3539098f000.jpg",description:"public/8e256233-1752-4026-9341-54036e7f875e/3892dca7-115f-4b62-ba8d-11a7b220ab76",width:1920,height:1080},color:"{color_11}",alignType:"center",fittingType:"fill",scrollType:"fixed"}}]}),define("rEditor/rootComps/panels/backgroundPanel/backgroundPanel.rt",["react","lodash","baseUI","baseUILib","util","panels","uiAnimations","backgroundPresets"],function(e,t,o,n,i,a,r,s){return function(){function t(e,t,o,n,i){i.preventDefault()}function l(e,t,o,n,i,a){a.preventDefault()}function c(e,t,o,n,i,a){this.replaceColor(a,e)}function p(e,t,o,n,i,a){this.changeColor(a,e)}function d(e,t,o,n,i){this.changeMedia(this.mediaTypes.IMAGE)}function u(e,t,o,n,i){o||this.changeMedia(this.mediaTypes.VIDEO)}function m(t,n,i,a){var s=this.getMediaType(t.ref);return e.createElement("div",{className:"bg-panel-top"},e.createElement("div",{className:"bg-panel-preview",onContextMenu:l.bind(this,t,n,i,a,s)},e.createElement("div",{className:"bg-panel-preview-media",style:this.getCurrentColor(t)}),e.createElement("div",{ref:"previewMedia",className:"bg-panel-preview-media",style:this.getCurrentMedia(t)}),e.createElement("div",{className:"bg-panel-preview-overlay",style:a.getOverlayStyle(t.ref,this.getEditorAPI())}),e.createElement("div",{className:"bg-panel-preview-buttons"},s!==this.mediaTypes.COLOR?e.createElement(o.tooltip,{disabled:!!this.getCurrentSubPanel(),value:this.getSettingTranslation(s),alignment:"top",className:"control-tooltip-small",key:"settings-tooltip"},e.createElement("div",{className:"bg-panel-preview-button"},e.createElement(r.rotatePartAnimation,{selector:".gear-wheel",play:this.isSettingsPanelOpen()},e.createElement(o.toggle,{name:"settings-icon",label:this.getSettingsButtonTranslation(s),valueLink:this.toggleSubPanel(s),labelAfterSymbol:!0})))):null,s===this.mediaTypes.VIDEO?e.createElement(o.tooltip,{key:"video-controls",id:"video-play-tooltip",disabled:this.isPlayBtnTooltipDisabled(s),alignment:"top",className:"control-tooltip-small",value:this.getPlayBtnTranslation()},e.createElement("div",{className:"bg-panel-preview-button"},e.createElement(o.toggle,{name:"play-video",disabled:this.getVideoReadyState()===this.videoReadyStates.IN_PROCESS,valueLink:this.toggleVideoPlayback(this.isVideoPlaying())}),this.getVideoReadyState()===this.videoReadyStates.IN_PROCESS?e.createElement(o.preloader,{key:"play-spinner"}):null)):null),s===this.mediaTypes.IMAGE?e.createElement("div",{onClick:c.bind(this,t,n,i,a,s),className:"bg-panel-preview-color",style:this.getCurrentColor(t),key:"bg-fold"},e.createElement(o.symbol,{name:"fold-clipart"})):null),e.createElement("div",{className:"bg-panel-top-actions"},e.createElement("div",{className:"bg-panel-action"},e.createElement(o.button2,{className:"default bg-panel-action-btn",label:"BGPP_PANEL_COLOR_BUTTON",symbolName:"color-btn",onClick:p.bind(this,t,n,i,a,s)})),e.createElement("div",{className:"bg-panel-action"},e.createElement(o.button2,{onClick:d.bind(this,t,n,i,a,s),className:"default bg-panel-action-btn",symbolName:"image-btn",label:"BGPP_PANEL_IMAGE_BUTTON"})),e.createElement(o.tooltip,{disabled:!i,value:"BGPP_PANEL_VIDEO_BUTTON_MOBILE_TOOLTIP",alignment:"top",className:"control-tooltip-small"},e.createElement("div",{className:"bg-panel-action"},e.createElement(o.button2,{onClick:u.bind(this,t,n,i,a,s),disabled:i,className:"default bg-panel-action-btn",symbolName:"video-btn",label:"BGPP_PANEL_VIDEO_BUTTON"})))))}function g(e,t,o,n){this.handleApplyToOtherClick()}function f(){var r=this.getData(),l=this.getCurrentSubPanel(),c=this.getEditorAPI().isMobileEditor(),p=i.backgroundPanelUtils;return e.createElement(a.frames.leftPanelFrame,{className:"bg-panel",panelName:this.props.panelName,label:this.getTranslation("TITLE"),panelIndex:this.props.panelIndex,panelClass:"bg-panel",helpId:c?"f0d8190e-e2da-48be-9f44-7ecff4518a82":"f11a3bb9-cff0-46d4-92ff-cc8cd9d30468",onContextMenu:t.bind(this,r,l,c,p)},m.apply(this,[r,l,c,p]),e.createElement(n.CustomScroll,{addScrolledClass:!0},e.createElement("div",{className:"bg-panel-preset-list"},e.createElement("div",{className:"bg-panel-preset-list-sections sections","data-tooltip-bounds":"true"},e.createElement(s,this.getPresetsProps())))),e.createElement("div",{className:"bg-panel-bottom"},e.createElement(o.button2,{label:"BGPP_PANEL_APPLY_TO_OTHER_BUTTON",onClick:g.bind(this,r,l,c,p),disabled:this.isOnePager(),className:"default"})))}return f.apply(this,[])}}),define("rEditor/rootComps/panels/backgroundPanel/backgroundPanel",["reactDOM","create-react-class","lodash","core","baseUI","util","color","panelUtils","rEditor/rootComps/panels/backgroundPanel/backgroundDesktopPresets.json","rEditor/rootComps/panels/backgroundPanel/backgroundMobilePresets.json","rEditor/rootComps/panels/backgroundPanel/backgroundPanel.rt"],function(e,t,o,n,i,a,r,s,l,c,p){function d(e,t,i){e===C.APPLY?v.applyToOtherClick(t,n.bi.events.backgroundPanel.panel_apply_to_other_pages_click):i.origin=_["BG_"+o.invert(C)[e].toUpperCase()]}function u(e,t,o){var n=e.getUserPreferences(),i=e.documentServices.pages.getPrimaryPageId();n.session.set("bg_panel_last_media_path_"+i,{type:t,path:o.path})}function m(e){var t=e.getUserPreferences(),o=e.documentServices.pages.getPrimaryPageId();return t.session.get("bg_panel_last_media_path_"+o)||{}}function g(e,t){return e.homePage.get()===t}function f(e,t,o){g(e,o)&&!t.ref.mediaRef&&(t.ref.id=a.guidUtils.getUniqueId(o,"_")+"_bg")}function h(e,t){var o=e.getUserPreferences(),n=e.documentServices.pages.getPrimaryPageId(),i=t===T.VIDEO?"bg_video_settings_data_changed_":"bg_image_settings_data_changed_";o.session.set(i+n,!1),o.session.set("bg_video_settings_pattern_state_"+n,!1)}function b(e,t){e.ref.scrollType="fixed";var o=t.documentServices.pages.getPrimaryPageId();t.getUserPreferences().session.get("bg_video_settings_data_changed_"+o)||S.clearOverlayData(e)}function y(e,t,o){var n=o.documentServices.pages.getPrimaryPageId();o.getUserPreferences().session.get("bg_image_settings_data_changed_"+n)&&(e.opacity=t.ref.mediaRef&&t.ref.mediaRef.opacity||1),S.clearOverlayData(t)}function P(){return A}var v=a.bgPanelBiEvents,E=a.imageTransform,S=a.backgroundPanelUtils,T=S.getMediaTypes(),C={IMAGE_SETTINGS:"rEditor.panels.bgImageSettingsPanel",VIDEO_SETTINGS:"rEditor.panels.bgVideoSettingsPanel",APPLY:"rEditor.panels.backgroundApplyPanel"},I={APPLY_PANEL:"applyPanel",IMAGE_PANEL:"imagePanel",VIDEO_PANEL:"videoPanel",PRESET:"preset",MEDIA:"media",REMOVE:"remove",COLOR:"color"},_={BG_PRESETS:"bg_presets",BG_COLOR_PICKER:"bg_color_picker",BG_MEDIA_MANAGER_WIXVIDEO:"bg_media_manager_video",BG_MEDIA_MANAGER_IMAGE:"bg_media_manager_image",BG_IMAGE_SETTINGS:"bg_image_settings",BG_VIDEO_SETTINGS:"bg_video_settings"},O={TITLE:{mobile:"BGPP_PANEL_HEADER_MOBILE_TITLE",desktop:"BGPP_PANEL_HEADER_DSKTOP_TITLE"}},M={Image:"BGPP_PANEL_IMAGE_SETTINGS_BUTTON",WixVideo:"BGPP_PANEL_VIDEO_SETTINGS_BUTTON"},A={IN_PROCESS:"in_process",PLAYING_PREVIEW:"playing_preview",IDLE:"idle",NO_VIDEO:"no_video"},w={id:"SITE_BACKGROUND"};return t({displayName:"backgroundPanel",mixins:[n.mixins.editorAPIMixin,a.blockOuterScrollMixin,s.linkColorPickerMixin],panelBoundingRect:{},mediaTypes:T,getMediaType:S.getMediaType,subPanels:C,videoReadyStates:null,componentDidMount:function(){this.panelBoundingRect=e.findDOMNode(this).getBoundingClientRect(),this.registerPlayerState(),this.markMobileDataDuplications()},componentWillUnmount:function(){this.closeSubPanel(this.getCurrentSubPanel()),this.unregisterPlayerState(),this.pauseVideo();var e=this.getData().ref;v.changedBackgroundBiEvent(this.getEditorAPI(),n.bi.events.backgroundPanel.panel_background_changed,e,this.biEventsParams)},getInitialState:function(){return this.videoReadyStates=P(),this.biEventsParams={origin:null,presetIndex:null},{readyState:this.videoReadyStates.NO_VIDEO,playbackState:"waiting",isVideoPlaying:!1,videoReadyState:this.videoReadyStates.IDLE}},componentDidUpdate:function(){this.getVideoReadyState()===this.videoReadyStates.IDLE&&i.tooltipManager.hide("video-play-tooltip")},registerPlayerState:function(){var e=this.getEditorAPI();o.get(e,["media","mediaState"])?e.documentServices.media.mediaState.register("bg_panel",w,this.handlePlayerStateChange):e.pages.background.video.registerToPlayingChange(this.playingStatusChanged)},unregisterPlayerState:function(){var e=this.getEditorAPI();o.get(e,["media","mediaState"])?e.documentServices.media.mediaState.unregister("bg_panel",w):e.pages.background.video.unregisterToPlayingChange(this.playingStatusChanged)},handlePlayerStateChange:function(e){e.playbackState===this.state.playbackState&&e.mediaReadyState===this.state.mediaReadyState||this.setState({playbackState:e.playbackState,readyState:e.mediaReadyState})},previewVideo:function(){var e=this.getEditorAPI();o.get(e,["media","mediaState"])?e.components.behaviors.execute(w,"play"):e.pages.background.video.play()},pauseVideo:function(){var e=this.getEditorAPI();e.getPreviewMode()||(o.get(e,["media","mediaState"])?e.components.behaviors.execute(w,"stop"):e.pages.background.video.pause())},isVideoPlaying:function(){var e=this.getEditorAPI();return o.get(e,["media","mediaState"])?"playing"===this.state.playbackState:e.pages.background.video.isPlaying()},getVideoReadyState:function(){var e=this.getEditorAPI();return o.get(e,["media","mediaState"])?this.state.readyState:e.pages.background.video.getReadyState()},playingStatusChanged:function(){this.forceUpdate()},videoReadyStateChanged:function(){this.forceUpdate()},linkedBackgroundColor:function(e,t,o){return{value:t[o].replace(/[\{\}]/g,""),requestChange:function(n){t[o]=/color_/.test(n)?"{"+n+"}":n,this.biEventsParams.origin=_.BG_COLOR_PICKER,this.onRequestChange(e)}.bind(this)}},getCurrentSubPanel:function(){var e=this.getEditorAPI().getOpenPanels(),t=o.find(e,function(e){return o.includes(C,e.name)});return t&&t.name},isSettingsPanelOpen:function(){var e=this.getCurrentSubPanel();return e===C.IMAGE_SETTINGS||e===C.VIDEO_SETTINGS},closeSubPanel:function(e){var t=this.getEditorAPI();e&&t.panelManager.closePanelByName(e)},getData:function(e){return S.getBackgroundData(this.getEditorAPI(),e)},onRequestChange:function(e,t,o){var n=this.getEditorAPI(),i=n.getDeviceType();f(n,e,o=o||n.pages.getPrimaryPageId()),S.handleMobileDataChange(i,e,n,o),n.pages.background.update(o,e,i),this.undoHandler(t),this.state.isVideoPlaying&&(this.pauseVideo(),this.setState({isVideoPlaying:!1}))},undoHandler:function(e){var t=this.getEditorAPI(),n=o.values(I);o.includes(n,e)&&t.history.add("background panel - "+e)},toggleSubPanel:function(e){var t=this.getCurrentSubPanel();return{value:t&&t!==this.subPanels.APPLY,requestChange:function(){var t=e===this.mediaTypes.VIDEO?this.subPanels.VIDEO_SETTINGS:this.subPanels.IMAGE_SETTINGS;this.toggleSubPanelChange(t)}.bind(this)}},toggleSubPanelChange:function(e){e===this.getCurrentSubPanel()?this.closeSubPanel(e):this.openSubPanel(e)},openSubPanel:function(e){var t=this.getEditorAPI();d(e,t,this.biEventsParams);var o=this.getSubPanelProps();t.panelManager.openPanel(e,o,!0)},getSubPanelProps:function(e){return{requestChange:this.onRequestChange,undoHandler:this.undoHandler,undoOrigins:I,getData:this.getData,panelName:e,top:this.panelBoundingRect.top,left:this.panelBoundingRect.left+this.panelBoundingRect.width+15,width:290}},getCurrentMedia:function(e){var t,n,i={};if(e.ref.mediaRef){t=this.getMediaType(e.ref)===this.mediaTypes.IMAGE?e.ref.mediaRef:e.ref.mediaRef.posterImageRef,n=S.isSmallerFromContainer(t.width,t.height,600,600)?E.fittingTypes.TILE:E.fittingTypes.SCALE_TO_FILL;var r=S.getImageDisplayData(n,e.ref.alignType,t.uri,t.width,t.height,352,184);i.backgroundImage="url("+a.url.joinURL(S.MEDIA_URL_PREFIX,r.uri)+")",i.opacity=t.opacity,o.assign(i,r.css.container)}return o.assign(i,this.getCurrentColor(e)),i},getCurrentColor:function(e){return{backgroundColor:S.getColorValue(this.getEditorAPI(),e.ref.color)}},toggleVideoPlayback:function(e){return{value:e,requestChange:function(e){e?this.previewVideo():this.pauseVideo()}.bind(this)}},replaceColor:function(e,t){this.setColorPicker(e,t,this.colorPickerPanelHandleReplace,!0)},changeColor:function(e,t){var o=!t.ref.mediaRef;this.setColorPicker(e,t,this.colorPickerPanelHandleChange,o)},setColorPicker:function(e,t,o,n){var i=n?t.ref.color.replace(/[\[\{\}\]]/g,""):"noColor",a={top:e.clientY,left:e.clientX};this.openColorPicker(o,i,!0,a,n,!0)},colorPickerPanelHandleReplace:function(e){this.closeSubPanel(this.getCurrentSubPanel());var t=this.getData();/color_/.test(e)?t.ref.color="{"+e+"}":/rgba/.test(e)?t.ref.color=new r(e).hexString():t.ref.color=e,this.biEventsParams.origin=_.BG_COLOR_PICKER,this.onRequestChange(t)},colorPickerPanelHandleChange:function(e){this.closeSubPanel(this.getCurrentSubPanel());var t=this.getData();t.ref.mediaRef&&(t.ref.mediaRef=null,h(this.getEditorAPI(),T.VIDEO),h(this.getEditorAPI(),T.IMAGE),S.clearOverlayData(t),this.undoHandler(I.REMOVE)),/color_/.test(e)?t.ref.color="{"+e+"}":/rgba/.test(e)?t.ref.color=new r(e).hexString():t.ref.color=e,this.biEventsParams.origin=_.BG_COLOR_PICKER,this.onRequestChange(t)},selectPreset:function(e,t,n){var a=this.getData(),r=this.getEditorAPI();i.tooltipManager.hideAll(),this.closeSubPanel(this.getCurrentSubPanel()),o.assign(e,o.omit(a,"ref")),e.path&&u(r,this.getMediaType(e.ref),{path:e.path}),delete e.path,delete e.presetIndex,h(r,T.VIDEO),h(r,T.IMAGE),this.biEventsParams={presetIndex:n,origin:_.BG_PRESETS},this.onRequestChange(e,I.PRESET)},onMediaManagerCallback:function(e,t,o){if(t){var n,i,a=this.getEditorAPI(),r=this.getData();u(a,e,o),e===this.mediaTypes.VIDEO?(n=S.getVideoBackgroundObject(t,o),b(r,a),h(a,T.IMAGE),i=n.posterImageRef,r.ref.scrollType="fixed"):e===this.mediaTypes.IMAGE&&(y(n=S.getImageBackgroundObject(t,o),r,a),h(a,T.VIDEO),i=n);var s,l=S.isSmallerFromContainer(i.width,i.height,600,600);s=e===this.mediaTypes.IMAGE&&l?E.fittingTypes.LEGACY_BG_FIT_AND_TILE:E.fittingTypes.SCALE_TO_FILL,r.ref.fittingType=s,r.ref.alignType=E.alignTypes.CENTER,r.ref.mediaRef=n,this.biEventsParams.origin=_["BG_MEDIA_MANAGER_"+e.toUpperCase()],this.onRequestChange(r,I.MEDIA)}},openMediaManager:function(e,t){if(e){var o,n=this.getEditorAPI(),i=n.mediaServices.mediaManager,r=m(n),s=r.type===e?r.path||"":"";e===this.mediaTypes.IMAGE?o=i.categories.BG_IMAGE:e===this.mediaTypes.VIDEO&&(o=i.categories.BG_VIDEO),this.closeSubPanel(this.getCurrentSubPanel()),i.open(o,{callback:t,path:s,translation:{submitButton:a.translate("MMGR_submitbutton_background_uploads_change")}})}},changeMedia:function(e){this.openMediaManager(e,this.onMediaManagerCallback.bind(this,e))},closePanel:function(){this.getEditorAPI().panelManager.closePanel(this.props.panelName)},getTranslation:function(e){var t=this.getEditorAPI().getDeviceType();return a.translate(O[e][t])},getSettingsButtonTranslation:function(e){return M[e]},handleApplyToOtherClick:function(){this.isOnePager()||this.toggleSubPanelChange(this.subPanels.APPLY)},isOnePager:function(){return 1===this.getEditorAPI().documentServices.pages.getPageIdList().length},markMobileDataDuplications:function(){var e=this.getEditorAPI(),t=e.getUserPreferences(),o=this.getData("mobile").ref.id;if(!t.session.get("bg_panel_mobile_data_duplications_"+o)){for(var i=e.documentServices.pages.getPrimaryPageId(),a=0,r=e.documentServices.pages.getPagesData(),s=0;s<r.length;s++)r[s].id!==i&&r[s].pageBackgrounds.mobile.ref.id===o&&a++;t.session.set("bg_panel_mobile_data_duplications_"+o,{count:a}),a&&v.mobileDataDuplicationError(this.getEditorAPI(),n.bi.errors.BG_MOBILE_DATA_DUPLICATION_ERROR)}},isPlayBtnTooltipDisabled:function(){return this.getVideoReadyState()===this.videoReadyStates.IDLE},getPlayBtnTranslation:function(){var e="",t=this.getVideoReadyState();return t===this.videoReadyStates.PLAYING_PREVIEW?e="BGPP_PANEL_VIDEO_PLAYBACK_PREVIEW_READY_TOOLTIP":t===this.videoReadyStates.IN_PROCESS&&(e="BGPP_PANEL_VIDEO_PLAYBACK_NOT_READY_TOOLTIP"),e},getSettingTranslation:function(e){var t="";return e===this.mediaTypes.IMAGE?t="BGPP_PANEL_IMAGE_SETTINGS_BUTTON_TOOLTIP":e===this.mediaTypes.VIDEO&&(t="BGPP_PANEL_VIDEO_SETTINGS_BUTTON_TOOLTIP"),t},getPresetsProps:function(){return{desktopPresets:l,mobilePresets:c,title:a.translate("BGPP_PANEL_SELECTED_SECTION_TITLE"),infoTooltip:"BGPP_PANEL_SELECTED_SECTION_TOOLTIP",onSelectPreset:this.selectPreset,columns:4}},render:function(){return p.apply(this)}})}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel.rt",["react","lodash","baseUI","baseUILib","symbols","panels","experiment"],function(e,t,o,n,i,a,r){return function(){function i(e,o){var n=t.assign({},e,o);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(n.className=o.className+" "+e.className),n}function s(t,n,i){return e.createElement(o.dropDown.option,{key:"fittingTypeOption"+i,value:n.value},n.label)}function l(){var l=this.props.getData();return e.createElement(a.frames.bgSubPanelFrame,i({helpId:"54c7eb1c-a6c7-46c9-9261-96eecf3bb0eb",className:"background-image-settings-panel background-sub-panel",label:"BGPP_SETTINGS_IMAGE_PANEL_HEADER_TITLE"},t.omit(this.props,"children")),e.createElement(n.CustomScroll,{},e.createElement("div",{className:"bg-image-settings-panel-scrollbox bg-settings-panel-scrollbox"},e.createElement(o.slider,{valueLink:this.linkedBackgroundOpacityData(l,l.ref.mediaRef,"opacity"),label:"BGPP_SETTINGS_IMAGE_OPACITY_TITLE",min:0,max:100,step:1}),e.createElement(n.Divider,{long:!0}),e.createElement("div",{className:"color-picker-input-wrapper"},e.createElement(o.colorPickerInput,i({label:"BGPP_SETTINGS_IMAGE_BG_COLOR_TITLE",ref:"bgColorPickerInput",className:"label-left",valueLink:this.linkedBackgroundColor(l,l.ref,"color")},this.getColorPickerProps()))),!this.getEditorAPI().isMobileEditor()||r.isOpen("se_mobileBgFixed")?e.createElement("div",{key:"scrollTypeRadiosDivider"},e.createElement(n.Divider,{long:!0}),e.createElement(o.sectionDividerLabeled,{label:"BGPP_SETTINGS_IMAGE_SCROLL_SECTION_TITLE",infoText:"BGPP_SETTINGS_IMAGE_SCROLL_SECTION_TOOLTIP"}),e.createElement(n.Divider,{long:!0}),e.createElement(o.thumbnails,{maxThumbsPerRow:"3",className:"with-labels scroll-type-thumbs",options:this.getEffectsThumbOptions(),valueLink:this.linkedBackgroundData(l,l.ref,"scrollType")})):null,e.createElement(n.Divider,{long:!0}),e.createElement(o.sectionDividerLabeled,{label:"BGPP_SETTINGS_IMAGE_LAYOUT_SECTION_TITLE"}),e.createElement(n.Divider,{long:!0}),e.createElement.apply(this,[o.dropDown.select,{valueLink:this.linkedBackgroundData(l,l.ref,"fittingType"),label:"BGPP_SETTINGS_IMAGE_FITTING_TITLE"},t.map(this.getFittingOptions(l.ref.scrollType),s.bind(this,l))]),e.createElement(n.Divider,{long:!0}),e.createElement(o.alignment,{options:o.commonData.ALIGNMENT_MODES_XY,valueLink:this.linkedBackgroundData(l,l.ref,"alignType"),label:"BGPP_SETTINGS_IMAGE_ALIGN_TITLE"}))))}return l.apply(this,[])}}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel",["core","create-react-class","prop-types","lodash","util","panelUtils","rEditor/bi/bi","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel.rt","experiment"],function(e,t,o,n,i,a,r,s,l){function c(e){var t=e.getUserPreferences(),o=e.documentServices.pages.getPrimaryPageId();t.session.set("bg_image_settings_data_changed_"+o,!0)}var p=i.backgroundPanelUtils,d=i.imageTransform.fittingTypes,u=[{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FILL",value:d.SCALE_TO_FILL},{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FIT",value:d.SCALE_TO_FIT},{label:"BGPP_SETTINGS_IMAGE_FITTING_ORIGINAL_SIZE",value:d.LEGACY_BG_NORMAL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE",value:d.LEGACY_BG_FIT_AND_TILE},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE_HORIZONTALLY",value:d.LEGACY_BG_FIT_AND_TILE_HORIZONTAL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE_VERTICALLY",value:d.LEGACY_BG_FIT_AND_TILE_VERTICAL}],m=[{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FILL",value:d.SCALE_TO_FILL},{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FIT",value:d.SCALE_TO_FIT},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE",value:d.LEGACY_BG_FIT_AND_TILE}],g=n.transform([{label:"BGPP_SETTINGS_IMAGE_FITTING_ORIGINAL_SIZE",value:d.LEGACY_BG_NORMAL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE_HORIZONTALLY",value:d.LEGACY_BG_FIT_AND_TILE_HORIZONTAL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE_VERTICALLY",value:d.LEGACY_BG_FIT_AND_TILE_VERTICAL}],function(e,t){e[t.value]=t},{}),f=[{value:"scroll",label:"BGPP_SETTINGS_IMAGE_SCROLL_NONE",symbolName:"thumb-none"},{value:"parallax",label:"BGPP_SETTINGS_IMAGE_SCROLL_PARALLAX",symbolName:"scroll-fx-site-bg-parallax"},{value:"fixed",label:"BGPP_SETTINGS_IMAGE_SCROLL_FREEZE",symbolName:"scroll-fx-site-bg-freeze"}],h=[{value:"scroll",label:"BGPP_SETTINGS_IMAGE_SCROLL_NONE",symbolName:"thumb-none"},{value:"fixed",label:"BGPP_SETTINGS_IMAGE_SCROLL_FREEZE",symbolName:"scroll-fx-site-bg-freeze"}],b=[{label:"BGPP_SETTINGS_IMAGE_FITTING_SCALE_TO_FILL",value:d.SCALE_TO_FILL},{label:"BGPP_SETTINGS_IMAGE_FITTING_TILE",value:d.LEGACY_BG_FIT_AND_TILE}],y=[d.LEGACY_BG_FIT_AND_TILE,d.LEGACY_BG_FIT_AND_TILE_HORIZONTAL,d.LEGACY_BG_FIT_AND_TILE_VERTICAL],P={opacity:1,fittingType:d.SCALE_TO_FILL,alignType:"center",scrollType:"scroll"};return t({displayName:"bgImageSettingsPanel",mixins:[e.mixins.editorAPIMixin,a.linkColorPickerMixin],childContextTypes:{reportUIChange:o.func},getInitialState:function(){return this.lastScrollingType=null,{}},shouldComponentUpdate:function(e){var t=this.getEditorAPI(),o=e.getData();return!(!o.ref.mediaRef||"Image"!==o.ref.mediaRef.type)||(t.panelManager.closePanelByName(e.panelName),!1)},getChildContext:function(){return{reportUIChange:this.onUIChange}},onUIChange:function(e){"slider"===e&&this.props.undoHandler(this.props.undoOrigins.IMAGE_PANEL)},linkedBackgroundData:function(e,t,o){return{value:void 0===t[o]?P[o]:t[o],requestChange:function(n){"scrollType"===o&&"parallax"===n&&(t.fittingType=this.getFittingTypeForParallax(e)),"scrollType"===o&&n!==t.scrollType&&this.getEditorAPI().bi.event(r.events.BG_IMAGE_SETTINGS_PANEL_SCROLL_EFFECT,{scroll_type:n}),t[o]=n,this.props.requestChange(e,this.props.undoOrigins.IMAGE_PANEL),c(this.getEditorAPI())}.bind(this)}},linkedBackgroundOpacityData:function(e,t,o){var n=void 0===t[o]?P[o]:t[o];return n*=100,{value:n,requestChange:function(n){n/=100,t[o]=n,this.props.requestChange(e),c(this.getEditorAPI())}.bind(this)}},linkedBackgroundColor:function(e,t,o){return{value:t[o].replace(/[\{\}]/g,""),requestChange:function(n){t[o]=/color_/.test(n)?"{"+n+"}":n,this.props.requestChange(e),c(this.getEditorAPI())}.bind(this)}},getColorPickerProps:function(){return{useMouseEvent:!0,colorResolver:this.resolveColor,openColorPicker:this.openColorPicker,previewOnHover:!0}},getFittingOptions:function(e){return"parallax"===e?b:this.getEditorAPI().isMobileEditor()&&l.isOpen("se_mobileBgFixed")?this.getFittingMobileOptions():u},getFittingMobileOptions:function(){var e=n.get(this.props.getData(),["ref","fittingType"]),t=g[e];return t?n.union(m,[t]):m},getEffectsThumbOptions:function(){return this.getEditorAPI().isMobileEditor()?h:f},getFittingTypeForParallax:function(e){var t=e.ref.fittingType,o=e.ref.mediaRef,i=d.LEGACY_BG_FIT_AND_TILE,a=d.SCALE_TO_FILL,r=p.isSmallerFromContainer(o.width,o.height,600,600);return n.includes(y,t)||r&&t!==a?i:a},render:s})}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel.rt",["react","lodash","baseUI","baseUILib","symbols","panels","util"],function(e,t,o,n,i,a,r){return function(){function i(e,o){var n=t.assign({},e,o);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(n.className=o.className+" "+e.className),n}function s(t,n,i,a){return e.createElement(o.dropDown.option,{key:"playbackOption"+a,value:i.value},i.label,"\n                \n            ")}function l(){var l=this.props.getData(),c=r.translate;return e.createElement(a.frames.bgSubPanelFrame,i({helpId:"7f54f04e-6e0b-4f73-96e2-6c98dd28e822",className:"background-video-settings-panel background-sub-panel",label:"BGPP_SETTINGS_VIDEO_PANEL_HEADER_TITLE"},t.omit(this.props,"children")),e.createElement(n.CustomScroll,{},e.createElement("div",{className:"bg-video-settings-panel-scrollbox bg-settings-panel-scrollbox"},e.createElement("div",{className:"background-video-patterns-control"},e.createElement(o.thumbnails,{radioType:"class",valueLink:this.linkedPatternOption(l,l.ref.imageOverlay),maxThumbsPerRow:"4",title:"BGPP_SETTINGS_VIDEO_OVERLAY_PATTERN_TITLE",options:this.thumbPatternOptions}),l.ref.imageOverlay?e.createElement(o.buttonsGroup,{className:"overlay-pattern-btn-group",valueLink:this.applyInversePattern(l,l.ref.imageOverlay),options:this.getInvertPatternOption(),key:"inversePattern"}):null),e.createElement(n.Divider,{long:!0}),e.createElement(o.toggle,{valueLink:this.applyOverlayColor(l),label:"BGPP_SETTINGS_VIDEO_OVERLAY_COLOR_TITLE"}),this.isColorOverlay(l)?e.createElement(n.Divider,{long:!1,key:"color-picker-input-divider"}):null,this.isColorOverlay(l)?e.createElement(o.colorPickerInputWithOpacity,t.assign({},{ref:"bgColorPickerInput",key:"color-picker-input",label:"BGPP_SETTINGS_VIDEO_COLOR_OPACITY_TITLE",valueLink:this.linkColorWithOpacity(l,l.ref)},this.getColorPickerProps())):null,e.createElement(n.Divider,{long:!0}),e.createElement(o.sectionDividerLabeled,{label:"BGPP_SETTINGS_VIDEO_PLAYBACK_SECTION_TITLE"}),this.getEditorAPI().isDesktopEditor()?e.createElement(n.Divider,{long:!0,key:"whptoDividerImageDesc"}):null,e.createElement.apply(this,[o.dropDown.select,{valueLink:this.linkedBackgroundData(l,l.ref.mediaRef,"playbackSpeed"),label:r.translate("BGPP_SETTINGS_VIDEO_PLAYBACK_TITLE"),shouldTranslate:!1},t.map(this.getPlaybackOptions(),s.bind(this,l,c))]),e.createElement(n.Divider,{long:!0}),e.createElement(o.toggle,{valueLink:this.linkedBackgroundData(l,l.ref.mediaRef,"loop"),label:"BGPP_SETTINGS_VIDEO_LOOP_TITLE"}))))}return l.apply(this,[])}}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel",["create-react-class","prop-types","core","lodash","panelUtils","util","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel.rt"],function(e,t,o,n,i,a,r){function s(e,t){var o=e.getUserPreferences(),n=e.documentServices.pages.getPrimaryPageId();o.session.set("bg_video_settings_pattern_state_"+n,t)}function l(e){var t=e.getUserPreferences(),o=e.documentServices.pages.getPrimaryPageId();t.session.set("bg_video_settings_data_changed_"+o,!0)}function c(e){return e===m}function p(e,t){var o;if(!e.ref.imageOverlay){var i=t.documentServices.pages.getPrimaryPageId();return o=t.getUserPreferences().session.get("bg_video_settings_pattern_state_"+i),o?m:u}return n.find(u,{uri:e.ref.imageOverlay.uri})?u:m}for(var d=[{value:null,className:"v-overlay-pat-0-icon"},{value:"",className:"v-overlay-pat-1-icon"},{value:"",className:"v-overlay-pat-2-icon"},{value:"",className:"v-overlay-pat-3-icon"},{value:"",className:"v-overlay-pat-4-icon"},{value:"",className:"v-overlay-pat-5-icon"},{value:"",className:"v-overlay-pat-6-icon"},{value:"",className:"v-overlay-pat-7-icon"}],u=[{uri:"0da768_8b89980121844d37be099f0dbe33e3e3.png",width:6,height:6},{uri:"0da768_4371c7e64a49489bb88c536f515f2040.png",width:6,height:6},{uri:"0da768_361994b0f154464682a0aaf9724471cc.png",width:56,height:56},{uri:"0da768_880a3209e3744cd0a96b66835a01b8c5.png",width:256,height:256},{uri:"0da768_2729bfbce3874276a7dd057098f93949.png",width:6,height:6},{uri:"0da768_8fae2cc5b7bf477fb13faa1f2582dbd2.png",width:4,height:6},{uri:"0da768_2326357be59441978a570bec687a94d0.png",width:3,height:3}],m=[{uri:"0da768_5810e2bd76f64c77a67904ad2b073444.png",width:6,height:6},{uri:"0da768_46b55443eb984c0eacfbdcb1b67a2b7b.png",width:6,height:6},{uri:"0da768_d3e25a05cedd404f807528f6a4750388.png",width:56,height:56},{uri:"0da768_95dbd595356148718d5876246a20fe90.png",width:256,height:256},{uri:"0da768_0ffcd1b0986d43b4aaa061b8b17d4040.png",width:6,height:6},{uri:"0da768_0c0d2dc79bc14f6b8275c3b72fec1ab6.png",width:4,height:6},{uri:"0da768_09a75bbb10944eafb4539206b6a3c615.png",width:3,height:3}],g=0;g<u.length;g++)u[g].type="Image",m[g].type="Image";var f=[{value:.25,label:"0.25x"},{value:.5,label:"0.50x"},{value:1,label:a.translate("BGPP_SETTINGS_VIDEO_PLAYBACK_NORMAL")},{value:1.25,label:"1.25x"},{value:1.5,label:"1.50x"},{value:2,label:"2.00x"}],h=[{value:!1,label:"BGPP_SETTINGS_VIDEO_OVERLAY_PATTERN_DARKER"},{value:!0,label:"BGPP_SETTINGS_VIDEO_OVERLAY_PATTERN_LIGHTER"}],b={loop:!0,uri:null,colorOverlay:"#ffffff",colorOverlayOpacity:.2,scrollType:"scroll",playbackSpeed:1};return e({displayName:"bgVideoSettingsPanel",mixins:[o.mixins.editorAPIMixin,i.linkColorPickerMixin],propTypes:{getData:t.func,undoHandler:t.func,requestChange:t.func,undoOrigins:t.shape({VIDEO_PANEL:t.object})},childContextTypes:{reportUIChange:t.func},getInitialState:function(){this.lastColor="",this.lastColorOpacity=null;var e=this.props.getData();return this.currentPatterns=p(e,this.getEditorAPI()),this.patternState=c(this.currentPatterns),this.thumbPatternOptions=this.fillThumbPatternOptions(this.currentPatterns),null},getChildContext:function(){return{reportUIChange:this.onUIChange}},onUIChange:function(e){"slider"===e.toLowerCase()&&this.props.undoHandler(this.props.undoOrigins.VIDEO_PANEL)},linkedPatternOption:function(e,t){return{value:t&&t.uri||null,requestChange:function(t){if(t){var o=n.find(this.currentPatterns,{uri:t});this.patternState=c(this.currentPatterns),e.ref.imageOverlay=e.ref.imageOverlay||{},n.assign(e.ref.imageOverlay,o)}else e.ref.imageOverlay=null;s(this.getEditorAPI(),this.patternState),this.props.requestChange(e,this.props.undoOrigins.VIDEO_PANEL),l(this.getEditorAPI())}.bind(this)}},applyInversePattern:function(e,t){return{value:this.patternState,requestChange:function(o){var i=n.findIndex(this.currentPatterns,{uri:t.uri});this.currentPatterns=o?m:u,this.fillThumbPatternOptions(this.currentPatterns),n.assign(e.ref.imageOverlay,this.currentPatterns[i]),this.patternState=o,s(this.getEditorAPI(),o),this.props.requestChange(e,this.props.undoOrigins.VIDEO_PANEL),l(this.getEditorAPI())}.bind(this)}},isColorOverlay:function(e){return!n.isEmpty(e.ref.colorOverlay)&&n.isNumber(e.ref.colorOverlayOpacity)},applyOverlayColor:function(e){return{value:this.isColorOverlay(e),requestChange:function(t){t?(e.ref.colorOverlay=this.lastColor?this.lastColor:e.ref.color,e.ref.colorOverlayOpacity=n.isNumber(this.lastColorOpacity)?this.lastColorOpacity:b.colorOverlayOpacity):(this.lastColor=e.ref.colorOverlay,this.lastColorOpacity=e.ref.colorOverlayOpacity,e.ref.colorOverlay="",e.ref.colorOverlayOpacity=0),this.props.requestChange(e,this.props.undoOrigins.VIDEO_PANEL),l(this.getEditorAPI())}.bind(this)}},linkColorWithOpacity:function(e,t){return{value:{color:t.colorOverlay.replace(/[\{\}]/g,""),alpha:t.colorOverlayOpacity},requestChange:function(o){t.colorOverlay=/color_/.test(o.color)?"{"+o.color+"}":o.color,t.colorOverlayOpacity=o.alpha,this.props.requestChange(e),l(this.getEditorAPI())}.bind(this)}},getColorPickerProps:function(){return{colorResolver:this.resolveColor,openColorPicker:this.openColorPicker,previewOnHover:!0,useMouseEvent:!0,enableHistory:!0}},shouldComponentUpdate:function(e){var t=e.getData(),o=this.getEditorAPI();return!(!t.ref.mediaRef||"WixVideo"!==t.ref.mediaRef.type)||(o.panelManager.closePanelByName(e.panelName),!1)},linkedBackgroundData:function(e,t,o){return{value:t&&void 0!==t[o]?t[o]:b[o],requestChange:function(n){t[o]=n,this.props.requestChange(e,this.props.undoOrigins.VIDEO_PANEL),l(this.getEditorAPI())}.bind(this)}},getPlaybackOptions:function(){return f},fillThumbPatternOptions:function(e){return n.forEach(e,function(t,o){d[o+1].value=e[o].uri}),d},getInvertPatternOption:function(){return h},render:r})}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem.rt",["react","lodash","baseUI","baseUILib","symbols","core"],function(e,t,o,n,i,a){return function(){function r(){var r=this.props.page,s=this.initialBgData,l=this.getCurrentPageData(),c=this.getEditorAPI();return e.createElement("div",{className:t(this.getItemClassNames(r)).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("label",{className:"item-label"},s?e.createElement(n.Checkbox,{key:"normal-checkbox",value:this.state.checked,onChange:this.handleToggleChanged,disabled:this.isCurrentPage(),labelAfterSymbol:!0}):null,s?e.createElement("span",{className:"page-preview",key:"page-preview",style:this.getBgImageUrl(this.state.checked?l:s)},this.getMediaType(this.state.checked?l.ref:this.initialBgData.ref)===this.mediaTypes.VIDEO?e.createElement("div",{key:"page-preview-video-controls",className:"page-preview-video-controls"},e.createElement(o.symbol,{name:"bgVideoIndicator"})):null):null,e.createElement("span",{className:"page-name"},r.label),r.pageData&&c.pages.isHomePage(r.pageData.id)?e.createElement(i.symbol,{name:"pageItemHomeIcon",key:"isHome"}):null,r.pageData&&a.utils.tpaTypeUtils.isTPA(r.pageData)&&!a.utils.tpaTypeUtils.isTPASpecialPage(c,r.pageData)?e.createElement(i.symbol,{name:"actionButtonSpecialPages",key:"isTpaPage"}):null,r.pageData&&a.utils.blogTypeUtils.isBlogSectionPage(c,r.pageData)?e.createElement(i.symbol,{name:"actionButtonBlogPages",key:"isBlogPage"}):null,r.type.isLink?e.createElement(i.symbol,{name:"pageItemLinkIcon",key:"isLink"}):null,r.type.isDropdown?e.createElement(i.symbol,{name:"pageItemDropdownIcon",key:"isDropDown"}):null,r.isVisible?null:e.createElement(i.symbol,{name:"pageItemHideIcon",key:"isHidden"})))}return r.apply(this,[])}}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem",["react","create-react-class","prop-types","core","lodash","util","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem.rt"],function(e,t,o,n,i,a,r){var s=a.imageTransform,l=a.backgroundPanelUtils,c=l.getMediaTypes();return t({mixins:[n.mixins.editorAPIMixin,e.addons.LinkedStateMixin],displayName:"bgApplyPanelPageItem",propTypes:{page:o.object.isRequired,itemBgData:o.object,currentPageBgData:o.object,valueLink:o.func,currentPageId:o.string,isCurrentPage:o.bool,isSubMenu:o.bool,isSubMenuLast:o.bool},mediaTypes:c,getInitialState:function(){return this.initialBgData=this.props.itemBgData,{checked:this.isCurrentPage()}},componentWillReceiveProps:function(e){this.isValueChanged(e)&&this.setState({checked:e.valueLink.value})},componentStateChanged:function(){this.props.valueLink.requestChange(this.state.checked,this.props.page.pageData.id,this.initialBgData)},handleToggleChanged:function(e){this.setState({checked:e},this.componentStateChanged)},shouldComponentUpdate:function(e,t){return!this.isCurrentPage()&&(this.isCheckedStateChanged(t)||this.isValueChanged(e))},isValueChanged:function(e){return null!==e.valueLink.value&&this.props.valueLink.value!==e.valueLink.value},isCheckedStateChanged:function(e){return e.checked!==this.state.checked},isCurrentPage:function(){return this.props.isCurrentPage},getItemClassNames:function(e){return{"bg-apply-panel-item":!0,"item-hidden":!e.isVisible,"current-page":this.isCurrentPage(),"item-first-level":!this.props.isSubMenu,"item-second-level":this.props.isSubMenu,"item-second-level-last":this.props.isSubMenuLast,"item-is-page":e.type.isPage}},getMediaType:function(e){return l.getMediaType(e)},getCurrentPageData:function(){return this.props.currentPageBgData},getBgImageUrl:function(e){var t={backgroundColor:l.getColorValue(this.getEditorAPI(),e.ref.color)},o=this.getMediaType(e.ref);if(o!==c.COLOR){var n=o===c.IMAGE?e.ref.mediaRef:e.ref.mediaRef.posterImageRef,r=l.isSmallerFromContainer(n.width,n.height,50,35),p=l.getImageDisplayData(r?s.fittingTypes.TILE:s.fittingTypes.SCALE_TO_FILL,e.ref.alignType,n.uri,n.width,n.height,50,35);t.backgroundImage="url("+a.url.joinURL(l.MEDIA_URL_PREFIX,p.uri)+")",i.assign(t,p.css.container)}return t},render:r})}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel.rt",["react","lodash","util","baseUI","baseUILib","panels","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanelPageItem","symbols"],function(e,t,o,n,i,a,r,s){return function(){function n(e,o){var n=t.assign({},e,o);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(n.className=o.className+" "+e.className),n}function s(o,n,i,a,s){return e.createElement("li",{key:"page"+i+"subPage"+s},e.createElement(r,t.assign({},{valueLink:this.pagesStateChange(),ref:"page"+i+"subPage"+s},this.getSubPagesProps(a,s,n.items.length-1))))}function l(o,n,i){return e.createElement("li",{key:"page"+i},e.createElement(r,t.assign({},{valueLink:this.pagesStateChange(),ref:"page"+i},this.getPagesProps(n))),n.items&&n.items.length?e.createElement.apply(this,["ul",{key:"pageItems"},t.map(n.items,s.bind(this,o,n,i))]):null)}function c(){var r=this.props.getData();return e.createElement(a.frames.bgSubPanelFrame,n({helpId:"18df7de7-066e-49e6-b005-f01c72d4f680",className:"bg-apply-panel background-sub-panel",label:"BGPP_SETTINGS_APLLY_PANEL_HEADER_TITLE"},t.omit(this.props,"children")),e.createElement("div",{className:"bg-apply-panel-wrapper"},e.createElement("div",{className:"bg-apply-panel-description"},"\n            ",o.translate("BGPP_SETTINGS_APLLY_PANEL_DESCRIPTION"),"\n        "),e.createElement("div",{className:"bg-apply-panel-all"},e.createElement(i.Checkbox,{labelAfterSymbol:!0,value:this.state.markAllPagesDisplay,onChange:this.handleSelectAllChange,indeterminate:this.state.indeterminate,label:"BGPP_SETTINGS_APLLY_TO_ALL"})),e.createElement(i.CustomScroll,{},e.createElement("div",{className:"bg-apply-panel-scrollbox bg-settings-panel-scrollbox"},e.createElement.apply(this,["ul",{className:"bg-apply-panel-scrollbox-list"},t.map(this.siteMenuItems,l.bind(this,r))])))))}return c.apply(this,[])}}),define("rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel",["react","create-react-class","lodash","panels","util","core","pagesMenu","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel.rt"],function(e,t,o,n,i,a,r,s){function l(e,t,n,i){return t=t||[],o.forEach(e,o.bind(function(e){if(e.pageData&&(t.push(e),o.includes(n,e.pageData.id))){var a=this.getEditorAPI().mainMenu.convertPagesDataListToMenuItemsList(g.getSpecialPagesListBySectionPageOrBySibling(this.getEditorAPI(),e.pageData),i);l.call(this,a,t,n,i)}l.call(this,e.items,t,n,i)},this)),o.uniqBy(t,"id")}function c(e,t){var n,i=!1,r=t.mainMenu.getMenu(),s=t.documentServices.pages.getPagesData(),l=g.getSectionPagesIds(t,s);o.forEach(e,function(e){var c;if(e.pageData&&o.includes(l,e.pageData.id)){if(c=a.utils.tpaTypeUtils.isTPA(e.pageData),i&&c)return;n=t.mainMenu.convertPagesDataListToMenuItemsList(g.getSpecialPagesListBySectionPageOrBySibling(t,e.pageData,s),r),e.items=e.items.concat(n),c&&(i=!0)}})}function p(e){var t=e.pages.dynamicPages.getMenuItems();return o.flatMap(t,"items")}function d(e,t){var o=e.getDeviceType();return e.documentServices.pages.background.get(t,o)}function u(e,t,n,i){var a;o.forEach(i,function(i){a=i.checked?m(o.cloneDeep(n),i.pageId,t):m(o.cloneDeep(i.originalPageBgData),i.pageId,t),e.requestChange(a,null,i.pageId)}),i.length>0&&e.undoHandler(e.undoOrigins.APPLY_PANEL)}function m(e,t,o){var n=o.getDeviceType(),i=o.documentServices.pages.background.get(t,n);return e.ref.mediaRef&&i.ref.mediaRef&&e.ref.mediaRef.type===i.ref.mediaRef.type?(e.ref.mediaRef.id=i.ref.mediaRef.id,"WixVideo"===e.ref.mediaRef.type&&(e.ref.mediaRef.posterImageRef.id=i.ref.mediaRef.posterImageRef.id,e.ref.imageOverlay&&(e.ref.imageOverlay.id=i.ref.imageOverlay&&i.ref.imageOverlay.id))):e.ref.mediaRef?(delete e.ref.mediaRef.id,"WixVideo"===e.ref.mediaRef.type&&(delete e.ref.mediaRef.posterImageRef.id,e.ref.imageOverlay&&delete e.ref.imageOverlay.id)):(e.ref.mediaRef=null,e.ref.colorOverlay="",e.ref.imageOverlay=null,e.ref.scrollType="scroll"),e.ref.id=i.ref.id,e}var g=r.specialPages.menuLogic,f=i.bgPanelBiEvents;return t({displayName:"backgroundApplyPanel",mixins:[a.mixins.editorAPIMixin,i.draggableMixin,e.addons.LinkedStateMixin],getInitialState:function(){return this.selectedItems=[],this.appliedPages=[],this.currentPageId=this.getEditorAPI().documentServices.pages.getPrimaryPageId(),this.currentPageBgData=d(this.getEditorAPI(),this.currentPageId),this.siteMenuItems=this.getTrimmedMenuItems(),this.flatSitePages=this.getFlatPagesList(),this.itemsProps=this.getItemsProps(),{markAllPagesDisplay:!1,indeterminate:!1}},shouldComponentUpdate:function(e,t){return this.state.markAllPagesDisplay!==t.markAllPagesDisplay||this.state.indeterminate!==t.indeterminate||this.appliedPages.length>0},updatePages:function(){u(this.props,this.getEditorAPI(),this.currentPageBgData,this.appliedPages),this.appliedPages=[]},componentWillUnmount:function(){f.applyToOtherClosed(this.getEditorAPI(),a.bi.events.backgroundPanel.panel_apply_to_other_pages_ok,{all_pages_selected:(this.flatSitePages.length===this.selectedItems.length+1).toString(),num_unselected_pages:this.flatSitePages.length-this.selectedItems.length,num_selected_pages:this.selectedItems.length})},handleSelectAllChange:function(e){o.forEach(this.itemsProps,o.bind(function(t){var n=t.page.pageData.id;n!==this.currentPageId&&(e?o.includes(this.selectedItems,n)||(this.selectedItems.push(n),this.appliedPages.push({checked:e,originalPageBgData:t.itemBgData,pageId:n})):o.includes(this.selectedItems,n)&&(o.pull(this.selectedItems,n),this.appliedPages.push({checked:e,originalPageBgData:t.itemBgData,pageId:n})))},this)),this.setState({markAllPagesDisplay:e,indeterminate:!1},this.updatePages)},pagesStateChange:function(){var e=null;return this.flatSitePages.length===this.selectedItems.length+1&&(e=!0),0===this.selectedItems.length&&(e=!1),{value:e,requestChange:function(e,t,n){e&&t!==this.currentPageId?o.includes(this.selectedItems,t)||this.selectedItems.push(t):o.pull(this.selectedItems,t),this.appliedPages.push({checked:e,originalPageBgData:n,pageId:t});var i=this.flatSitePages.length===this.selectedItems.length+1,a=!i&&this.selectedItems.length>0;if(i!==this.state.markAllPagesDisplay||a!==this.state.indeterminate){var r={markAllPagesDisplay:i,indeterminate:a};this.setState(r,this.updatePages)}else this.updatePages()}.bind(this)}},getFlatPagesList:function(){var e=this.getEditorAPI(),t=e.documentServices.pages.getPagesData(),o=e.mainMenu.getMenuItemsTreeForMainMenu(t);o=o.concat(p(this.getEditorAPI()));var n=g.getSectionPagesIds(e,t),i=e.mainMenu.getMenu();return l.call(this,o,[],n,i)},getTrimmedMenuItems:function(){var e=this.getMenuItemsTreeWithPagesOnly();return c(e,this.getEditorAPI()),e=e.concat(p(this.getEditorAPI()))},getMenuItemsTreeWithPagesOnly:function(){var e=this.getEditorAPI(),t=function(t,o){return o&&!g.isSpecialPage(e,o)||!o&&t.items.length>0};return e.mainMenu.extendMenuItemsTreeWithPageData(e.documentServices.pages.getPagesData(),t)},getItemsProps:function(){var e=[];return o.forEach(this.flatSitePages,o.bind(function(t){e.push({page:t,currentPageId:this.currentPageId,currentPageBgData:this.currentPageBgData,itemBgData:d(this.getEditorAPI(),t.pageData.id),isCurrentPage:this.currentPageId===(t.type.isPage&&t.pageData.id)})},this)),e},getPagesProps:function(e){var t=o.find(this.itemsProps,{page:{id:e.id}});return t||(t={page:e}),t},getSubPagesProps:function(e,t,n){var i=o.find(this.itemsProps,{page:{id:e.id}});return i.isSubMenu=!0,i.isSubMenuLast=t===n,i},render:s})}),define("rEditor/rootComps/panels/siteSettings/siteSettingsPanelSimple.rt",["react","lodash","baseUI","panels"],function(e,t,o,n){return function(){return e.createElement(n.frames.focusPanelFrame,{panelName:this.props.panelName,width:"1210",height:"90%",shouldHideHeader:!0,className:"site-settings-panel"},e.createElement("iframe",{ref:"siteSettingsFrame",width:"100%",height:"100%",src:this.getSettingsIframeUrl(),frameBorder:"0"}),e.createElement(o.preloader,{className:t({hidden:!this.state.showLoader}).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")}))}}),define("rEditor/rootComps/panels/siteSettings/siteSettingsPanelSimple",["reactDOM","create-react-class","prop-types","util","core","lodash","panels","rEditor/rootComps/panels/siteSettings/siteSettingsPanelSimple.rt"],function(e,t,o,n,i,a,r,s){function l(e){return a.isObject(e)&&!a.isEmpty(e.action)&&a.isString(e.action)}function c(t){e.findDOMNode(this.refs.siteSettingsFrame).contentWindow.postMessage(JSON.stringify(t),"*")}function p(e,t){c.call(this,{isValid:t,callId:e.callId})}function d(e,t){switch(e.action){case u.GET_METATAGS:c.call(this,{payload:t.documentServices.seo.headTags.get(),callId:e.callId});break;case u.SET_METATAGS:t.documentServices.seo.headTags.set(e.value,a.noop,a.noop);break;case u.VALIDATE_METATAGS:t.documentServices.seo.headTags.clientSideValidation(e.value,p.bind(this,e,!0),p.bind(this,e,!1));break;case u.NOTIFY_SITENAME_CHANGED:t.siteName.set(e.value);break;case u.CLOSE:this.props.close();break;case u.OPEN_HELP:this.props.openHelpCenter()}}var u={CLOSE:"CLOSE",OPEN_HELP:"OPEN_HELP",SET_METATAGS:"SET_METATAGS",VALIDATE_METATAGS:"VALIDATE_METATAGS",GET_METATAGS:"GET_METATAGS",NOTIFY_SITENAME_CHANGED:"NOTIFY_SITENAME_CHANGED"},m=["https://www.wix.com","http://www.wix.com"];return t({displayName:"siteSettingsPanel",render:s,mixins:[i.mixins.editorAPIMixin],propTypes:{tab:o.string,referrer:o.string},getInitialState:function(){return{showLoader:!0}},getDefaultProps:function(){return{tab:"overview"}},componentWillMount:function(){window.addEventListener("message",this.handlePostMessage,!1)},componentWillUnmount:function(){window.removeEventListener("message",this.handlePostMessage,!1)},componentDidMount:function(){e.findDOMNode(this.refs.siteSettingsFrame).addEventListener("load",this.hideLoader)},handlePostMessage:function(e){var t=this.getEditorAPI();if(a.includes(m,e.origin)&&!a.isEmpty(e.data)&&a.isString(e.data))try{this.hideLoader();var o=JSON.parse(e.data);l(o)&&d.call(this,o,t)}catch(o){t.documentServices.bi.error(i.bi.errors.SITE_SETTINGS_JSON_PARSE_ERROR,{dsc:'message: "'+o.message+'" data: "'+e.data+'"',errscp:this.constructor.displayName})}},getSettingsIframeUrl:function(){var e=this.getEditorAPI(),t=n.serviceTopology.baseDomain,o=e.documentServices.generalInfo.getMetaSiteId(),i=this.props.referrer?"&referrer="+this.props.referrer:"";return"https://"+t+"/my-account/sites/"+o+"/site-settings/"+this.props.tab+"/?mode=editor-dialog"+i},hideLoader:function(){this.state.showLoader&&this.setState({showLoader:!1})}})}),define("rEditor/rootComps/panels/siteSettings/siteSettingsPanel",["higherOrderComponents","rEditor/rootComps/panels/siteSettings/siteSettingsPanelSimple"],function(e,t){return e.panelFrame(t)}),define("rEditor/rootComps/topBar/menuBar/menuBarItem.rt",["react","lodash","baseUI","experiment"],function(e,t,o,n){return function(){function i(e){this.props.onHover(this.props.menuItem,this.props.index)}function a(){var o=this.getCounter();return e.createElement("li",{className:t(this.getClasses()).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("a",{onClick:this.onClick,onMouseEnter:i.bind(this,o)},e.createElement("label",{className:"menu-bar-item-label","data-hint-id":n.isMultiValueExperimentOpen("editorHintsConfigs")&&this.props.hintProps?this.props.hintProps.id:null},this.props.isCheckbox?e.createElement("input",{key:"checkItemInput",ref:"checkboxInput",disabled:this.props.isDisabled&&this.props.isDisabled(),type:"checkbox",className:"menu-bar-item-checkbox","data-checked":Boolean(this.props.viewTools[this.props.menuPropsKey]),checked:this.props.viewTools[this.props.menuPropsKey],onChange:this.handleCheckChange}):null,"\n                ",this.props.label,"\n                ",e.createElement("span",{className:"shortcut"},this.props.shortcutLabel),o?e.createElement("div",{key:"counter",className:"item-counter"},o):null)))}return e.createElement(o.tooltip,{value:this.getTooltipText(),alignment:o.uiConstants.TOOLTIP.ALIGNMENT.RIGHT,disabled:!this.getTooltipText()},a.apply(this,[]))}}),define("rEditor/rootComps/topBar/menuBar/menuBarItem",["reactDOM","create-react-class","prop-types","lodash","core","rEditor/rootComps/topBar/menuBar/menuBarItem.rt"],function(e,t,o,n,i,a){return t({displayName:"menuBarItem",propTypes:{action:o.func,bi:o.oneOfType([o.array,o.object]),disabled:o.bool,isIndented:o.bool,separator:o.bool,index:o.number,editorAPI:o.object,isCheckbox:o.bool,shortcutLabel:o.string,label:o.string,menuPropsKey:o.string,closeDropDownHandle:o.func,viewTools:o.object,className:o.string,isSelected:o.bool,getCounter:o.func},componentDidUpdate:function(e){!e.isSelected&&this.props.isSelected&&this.props.onHover(this.props.menuItem,this.props.index)},getClasses:function(){var e={"menu-bar-item":!0,"menu-bar-item-action":!0,"menu-bar-item-action-selected":this.props.isSelected,"enabled-item":!this.props.disabled,"indented-item":this.props.isIndented,"menu-bar-item-separator":this.props.separator};return this.props.className&&(e[this.props.className]=!0),e},handleCheckChange:function(e){var t=e.target.checked;this.executeAction(t)},onClick:function(){this.props.isCheckbox||this.executeAction()},sendBI:function(){if(this.props.editorAPI&&this.props.bi){var e=[].concat(this.props.bi),t=this.props.editorAPI;n.forEach(e,function(e){t.bi.event(e.type,e.fields)})}},executeAction:function(t){var o=this.props.action;o&&!this.props.disabled&&(this.sendBI(),this.props.isCheckbox?o(void 0!==t?t:!e.findDOMNode(this.refs.checkboxInput).checked,!1,this.props.closeDropDownHandle):(o(),this.props.closeDropDownHandle()))},getCounter:function(){return n.isFunction(this.props.getCounter)&&this.props.getCounter()},getTooltipText:function(){return this.props.editorAPI.tooltipTextService.getSelectedComponentTooltipText(this.props.menuItem.key)},render:a})}),define("rEditor/rootComps/topBar/dropPanels/menuPanels/menuActionsPanel.rt",["react","lodash","rEditor/rootComps/topBar/menuBar/menuBarItem"],function(e,t,o){return function(){function n(n,i){return e.createElement(o,t.assign({},{ref:n.key,key:n.key,isSelected:i===this.state.selectedMenuItemIndex,menuItem:n,index:i},this.getItemProps(n)))}return e.createElement("div",{className:"menubar-actions-panel"},e.createElement.apply(this,["ul",{},t.map(this.getSelectedMenuChildren(this.props.selectedMenu),n.bind(this))]))}}),define("rEditor/rootComps/topBar/dropPanels/menuPanels/menuActionsPanel",["create-react-class","prop-types","lodash","util","panels","rEditor/rootComps/topBar/menuBar/util/menuBarItemsUtil","rEditor/rootComps/topBar/menuBar/menuBarItemsDefinitions","rEditor/rootComps/topBar/dropPanels/menuPanels/menuActionsPanel.rt"],function(e,t,o,n,i,a,r,s){return e({displayName:"menuActionsPanel",PropTypes:{selectedMenu:t.object.isRequired,onMenuItemHover:t.func,closeDropDownHandle:t.func},mixins:[i.mixins.statefulKeyboardContextMixin],keyboardShortcutsContextNamePrefix:"TOP_BAR_DROP_PANEL_",getInitialState:function(){return{selectedMenuItemIndex:null}},componentWillReceiveProps:function(e){this.props.selectedMenu.key!==e.selectedMenu.key&&this.setState({selectedMenuItemIndex:null})},getItemProps:function(e){var t=r[e.key];if(t){var n=this.isMenuItemDisabled(t,e.key),i=this.getLabel(t),a=this.props.viewTools,s={disabled:n,onHover:function(e,t){this.props.onMenuItemHover&&this.props.onMenuItemHover(e),this.setState({selectedMenuItemIndex:t})}.bind(this),label:i,closeDropDownHandle:this.props.closeDropDownHandle,viewTools:a,editorAPI:this.props.editorAPI},l=o.clone(t);return o.assign(l,s),l}return null},getSelectedMenuChildren:function(e){var t=e&&e.children||[];return t&&(t=o.filter(t,o.bind(this.isMenuBarItemShowing,this))),t},getItemVisibility:function(e){return a.shouldBeVisible(e.key)},isMenuBarItemShowing:function(e){return this.getItemVisibility(e)},getLabel:function(e){return e.labelFunc&&e.labelFunc()||e.label},isMenuItemDisabled:function(e,t){var n=this.props.editorAPI;if("PASTE"===t)return!n.clipboardContainsComp()||!n.isDesktopEditor();var i=!1;if(e.compActionRestrictionNames){var a=n.getCompRestrictions(n.selection.getSelectedComponents()),r=e.compActionRestrictionNames||[];i=i||!o.every(r,o.propertyOf(a))}return!i&&e.disabledChecker&&(i=e.disabledChecker()),i},getNumberOfMenuItems:function(){return this.getSelectedMenuChildren(this.props.selectedMenu).length},getKeyboardShortcuts:function(){var e=this,t=n.keyboardShortcuts.CONTEXTS.MENU_BAR;return n.keyboardShortcuts.extendContext(t,{up:function(t){var o,n=e.state.selectedMenuItemIndex;o=null===n||0===n?e.getNumberOfMenuItems()-1:n-1,e.setState({selectedMenuItemIndex:o}),t.preventDefault()},down:function(t){var o,n=e.state.selectedMenuItemIndex;o=null===n?0:(n+1)%e.getNumberOfMenuItems(),e.setState({selectedMenuItemIndex:o}),t.preventDefault()},enter:function(t){var o=e.state.selectedMenuItemIndex;if(null!==o){var n=e.getSelectedMenuChildren(e.props.selectedMenu)[o].key,i=e.refs[n];i.executeAction&&i.executeAction()}t.preventDefault()}})},render:s})}),define("rEditor/rootComps/topBar/dropPanels/menuPanels/promotionPanel.rt",["react","lodash","baseUI"],function(e,t,o){return function(){function t(){var t=this.props.menuKey.toLowerCase(),n=this.props.classes;return e.createElement("div",{className:"menu-bar-promotion-box",style:this.props.style,onClick:this.onClick},e.createElement("div",{className:"graphics-container "+(n.graphics||"graphics-"+t),key:t},this.props.image?e.createElement("img",{key:"promotionImage",src:this.props.image}):null,this.props.symbol?e.createElement(o.symbol,{key:"promotionSymbol",name:this.props.symbol}):null),this.props.title?e.createElement("div",{key:"title",className:n.title||"title"},this.translateIfNeeded(this.props.title)):null,this.props.message?e.createElement("div",{key:"msg",className:n.message||"message",dangerouslySetInnerHTML:{__html:this.translateIfNeeded(this.props.message)}}):null)}return t.apply(this,[])}}),define("rEditor/rootComps/topBar/dropPanels/menuPanels/promotionPanel",["create-react-class","prop-types","lodash","util","rEditor/rootComps/topBar/dropPanels/menuPanels/promotionPanel.rt"],function(e,t,o,n,i){function a(e,t){if(e&&t){var n=o.cloneDeep(t);o.forEach(n,function(t){t.fields&&t.fields.category&&(t.fields.category+="(Image)"),e.bi.event(t.type,t.fields)})}}return e({displayName:"promotionPanel",mixins:[n.translationMixin],propTypes:{menuKey:t.string.isRequired,image:t.string,symbol:t.string,title:t.string,message:t.string,action:t.func,bi:t.oneOfType([t.array,t.object]),classes:t.object,editorAPI:t.object},getDefaultProps:function(){return{classes:{}}},onClick:function(){this.props.action&&(this.props.action(null,!0),a(this.props.editorAPI,o.compact([].concat(this.props.bi))))},render:i})}),define("rEditor/rootComps/topBar/dropPanels/dropPanels",["rEditor/rootComps/topBar/dropPanels/menuPanels/menuActionsPanel","rEditor/rootComps/topBar/dropPanels/menuPanels/checkListPanel","rEditor/rootComps/topBar/dropPanels/menuPanels/promotionPanel"],function(e,t,o){return{menuActionsPanel:e,checkListPanel:t,promotionPanel:o}}),define("rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel.rt",["react","lodash","baseUI","panels","util"],function(e,t,o,n,i){return function(){return e.createElement(n.frames.focusPanelFrame,{panelName:this.props.panelName,title:"Editor Version Info",frameClassName:"editorVersionInfoPanel"},e.createElement("div",{className:"content"},e.createElement("div",{className:"row"},e.createElement("label",{},"Editor Version:"),e.createElement("span",{},this.getEditorVersion())),e.createElement("div",{className:"row"},e.createElement("label",{},"Viewer Version:"),e.createElement("span",{},this.getViewerVersion()))),e.createElement("div",{className:"panel-footer"},e.createElement(o.button,{type:"button",shouldTranslate:!1,label:"OK",className:"done-button",onClick:this.close})))}}),define("rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel",["lodash","create-react-class","core","util","jquery","rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel.rt"],function(e,t,o,n,i,a){function r(e){return e.split("/").pop()||"unknown"}return t({displayName:"editorVersionInfoPanel",panelName:"editorVersionInfoPanel",mixins:[o.mixins.editorAPIMixin],getEditorVersion:function(){return r(e.get(n,"editorModel.editorBase",""))},getViewerVersion:function(){return r(e.get(i("#preview")[0],"contentWindow.siteModel.santaBase"))},close:function(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},render:a})}),define("rEditor/rootComps/panels/applyStylePanel/applyStylePanel.rt",["react","lodash","panels","baseUI","baseUILib","util","symbols"],function(e,t,o,n,i,a,r){return function(){function n(){var n=this.props.editorAPI.addPanelInfra.designPanelLiveComponentSection;return e.createElement(o.frames.confirmationPanelFrame,{panelName:this.props.panelName,className:"apply-style-panel",onConfirm:this.onConfirm,onCancel:this.onCancel,shouldHideHeader:!0,confirmLabel:"COPY_DESIGN_APPLY",ref:"frame",cancelLabel:"COPY_DESIGN_APPLY_CANCEL"},e.createElement("header",{className:"save-publish-panel-header"},e.createElement("button",{className:"close",onClick:this.close},e.createElement(r.symbol,{name:"headerCloseButton"})),e.createElement("button",{className:"help",onClick:this.openHelpCenter,key:"help"},"?"),e.createElement("span",{className:"title"},a.translate("COPY_DESIGN_TITLE")),e.createElement("span",{className:"subtitle"},a.translate("COPY_DESIGN_DESCRIPTION_LINE1"))),e.createElement("div",{className:"panel-content"},e.createElement("div",{className:"current-style-container container-wrapper"},e.createElement("div",{className:"current-style-header header"},e.createElement("span",{className:"text"},a.translate("COPY_DESIGN_LABEL_LEFT"))),e.createElement("div",{className:"current-style comp-container"},e.createElement(n,this.getSelectedCompProps()))),e.createElement("div",{className:"applied-styles-container container-wrapper"},this.getThemeAndPersonalizeStylesToRender().length>0?e.createElement("div",{key:"applyStyleHeader",className:"applied-styles-header header"},e.createElement("span",{className:"text"}," ",a.translate("COPY_DESIGN_LABEL_RIGHT"))):null,e.createElement(i.CustomScroll,{},e.createElement("div",{className:"comp-themed-styles comp-container"},this.getThemeAndPersonalizeStylesToRender().length>0?e.createElement(n,t.assign({},{key:"appliesStylesLiveSections"},this.getThemeAndPersonalizeStylesProps())):null,0===this.getThemeAndPersonalizeStylesToRender().length?e.createElement("div",{className:"empty-styles",key:"emptyStylesKey"},e.createElement(r.symbol,{name:"nothingToEditASP"}),e.createElement("div",{className:"empty-style-text text"},a.translate("COPY_DESIGN_EMPTY_LABEL"))):null)))))}return n.apply(this,[])}}),define("rEditor/rootComps/panels/applyStylePanel/applyStylePanel",["create-react-class","lodash","core","rEditor/rootComps/panels/applyStylePanel/applyStylePanel.rt","experiment"],function(e,t,o,n,i){function a(e,n){var i=e.style||e.styleId;return t.isString(i)&&(i=o.styleManager.getStyleById(n.theme,n.components,i)),i}function r(e,n){var i=t.union([n],P[n]),a=t.map(i,function(n){return t.map(o.styleManager.getThemedStyleForComp(e.theme,e.components,n),"id")});return t(a).union().flatten().value()}function s(e,n){var i=t.map(o.styleManager.getUniqueCustomStyleList(e.theme,e.components,n),"id");return P[n]&&t.forEach(P[n],function(n){var a=t.map(o.styleManager.getUniqueCustomStyleList(e.theme,e.components,n),"id");i=i.concat(a)}),i}function l(e,n){var i=t.map(o.styleManager.getUniqueStyleList(e.theme,e.components,n),"id");return P[n]&&t.forEach(P[n],function(n){var a=t.map(o.styleManager.getUniqueStyleList(e.theme,e.components,n),"id");i=i.concat(a)}),i}function c(e){return y[e]&&y[e].compOverrideType?y[e].compOverrideType:e}function p(e,o,n,i,r,s){var l={additionalBehaviours:{iconEnabledForComps:[],infoIcon:"none",labelMode:"none"},help:{hide:!0},categoryId:n.substring(n.lastIndexOf(".")+1),hide:!1,id:o,onClick:s,onItemDrag:function(){},parentType:"ADD_PANEL",props:{compTypes:c(n),horizontalMargin:m,verticalMargin:u,scaleProportion:{x:y[n]&&y[n].scale?y[n].scale:g,y:y[n]&&y[n].scale?y[n].scale:g}},showSectionHeader:!1,stylesForSection:i,additionalScaling:1,selectedItemKey:r,getAdditionalElementProps:function(o){var n=a(o,e),i={};return t.includes(f,n.skin)?(i.text="DESIGN_LABEL_NO_COLOR",i.className="design-panel-transparent-skin-item"):t.includes(h,n.skin)&&(i.text="Design_Label_No_Frame",i.className="design-panel-no-frame-skin-item"),i}};return y[n]&&y[n].maxFontSize&&(l.props.maxFontSize=y[n].maxFontSize),l}function d(e,n){return t.filter(e,function(e){var i=o.styleManager.getStyleById(n.theme,n.components,e);return!t.includes(h,i.skin)})}var u=30,m=20,g=1,f=["wysiwyg.viewer.skins.page.TransparentPageSkin","wysiwyg.viewer.skins.screenwidthcontainer.TransparentHalfScreen","wysiwyg.viewer.skins.screenwidthcontainer.TransparentScreen","wysiwyg.viewer.skins.area.TransparentArea"],h=["wysiwyg.viewer.skins.photo.NoSkinPhoto","wysiwyg.viewer.skins.VideoSkin"],b=["wysiwyg.viewer.components.MatrixGallery","wysiwyg.viewer.components.SlideShowGallery","wysiwyg.viewer.components.SliderGallery","wysiwyg.viewer.components.PaginatedGridGallery"],y={"wysiwyg.viewer.components.HeaderContainer":{scale:.5},"wysiwyg.viewer.components.FooterContainer":{scale:.5},"wysiwyg.viewer.components.ScreenWidthContainer":{scale:.5},"mobile.core.components.Page":{compOverrideType:"pageContainer"},"wysiwyg.viewer.components.Video":{scale:.5},"wysiwyg.viewer.components.VerticalLine":{maxFontSize:10},"wysiwyg.viewer.components.FiveGridLine":{maxFontSize:10},fiveGridLineFullWidth:{maxFontSize:10},"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":{maxFontSize:10},"wysiwyg.viewer.components.AudioPlayer":{maxFontSize:10},"wysiwyg.viewer.components.menus.DropDownMenu":{maxFontSize:15},"wysiwyg.common.components.verticalmenu.viewer.VerticalMenu":{maxFontSize:15},"wysiwyg.viewer.components.SiteButton":{maxFontSize:22},"mobile.core.components.Container":{scale:.5},"core.components.Container":{scale:.5},"core.components.ContainerOBC":{scale:.5},"wysiwyg.viewer.components.BgImageStrip":{scale:.5},"wysiwyg.viewer.components.ContactForm":{scale:.5},"wysiwyg.viewer.components.DynamicContactForm":{scale:.5},"wysiwyg.common.components.subscribeform.viewer.SubscribeForm":{scale:.5},"wysiwyg.viewer.components.GoogleMap":{scale:.5},"wysiwyg.viewer.components.WPhoto":{scale:.5},"wysiwyg.viewer.components.MatrixGallery":{scale:.25,maxFontSize:12},"wysiwyg.viewer.components.SlideShowGallery":{scale:.25,maxFontSize:12},"wysiwyg.viewer.components.SliderGallery":{scale:.25,maxFontSize:12},"wysiwyg.viewer.components.PaginatedGridGallery":{scale:.25,maxFontSize:12}},P={"mobile.core.components.Container":["core.components.Container","core.components.ContainerOBC"],"core.components.Container":["mobile.core.components.Container","core.components.ContainerOBC"],"core.components.ContainerOBC":["mobile.core.components.Container","core.components.Container"]};return e({displayName:"applyStylePanel",mixins:[o.mixins.editorAPIMixin],getInitialState:function(){return{selectedItems:[]}},close:function(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName);var e=this.props.editorAPI,t=this.props.selectedComp;e.bi.event(o.bi.events.applyStyle.COPY_STYLE_CANCEL,{component_id:t.id,component_type:e.components.getType(t)})},onCancel:function(){var e=this.props.editorAPI,t=this.props.selectedComp;e.bi.event(o.bi.events.applyStyle.COPY_STYLE_CANCEL,{component_id:t.id,component_type:e.components.getType(t)})},onConfirm:function(){var e=this.props.editorAPI,n=e.components.style.getId(this.props.selectedComp),a=e.components.getType(this.props.selectedComp),r=o.styleManager.getStyleById(e.theme,e.components,n),s=this.props.selectedComp;e.bi.event(o.bi.events.applyStyle.COPY_STYLE_APPLY,{num_of_styles_chosen:this.state.selectedItems.length,component_id:s.id,component_type:e.components.getType(s)}),t.forEach(this.state.selectedItems,function(n){var s=n.split("."),l=s[s.length-1],c=l.substring(l.indexOf("_")+1),p=o.styleManager.getStyleById(e.theme,e.components,c),d=[p],u=o.styleManager.getDuplicateToStyleList(e.theme,e.components,p,a);t.forEach(P[a],function(t){var n=o.styleManager.getDuplicateToStyleList(e.theme,e.components,p,t,P[a]);u=u.concat(n)}),i.isOpen("se_studioCopyDesign")&&(u=t.filter(u,{styleType:"custom"})),d=d.concat(u),t.forEach(d,function(t){var o={skin:r.skin,style:r.style,type:t.type};e.theme.styles.update(t.id,o)})})},getSelectedCompProps:function(){var e=this.props.editorAPI,o=this.props.selectedComp,n=e.components.getType(o);return p(e,"selectedComp"+o.id,n,[{styleId:e.components.style.getId(o),compType:c(n)}],this.state.selectedItems,t.noop)},getThemeAndPersonalizeStylesProps:function(){var e=this.props.editorAPI,t=this.props.selectedComp;return p(e,"themeAndMyForComp"+t.id,e.components.getType(t),this.themeAndPersonalizedStylesToRender?this.themeAndPersonalizedStylesToRender:this.getThemeAndPersonalizeStylesToRender(),this.state.selectedItems,this.updateListOfStyleToUpdate)},getThemeAndPersonalizeStylesToRender:function(){if(this.themeAndPersonalizedStylesToRender)return this.themeAndPersonalizedStylesToRender;var e=this.props.editorAPI,n=this.props.selectedComp,a=e.components.getType(n),p=e.components.style.getId(n),u=o.styleManager.getStyleById(e.theme,e.components,p),m=[];m=d(m=i.isOpen("se_studioCopyDesign")?r(e,a):t.includes(b,a)?s(e,a):l(e,a),e);var g=[];return t.forEach(m,function(t){var n=o.styleManager.getStyleById(e.theme,e.components,t),r=t!==p&&!o.styleManager.isEqualWithoutTypeConsideration(n,u);(i.isOpen("se_studioCopyDesign")||r)&&g.push({compType:c(a),styleId:t})}),this.themeAndPersonalizedStylesToRender=g,g},updateListOfStyleToUpdate:function(e,n,i,a){var r=t.clone(this.state.selectedItems),s=a.split("."),l=s[s.length-1],c=l.substring(l.indexOf("_")+1),p=t.includes(r,a);p?t.remove(r,function(e){return e===a}):r.push(a);var d=this.props.selectedComp,u=this.props.editorAPI;u.bi.event(o.bi.events.applyStyle.COPY_STYLE_CHOOSE_STYLES_TO_REPLACE_CLICK,{style_id:c,status:!p,component_id:d.id,component_type:u.components.getType(d)}),this.setState({selectedItems:r})},openHelpCenter:function(){var e={panel_name:this.props.panelName,component:this.props.editorAPI.selection.getSelectedComponentType(),origin:o.constants.BI.HELP.ORIGIN.PANEL,learn_more:!1};this.props.editorAPI.panelManager.openHelpCenter("b853c294-8ff1-418f-b4d2-29d7b59a85c3",null,e)},render:n})}),define("rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel.rt",["react","lodash","util","baseUI","baseUILib","compPanels","helpIds"],function(e,t,o,n,i,a,r){return function(){return e.createElement(a.compPanelFrame,t.assign({},{contentClass:"box-slide-show-manage-slides-panel",title:"Regular_Slideshow_Slides_Title",helpId:r.EXTERNAL.BOX_SLIDE_SHOW_MANAGE_SLIDES},this.getFrameProps()),e.createElement(i.SortByDragList,{selectable:!0,value:this.getSlides(),selectItem:this.selectSlide,menuActionsOverrides:this.getMenuActionsOverrides(),enableEditValue:!1,enableSetAsDefault:!1,labelValidator:o.validate.notEmptyString,labelInvalidMessage:"Box_slide_show_slides_invalid_slide_name",itemMoved:this.moveSlide,duplicateItem:this.duplicateSlide,deleteItem:this.deleteSlide,itemChanged:this.changeSlideName}),e.createElement("div",{className:"button-wrapper"},e.createElement(n.button,{className:"mainButton",label:"Regular_Slideshow_Slides_Add_Duplicate_Slide",onClick:this.duplicateCurrentSlide}),e.createElement(n.button,{className:"secondaryButton btn-text",label:"Regular_Slideshow_Slides_Add_New_Slide",onClick:this.addNewSlide})))}}),define("rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel",["create-react-class","lodash","util","core","compPanels","boxSlideshow","rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel.rt"],function(e,t,o,n,i,a,r){function s(e,t){return e.components.data.get(t)[u]}function l(){return this.getEditorAPI().components.getDefaultBiParams(this.props.selectedComponent)}function c(e,t,o){var n={id:t.id,label:s(e,t),pointer:t};return n.id===o.id&&(n.selected=!0),n}function p(e,o,n){var i=d.getAllSlides(e,o);return t.map(i,function(t){return c(e,t,n)})}var d=a.utils.boxSlideShowUtils,u="title";return e({displayName:"boxSlideShowManageSlidesPanel",mixins:[i.compPanelMixin,o.translationMixin],getInitialState:function(){var e=d.findCurrentSlide(this.getEditorAPI(),this.props.selectedComponent);return this.isCurrentlyInOperation=!1,{selectedSlide:e}},componentWillMount:function(){this.slides=this.getSlides()},componentWillUpdate:function(e,t){this.slides=p(this.getEditorAPI(),this.props.selectedComponent,t.selectedSlide)},componentWillReceiveProps:function(e){this.slides=p(this.getEditorAPI(),e.selectedComponent,this.state.selectedSlide);var o=d.findCurrentSlide(this.getEditorAPI(),e.selectedComponent);t.isEqual(o,this.state.selectedSlide)||this.setState({selectedSlide:o})},getSlides:function(){return p(this.getEditorAPI(),this.props.selectedComponent,this.state.selectedSlide)},getSelectedSlideItem:function(){return t.find(this.slides,{id:this.state.selectedSlide.id})},startOperation:function(){this.getEditorAPI().preventMouseDown(),this.isCurrentlyInOperation=!0},endOperation:function(){this.getEditorAPI().allowMouseDown(),this.isCurrentlyInOperation=!1},isInOperation:function(){return this.isCurrentlyInOperation},selectSlide:function(e,o){if(!this.isInOperation()){var i=this.getEditorAPI();this.startOperation(),this.setState({selectedSlide:e.pointer},function(){i.components.behaviors.execute(this.props.selectedComponent,"moveToSlide",{slide:o},this.endOperation)}.bind(this)),d.hideQuickTip(i),d.identifyComponentsOutOfSlideshow(i,this.props.selectedComponent),i.bi.event(n.bi.events.boxSlideShow.SLIDES_NAVIGATION,t.assign({origin:"slideManager"},l.call(this)))}},moveSlide:function(e,o){if(e!==o&&!this.isInOperation()){var i=this.getEditorAPI(),a=t.findIndex(this.getSlides(),{selected:!0}),r=this.slides[e].pointer;i.components.arrangement.moveToIndex(r,o,!1),i.bi.event(n.bi.events.boxSlideShow.MANAGE_SLIDES_SLIDE_REORDERED,l.call(this)),i.documentServices.waitForChangesApplied(function(){var e=t.findIndex(this.getSlides(),{selected:!0});a!==e&&(this.startOperation(),i.components.behaviors.execute(this.props.selectedComponent,"moveToSlide",{slide:e},this.endOperation))}.bind(this))}},addSlide:function(e,o){var n=this.getEditorAPI(),i=n.components.add(t.head(this.props.selectedComponent),e);n.components.arrangement.moveToIndex(i,o,!0),this.getEditorAPI().history.add("added a slide to slide show"),n.documentServices.waitForChangesApplied(function(){var e=c(n,i,this.state.selectedSlide);this.selectSlide(e,o)}.bind(this))},duplicateSlide:function(e,t){var o=this.getEditorAPI().components.serialize(e.pointer),n={curr_slide_title:o.data[u]};o.data[u]=this.translateTemplate("Regular_Slideshow_Slides_Copy_Slide_Label",n,this.getEditorAPI()),this.addSlide(o,t+1)},duplicateCurrentSlide:function(){var e=this.getSelectedSlideItem(),t=this.slides.length;this.duplicateSlide(e,t-1),this.getEditorAPI().bi.event(n.bi.events.boxSlideShow.MANAGE_SLIDES_DUPLICATE_CURRENT_SLIDE,l.call(this))},deleteSlide:function(e,t,o){if(!(o.length<=1)){var n=this.getEditorAPI();n.components.remove(e.pointer),n.history.add("removed a slide from slide show"),n.documentServices.waitForChangesApplied(function(){var e=d.findCurrentSlide(n,this.props.selectedComponent);this.setState({selectedSlide:e})}.bind(this))}},changeSlideName:function(e){var t=e.label,o=this.getEditorAPI(),n={};n[u]=t,o.components.data.update(e.pointer,n)},addNewSlide:function(){var e=this.getEditorAPI(),t=this.getSelectedSlideItem(),o=e.components.serialize(t.pointer);o.components=[];var i=this.slides.length,a={curr_slide:i+1};o.data[u]=this.translateTemplate("Regular_Slideshow_Slides_New_Slide_Label",a,e),this.addSlide(o,i),e.bi.event(n.bi.events.boxSlideShow.MANAGE_SLIDES_ADD_NEW_SLIDE,l.call(this))},getMenuActionsOverrides:function(){return{toggleDefault:{enable:!1},toggleEditValue:{enable:!1},toggleEditLabel:{priority:3,label:o.translate("Regular_Slideshow_Slides_Rename")},duplicate:{priority:2,label:o.translate("Regular_Slideshow_Slides_Duplicate")},delete:{priority:1,label:o.translate("Regular_Slideshow_Slides_Delete"),enable:this.slides.length>1}}},render:r})}),define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem.rt",["react","lodash","baseUI","baseUILib","symbols","core"],function(e,t,o,n,i,a){return function(){function i(){var i=this.props.slide,a=this.getCurrentSlideData(),r=this.initialBgData;return e.createElement("div",{className:t(this.getItemClassNames(i)).transform(function(e,t,o){t&&e.push(o)},[]).join(" ")},e.createElement("label",{className:"item-label"},r?e.createElement(n.Checkbox,{key:"normal-checkbox",value:this.state.checked,onChange:this.handleToggleChanged,disabled:this.isCurrentSlide(),labelAfterSymbol:!0}):null,r?e.createElement("span",{className:"slide-preview",key:"slide-preview",style:this.getBgImageUrl(this.state.checked?a:r)},this.getMediaType(this.state.checked?a:r)===this.mediaTypes.VIDEO?e.createElement("div",{key:"slide-preview-video-controls",className:"slide-preview-video-controls"},e.createElement(o.symbol,{name:"bgVideoIndicator"})):null):null,e.createElement("span",{className:"slide-name"},this.props.slideTitle)))}return i.apply(this,[])}}),define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem",["react","create-react-class","prop-types","core","lodash","util","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem.rt"],function(e,t,o,n,i,a,r){var s=a.imageTransform,l=a.backgroundPanelUtils,c=l.getMediaTypes();return t({mixins:[n.mixins.editorAPIMixin,e.addons.LinkedStateMixin],displayName:"slideShowBgApplyPanelItem",propTypes:{slide:o.object.isRequired,slideTitle:o.string.isRequired,itemBgData:o.object,isCurrentSlide:o.bool,currentSlideBgData:o.object,valueLink:o.object},mediaTypes:c,getInitialState:function(){return this.origin=this.props.origin,this.initialBgData=this.props.itemBgData,{checked:this.isCurrentSlide()}},isCurrentSlide:function(){return this.props.isCurrentSlide},componentWillReceiveProps:function(e){this.isValueChanged(e)&&this.setState({checked:e.valueLink.value})},componentStateChanged:function(){this.props.valueLink.requestChange(this.state.checked,this.props.slide,this.initialBgData)},handleToggleChanged:function(e){this.setState({checked:e},this.componentStateChanged)},shouldComponentUpdate:function(e,t){return!this.isCurrentSlide()&&(this.isCheckedStateChanged(t)||this.isValueChanged(e))},isValueChanged:function(e){return null!==e.valueLink.value&&this.props.valueLink.value!==e.valueLink.value},isCheckedStateChanged:function(e){return e.checked!==this.state.checked},getItemClassNames:function(){return{"slideShow-apply-panel-item":!0,"current-slide":this.isCurrentSlide()}},getMediaType:function(e){return l.getMediaType(e)},getCurrentSlideData:function(){return this.props.currentSlideBgData},getBgStyleByBackgroundType:function(e){var t;t={backgroundColor:l.getColorValue(this.getEditorAPI(),e.color)};var o=this.getMediaType(e);if(o!==c.COLOR){var n=o===c.IMAGE?e.mediaRef:e.mediaRef.posterImageRef,r=l.isSmallerFromContainer(n.width,n.height,50,35),p=l.getImageDisplayData(r?s.fittingTypes.TILE:s.fittingTypes.SCALE_TO_FILL,e.alignType,n.uri,n.width,n.height,50,35);t.backgroundImage="url("+a.url.joinURL(l.MEDIA_URL_PREFIX,p.uri)+")",i.assign(t,p.css.container)}return t},getBgImageUrl:function(e){var t;switch(this.origin){case"strip":case"box":t=this.getBgStyleByBackgroundType(e)}return t},render:r})}),define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel.rt",["react","lodash","util","baseUI","baseUILib","panels","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem","helpIds"],function(e,t,o,n,i,a,r,s){return function(){function n(o,n){return e.createElement("li",{key:"slide"+n},e.createElement(r,t.assign({},{valueLink:this.slidesStateChange(),ref:"slide"+n},this.getSlideProps(o))))}return e.createElement(a.frames.bgSubPanelFrame,function(e,o){var n=t.assign({},e,o);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&o.hasOwnProperty("className")&&(n.className=o.className+" "+e.className),n}({helpId:s.EXTERNAL.BOX_SLIDE_SHOW_BG_APPLY,className:"slide-show-apply-panel",label:"Regular_Slideshow_Apply_Panel_Header_Title"},t.omit(this.props,"children")),e.createElement("div",{className:"slide-show-apply-panel-wrapper"},e.createElement("div",{className:"slide-show-apply-panel-description"},"\n            ",o.translate("Regular_Slideshow_Apply_Panel_Header_Description"),"\n        "),e.createElement("div",{className:"slide-show-apply-panel-all"},e.createElement(i.Checkbox,{label:"Regular_Slideshow_Apply_To_All",value:this.state.markAllSlidesDisplay,onChange:this.handleSelectAllChange,indeterminate:this.state.indeterminate,labelAfterSymbol:!0})),e.createElement(i.CustomScroll,{},e.createElement("div",{className:"slide-show-apply-panel-scrollbox slide-show-settings-panel-scrollbox"},e.createElement.apply(this,["ul",{className:"slide-show-apply-panel-scrollbox-list"},t.map(this.allSlides,n.bind(this))])))))}}),define("rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel",["create-react-class","core","lodash","boxSlideshow","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel.rt"],function(e,t,o,n,i){function a(e,t,n,i){var a;o.forEach(t,function(t){switch(a=t.checked?l(o.cloneDeep(e),t):l(o.cloneDeep(t.originalSlideBgData),t),i){case"strip":r(a,t.slide,n);break;case"box":s(a,t.slide,n)}})}function r(e,t,o){o.components.design.update(t,{background:e})}function s(e,t,o){o.components.design.update(t,{background:e})}function l(e,t){var o=t.originalSlideBgData;return e.mediaRef&&o.mediaRef&&e.mediaRef.type===o.mediaRef.type?(e.mediaRef.id=o.mediaRef.id,"WixVideo"===e.mediaRef.type&&(e.mediaRef.posterImageRef.id=o.mediaRef.posterImageRef.id,e.imageOverlay&&(e.imageOverlay.id=o.imageOverlay&&o.imageOverlay.id))):e.mediaRef?(delete e.mediaRef.id,"WixVideo"===e.mediaRef.type&&(delete e.mediaRef.posterImageRef.id,e.imageOverlay&&delete e.imageOverlay.id)):(e.mediaRef=null,e.colorOverlay="",e.imageOverlay=null),e.id=o.id,e}var c=n.utils.boxSlideShowUtils;return e({displayName:"slideShowBgApplyPanel",mixins:[t.mixins.editorAPIMixin],getAllSlides:function(){var e=this.getEditorAPI();return c.getAllSlides(e,e.selection.getSelectedComponents())},getInitialState:function(){var e=this.getEditorAPI();return this.selectedItems=[],this.appliedSlides=[],this.origin=this.props.origin,this.currentSlide=c.findCurrentSlide(e,e.selection.getSelectedComponents()),this.currentSlideBgData=this.getSlideBgData(this.currentSlide),this.allSlides=this.getAllSlides(),this.itemsProps=this.getItemsProps(),{markAllSlidesDisplay:!1,indeterminate:!1}},getSlideBgData:function(e){var t=this.getEditorAPI();switch(this.origin){case"strip":case"box":return t.components.design.get(e).background}},shouldComponentUpdate:function(e,t){return this.state.markAllSlidesDisplay!==t.markAllSlidesDisplay||this.state.indeterminate!==t.indeterminate||this.appliedSlides.length>0},handleSelectAllChange:function(e){o.forEach(this.itemsProps,o.bind(function(t){var n=t.slide,i=n.id;i!==this.currentSlide.id&&(e?o.includes(this.selectedItems,i)||(this.selectedItems.push(i),this.appliedSlides.push({checked:e,originalSlideBgData:t.itemBgData,slide:n})):o.includes(this.selectedItems,i)&&(o.pull(this.selectedItems,i),this.appliedSlides.push({checked:e,originalSlideBgData:t.itemBgData,slide:n})))},this)),this.setState({markAllSlidesDisplay:e,indeterminate:!1},this.updateSlides)},getItemsProps:function(){var e=[],t=this.getEditorAPI();return o.forEach(this.allSlides,o.bind(function(o){e.push({slide:o,slideTitle:t.components.data.get(o).title,currentSlideBgData:this.currentSlideBgData,itemBgData:this.getSlideBgData(o),isCurrentSlide:this.currentSlide.id===o.id})},this)),e},getSlideProps:function(e){var t=o.find(this.itemsProps,{slide:{id:e.id}});return t.origin=this.origin,t},updateSlides:function(){var e=this.getEditorAPI();a(this.currentSlideBgData,this.appliedSlides,e,this.origin);var n=o.assign({total_slides:this.getAllSlides().length,num_selected_slides:this.appliedSlides.length,all_slides_selected:this.state.markAllSlidesDisplay},e.components.getDefaultBiParams(e.selection.getSelectedComponents()));e.bi.event(t.bi.events.boxSlideShow.APPLY_ON_OTHER_SLIDES_SELECTED_SLIDES,n),this.appliedSlides=[]},slidesStateChange:function(){var e=null;return this.allSlides.length===this.selectedItems.length+1&&(e=!0),0===this.selectedItems.length&&(e=!1),{value:e,requestChange:function(e,t,n){var i=t.id;e&&i!==this.currentSlide.id?o.includes(this.selectedItems,i)||this.selectedItems.push(i):o.pull(this.selectedItems,i),this.appliedSlides.push({checked:e,originalSlideBgData:n,slide:t});var a=this.allSlides.length===this.selectedItems.length+1,r=!a&&this.selectedItems.length>0;if(a!==this.state.markAllSlidesDisplay||r!==this.state.indeterminate){var s={markAllSlidesDisplay:a,indeterminate:r};this.setState(s,this.updateSlides)}else this.updateSlides()}.bind(this)}},render:i})}),define("rEditor/rootComps/panels/panels",["rEditor/rootComps/panels/popup/overlaySettingsPanel/overlaySettingsPanel","rEditor/rootComps/panels/pagesAndPopupsPanel","rEditor/rootComps/panels/myMediaPanel","rEditor/rootComps/panels/backgroundPanel/backgroundPanel","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgImageSettingsPanel","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgVideoSettingsPanel","rEditor/rootComps/panels/backgroundPanel/backgroundSubPanels/bgApplyPanel","rEditor/rootComps/panels/siteSettings/siteSettingsPanel","rEditor/rootComps/topBar/dropPanels/dropPanels","rEditor/rootComps/panels/editorVersionInfoPanel/editorVersionInfoPanel","rEditor/rootComps/panels/applyStylePanel/applyStylePanel","rEditor/rootComps/panels/boxSlideShowPanels/boxSlideShowManageSlidesPanel","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanel","rEditor/rootComps/panels/boxSlideShowPanels/slideShowBgApplyPanelItem"],function(e,t,o,n,i,a,r,s,l,c,p,d,u,m){return{pagesAndPopupsPanel:t,myMediaPanel:o,backgroundPanel:n,bgImageSettingsPanel:i,bgVideoSettingsPanel:a,backgroundApplyPanel:r,siteSettingsPanel:s,topBar:{menuActionsPanel:l.menuActionsPanel,checkListPanel:l.checkListPanel,promotionPanel:l.promotionPanel},popup:{overlaySettingsPanel:e},editorVersionInfoPanel:c,applyStylePanel:p,boxSlideShowManageSlidesPanel:d,slideShowBgApplyPanel:u,slideShowBgApplyPanelItem:m}}),define("rEditor/rootComps/mixins/rootCompsMixins",["rEditor/rootComps/mixins/hiddenableMixin","rEditor/rootComps/mixins/keepInViewportMixin"],function(e,t){return{hiddenableMixin:e,keepInViewportMixin:t}}),define("rEditor",["rEditor/rootComps/editorMain","rEditor/rootComps/editor","rEditor/rootComps/panels/panels","rEditor/app/EditorAPI","rEditor/rootComps/mixins/rootCompsMixins","rEditor/rootComps/gfpp/gfppModel"],function(e,t,o,n,i,a){return{editorMain:e,editorComp:t,panels:o,EditorAPI:n,mixins:i,gfppModel:a}});
//# sourceMappingURL=rEditor.min.js.map